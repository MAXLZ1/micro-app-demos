var m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w={},y=m&&m.__spreadArrays||function(){for(var o=0,r=0,t=arguments.length;r<t;r++)o+=arguments[r].length;for(var a=Array(o),l=0,r=0;r<t;r++)for(var h=arguments[r],p=0,c=h.length;p<c;p++,l++)a[l]=h[p];return a};Object.defineProperty(w,"__esModule",{value:!0});function E(o){var r=o.prototype&&o.prototype.constructor===o&&Object.getOwnPropertyNames(o.prototype).length>1,t=!r&&o.toString(),a=/^function\s+[A-Z]/;return r||a.test(t)||t.slice(0,5)==="class"}function I(o){return o&&typeof o=="function"&&!E(o)}var S=function(){function o(r){r===void 0&&(r={}),this.multiMode=!1,this.eventListeners={},this.timeoutIds=[],this.intervalIds=[],this.propertyAdded={},this.originalValues={};var t=r.multiMode;window.Proxy||(console.warn("proxy sandbox is not support by current browser"),this.sandboxDisabled=!0),this.multiMode=t,this.sandbox=null}return o.prototype.createProxySandbox=function(r){var t=this,a=this,l=a.propertyAdded,h=a.originalValues,p=a.multiMode,c=Object.create(null),d=window,x=window.addEventListener,P=window.removeEventListener,A=window.setInterval,L=window.setTimeout;c.addEventListener=function(n,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.eventListeners[n]=t.eventListeners[n]||[],t.eventListeners[n].push(e),x.apply(d,y([n,e],i))},c.removeEventListener=function(n,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var u=t.eventListeners[n]||[];return u.includes(e)&&u.splice(u.indexOf(e),1),P.apply(d,y([n,e],i))},c.setTimeout=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=L.apply(void 0,n);return t.timeoutIds.push(i),i},c.setInterval=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=A.apply(void 0,n);return t.intervalIds.push(i),i};var v=new Proxy(c,{set:function(n,e,i){return d.hasOwnProperty(e)?h.hasOwnProperty(e)||(h[e]=d[e]):l[e]=i,p||(d[e]=i),n[e]=i,!0},get:function(n,e){if(e!==Symbol.unscopables){if(["top","window","self","globalThis"].includes(e))return v;if(e==="hasOwnProperty")return function(g){return!!n[g]||d.hasOwnProperty(g)};var i=n[e];if(i!==void 0)return i;var s=r&&r[e];if(s)return s;var u=d[e];if(e==="eval")return u;if(I(u)){var f=u.bind(d);for(var b in u)f[b]=u[b];return f}else return u}},has:function(n,e){return e in n||e in d}});this.sandbox=v},o.prototype.getSandbox=function(){return this.sandbox},o.prototype.getAddedProperties=function(){return this.propertyAdded},o.prototype.execScriptInSandbox=function(r){if(!this.sandboxDisabled){this.sandbox||this.createProxySandbox();try{var t="with (sandbox) {;"+r+`
}`,a=new Function("sandbox",t).bind(this.sandbox);a(this.sandbox)}catch(l){throw console.error("error occurs when execute script in sandbox: "+l),l}}},o.prototype.clear=function(){var r=this;this.sandboxDisabled||(Object.keys(this.eventListeners).forEach(function(t){(r.eventListeners[t]||[]).forEach(function(a){window.removeEventListener(t,a)})}),this.timeoutIds.forEach(function(t){return window.clearTimeout(t)}),this.intervalIds.forEach(function(t){return window.clearInterval(t)}),Object.keys(this.originalValues).forEach(function(t){window[t]=r.originalValues[t]}),Object.keys(this.propertyAdded).forEach(function(t){delete window[t]}))},o}(),M=w.default=S;const O="https://maxlz1.github.io/micro-app-demos/icestark-demo/vue2-child",T="https://maxlz1.github.io/micro-app-demos/icestark-demo/react-child",j="https://maxlz1.github.io/micro-app-demos/icestark-demo/vite-child",V=[{name:"vue2App",activePath:["/vue2App"],url:[`${O}/js/app.js`],hashType:!0},{name:"reactApp",activePath:["/reactApp"],url:[`${T}/static/js/app.bundle.js`],hashType:!0},{name:"viteApp",activePath:["/viteApp"],entry:j,hashType:!0,loadScriptMode:"import"}];export{M as _,V as a,m as c,w as l,T as r,O as v};
