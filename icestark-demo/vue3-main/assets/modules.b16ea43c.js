import{c as M,l as Q}from"./appData.eaeda9bb.js";var J={},B={},O={};Object.defineProperty(O,"__esModule",{value:!0});O.noteGlobalProps=O.getGlobalProp=void 0;var I,G,$,V=[],x=typeof navigator<"u"&&navigator.userAgent.indexOf("Trident")!==-1;function Y(r,f){return!f.hasOwnProperty(r)||!isNaN(r)&&r<f.length||x&&f[r]&&typeof window<"u"&&f[r].parent===window}function ee(r){var f=0,m;for(var b in r)if(!Y(b,r)){if(f===0&&b!==I||f===1&&b!==G)return b;f++,m=b}if(m!==$)return m;for(var b in r)V.includes(b)||(m=b);return m}O.getGlobalProp=ee;function ne(r){I=void 0,G=void 0,V=Object.keys(r);for(var f in r)Y(f,r)||(I?G||(G=f):I=f,$=f);return $}O.noteGlobalProps=ne;Object.defineProperty(B,"__esModule",{value:!0});var X=O,te=function(){function r(){this.importTask={}}return r.prototype.load=function(f,m){m===void 0&&(m=window.fetch);var b=f.url,L=f.name;if(this.importTask[L])return this.importTask[L];var _=Array.isArray(b)?b:[b],S=Promise.all(_.map(function(w){return m(w).then(function(h){return h.text()}).then(function(h){return h+` 
 //# sourceURL=`+w})}));return this.importTask[L]=S,S},r.prototype.removeTask=function(f){delete this.importTask[f]},r.prototype.clearTask=function(){this.importTask={}},r.prototype.execModule=function(f,m,b){return this.load(f).then(function(L){var _=null;m!=null&&m.getSandbox?(m.createProxySandbox(b),_=m.getSandbox()):_=window;var S=f.name,w="";try{L.forEach(function(P,j){var R=j===L.length-1;R&&X.noteGlobalProps(_),m!=null&&m.execScriptInSandbox?m.execScriptInSandbox(P):(0,eval)(P),R&&(w=X.getGlobalProp(_))})}catch(P){console.error(P)}var h=w?_[w]:_[S]||{};return _[w]&&delete _[w],h})},r}();B.default=te;var A={},T={};Object.defineProperty(T,"__esModule",{value:!0});T.any2AnyArray=void 0;T.any2AnyArray=function(r){return Array.isArray(r)?r:[r]};var z;function re(){if(z)return A;z=1;var r=M&&M.__assign||function(){return r=Object.assign||function(v){for(var d,o=1,n=arguments.length;o<n;o++){d=arguments[o];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(v[u]=d[u])}return v},r.apply(this,arguments)},f=M&&M.__awaiter||function(v,d,o,n){function u(e){return e instanceof o?e:new o(function(a){a(e)})}return new(o||(o=Promise))(function(e,a){function l(c){try{i(n.next(c))}catch(g){a(g)}}function t(c){try{i(n.throw(c))}catch(g){a(g)}}function i(c){c.done?e(c.value):u(c.value).then(l,t)}i((n=n.apply(v,d||[])).next())})},m=M&&M.__generator||function(v,d){var o={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},n,u,e,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(i){return function(c){return t([i,c])}}function t(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,u&&(e=i[0]&2?u.return:i[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,i[1])).done)return e;switch(u=0,e&&(i=[i[0]&2,e.value]),i[0]){case 0:case 1:e=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,u=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(e=o.trys,!(e=e.length>0&&e[e.length-1])&&(i[0]===6||i[0]===2)){o=0;continue}if(i[0]===3&&(!e||i[1]>e[0]&&i[1]<e[3])){o.label=i[1];break}if(i[0]===6&&o.label<e[1]){o.label=e[1],e=i;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(i);break}e[2]&&o.ops.pop(),o.trys.pop();continue}i=d.call(v,o)}catch(c){i=[6,c],u=0}finally{n=e=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(A,"__esModule",{value:!0}),A.parseRuntime=A.parseImmediately=A.fetchRuntimeJson=A.cacheDeps=A.updateRuntimeState=A.execute=void 0;var b=Q,L=T,_=Z();(function(){if(typeof window.CustomEvent=="function")return!1;function v(d,o){o=o||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(d,o.bubbles,o.cancelable,o.detail),n}window.CustomEvent=v})();var S={};function w(v,d,o){o===void 0&&(o=new b.default({multiMode:!0})),o.createProxySandbox(d),L.any2AnyArray(v).forEach(function(u){return o.execScriptInSandbox(u)});var n=o.getAddedProperties();return o.clear(),n}A.execute=w;function h(v,d){S[v]||(S[v]={}),S[v].state=d}A.updateRuntimeState=h;function P(v,d,o){var n,u,e;return o===void 0&&(o=window.fetch),f(this,void 0,void 0,function(){var a,l,t,i,c,g,s,p;return m(this,function(E){switch(E.label){case 0:return a=v.id,l=v.url,t=a,((n=S[t])===null||n===void 0?void 0:n.state)!=="LOADING"?[3,2]:[4,new Promise(function(y){return window.addEventListener(t,y)})];case 1:E.sent(),E.label=2;case 2:if(((u=S[t])===null||u===void 0?void 0:u.state)==="LOADED")return[2,(e=S[t])===null||e===void 0?void 0:e.deps];h(t,"LOADING"),i=_.parseUrlAssets(l),c=i.cssList,g=i.jsList,Promise.all(c.map(function(y){return _.appendCSS("runtime-"+a,y)})),E.label=3;case 3:return E.trys.push([3,5,,6]),s=S[t],[4,Promise.all(g.map(function(y){return o(y).then(function(k){return k.text()})})).then(function(y){return w(y,d)})];case 4:return s.deps=E.sent(),h(t,"LOADED"),window.dispatchEvent(new CustomEvent(t,{detail:{state:"LOADED"}})),[2,S[t].deps];case 5:return p=E.sent(),h(t,"LOAD_ERROR"),window.dispatchEvent(new CustomEvent(t,{detail:{state:"LOAD_ERROR"}})),console.error("[icestark module] "+a+" fetch or excute js assets error",p),[2,Promise.reject(p)];case 6:return[2]}})})}A.cacheDeps=P;function j(v,d){return d===void 0&&(d=window.fetch),/.json/.test(v)||console.warn("[icestark-module] runtime url should be a json file."),d(v).then(function(o){return o.json()})}A.fetchRuntimeJson=j;function R(v,d){return d===void 0&&(d=window.fetch),f(this,void 0,void 0,function(){var o=this;return m(this,function(n){switch(n.label){case 0:return[4,v.reduce(function(u,e){return f(o,void 0,void 0,function(){var a,l;return m(this,function(t){switch(t.label){case 0:return[4,u];case 1:return a=t.sent(),l=[r({},a)],[4,P(e,a,d)];case 2:return[2,r.apply(void 0,l.concat([t.sent()]))]}})})},Promise.resolve({}))];case 1:return[2,n.sent()]}})})}A.parseImmediately=R;function D(v,d){return d===void 0&&(d=window.fetch),f(this,void 0,void 0,function(){var o;return m(this,function(n){switch(n.label){case 0:return v?typeof v!="string"?[3,2]:[4,j(v,d)]:[2,null];case 1:return o=n.sent(),[2,R(o)];case 2:return Array.isArray(v)?[2,R(v)]:[2]}})})}return A.parseRuntime=D,A}var F;function Z(){return F||(F=1,function(r){var f=M&&M.__assign||function(){return f=Object.assign||function(n){for(var u,e=1,a=arguments.length;e<a;e++){u=arguments[e];for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(n[l]=u[l])}return n},f.apply(this,arguments)},m=M&&M.__awaiter||function(n,u,e,a){function l(t){return t instanceof e?t:new e(function(i){i(t)})}return new(e||(e=Promise))(function(t,i){function c(p){try{s(a.next(p))}catch(E){i(E)}}function g(p){try{s(a.throw(p))}catch(E){i(E)}}function s(p){p.done?t(p.value):l(p.value).then(c,g)}s((a=a.apply(n,u||[])).next())})},b=M&&M.__generator||function(n,u){var e={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},a,l,t,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(s){return function(p){return g([s,p])}}function g(s){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,l&&(t=s[0]&2?l.return:s[0]?l.throw||((t=l.return)&&t.call(l),0):l.next)&&!(t=t.call(l,s[1])).done)return t;switch(l=0,t&&(s=[s[0]&2,t.value]),s[0]){case 0:case 1:t=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,l=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(t=e.trys,!(t=t.length>0&&t[t.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!t||s[1]>t[0]&&s[1]<t[3])){e.label=s[1];break}if(s[0]===6&&e.label<t[1]){e.label=t[1],t=s;break}if(t&&e.label<t[2]){e.label=t[2],e.ops.push(s);break}t[2]&&e.ops.pop(),e.trys.pop();continue}s=u.call(n,e)}catch(p){s=[6,p],l=0}finally{a=t=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(r,"__esModule",{value:!0}),r.unmoutModule=r.mountModule=r.loadModule=r.getImportedModule=r.getAllImportedModules=r.getModules=r.removeCSS=r.appendCSS=r.parseUrlAssets=r.registerModules=r.registerModule=r.clearModules=r.removeModule=r.registerRuntimes=r.moduleLoader=void 0;var L=Q,_=B,S=re(),w=[],h={},P={},j=/\.css(\?((?!\.js$).)+)?$/;r.moduleLoader=new _.default,r.registerRuntimes=function(n){return S.parseRuntime(n)},r.removeModule=function(n){w=w.filter(function(u){return u.name!==n}),delete h[n],r.moduleLoader.removeTask(n)},r.clearModules=function(){w=[],h={},r.moduleLoader.clearTask()},r.registerModule=function(n){if(!n.url&&!n.render){console.error("[icestark module] url and render cannot both be empty. name: %s",n.name);return}var u=w.filter(function(e){return e.name===n.name}).length;u&&r.removeModule(n.name),w.push(n)},r.registerModules=function(n){n.forEach(function(u){return r.registerModule(u)})};var R=function(n){return(n||[]).filter(function(u){return P[u]?(P[u]+=1,!1):(P[u]=1,!0)})},D=function(n){return(n||[]).filter(function(u){return P[u]>1?(P[u]-=1,!1):(delete P[u],!0)})};function v(n,u){var e=null;if(u||n)if(n)if(typeof n=="function")e=new n;else{var a=typeof n=="boolean"?{}:n;e=new L.default(a)}else e=new L.default;return e}r.parseUrlAssets=function(n){var u=[],e=[];return(Array.isArray(n)?n:[n]).forEach(function(a){var l=j.test(a);l?e.push(a):u.push(a)}),{jsList:u,cssList:e}};function d(n,u,e){return e===void 0&&(e=document.getElementsByTagName("head")[0]),new Promise(function(a,l){e||l(new Error("no root element for css assert: "+u));var t=document.createElement("link");t.setAttribute("module",n),t.rel="stylesheet",t.href=u,t.addEventListener("error",function(){return console.error("css asset loaded error: "+u),a()},!1),t.addEventListener("load",function(){return a()},!1),e.appendChild(t)})}r.appendCSS=d;function o(n,u,e){var a=(u||document).querySelectorAll("link[module="+n+"]");a.forEach(function(l){(e&&e.includes(l.getAttribute("href"))||!e)&&l.parentNode.removeChild(l)})}r.removeCSS=o,r.getModules=function(){return w||[]},r.getAllImportedModules=function(){return h},r.getImportedModule=function(n){if(typeof n!="string"){console.error("[icestark-module]: should be string, but get "+typeof n);return}return h[n]},r.loadModule=function(n,u){return m(void 0,void 0,void 0,function(){var e,a,l,t,i,c,g,s,p,E,y,k,q,N,H,K,U;return b(this,function(C){switch(C.label){case 0:return e=n.name,a=n.url,l=n.runtime,t=null,h[e]?[3,4]:(i=null,l?[4,S.parseRuntime(l)]:[3,2]);case 1:i=C.sent(),C.label=2;case 2:return c=r.parseUrlAssets(a),g=c.jsList,s=c.cssList,t=v(u,i),[4,r.moduleLoader.execModule({name:e,url:g},t,i)];case 3:p=C.sent(),h[e]={moduleInfo:p,moduleSandbox:t,moduleCSS:s},C.label=4;case 4:return E=h[e],y=E.moduleInfo,k=E.moduleCSS,y?(N=n.mount||(y==null?void 0:y.mount),H=n.unmount||(y==null?void 0:y.unmount),K=y.default||y,(!N||!H)&&console.error("[icestark module] Please export mount/unmount function"),U=R(k),U.length?[4,Promise.all(U.map(function(W){return d(e,W)}))]:[3,6]):(q="load or exec module faild",console.error(q),[2,Promise.reject(new Error(q))]);case 5:C.sent(),C.label=6;case 6:return typeof y.component<"u"&&console.warn("[icestark module] The export function name called component is conflict, please change it or it will be ignored."),[2,f(f({},y),{mount:N,unmount:H,component:K})]}})})},r.mountModule=function(n,u,e,a){return e===void 0&&(e={}),m(void 0,void 0,void 0,function(){var l,t,i;return b(this,function(c){switch(c.label){case 0:return[4,r.loadModule(n,a)];case 1:return l=c.sent(),t=l.mount,i=l.component,[2,t(i,u,e)]}})})},r.unmoutModule=function(n,u){var e,a,l,t=n.name,i=(e=h[t])===null||e===void 0?void 0:e.moduleInfo,c=(a=h[t])===null||a===void 0?void 0:a.moduleSandbox,g=n.unmount||(i==null?void 0:i.unmount),s=D((l=h[t])===null||l===void 0?void 0:l.moduleCSS);if(o(t,document,s),c!=null&&c.clear&&c.clear(),g&&u)return g(u)}}(J)),J}var ie=Z();export{ie as m};
