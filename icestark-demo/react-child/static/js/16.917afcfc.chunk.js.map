{"version":3,"file":"static/js/16.917afcfc.chunk.js","mappings":"kTAIMA,EAAeC,oEAEfC,EAAU,CACd,CAAEC,KAAM,+CAAkBC,IAAK,CAAC,GAAD,OAAIJ,EAAJ,8BAC/B,CAAEG,KAAM,iEAAqBC,IAAK,CAAC,GAAD,OAAIJ,EAAJ,0BASrB,SAASK,IACtB,IAAMC,GAAYC,EAAAA,EAAAA,QAAO,MACzB,GAAoCC,EAAAA,EAAAA,UAA6B,MAAjE,eAAOC,EAAP,KAAmBC,EAAnB,KAmBA,OATAC,EAAAA,EAAAA,YAAU,WACR,GAAIF,EAEF,OADAG,EAAAA,EAAAA,IAAYH,EAAYH,EAAUO,SAC3B,YACLC,EAAAA,EAAAA,IAAaL,EAAYH,EAAUO,QACpC,CAEJ,GAAE,CAACJ,KAGF,+BACE,qBAAOM,KAAM,GAAIC,MAAO,CAAEC,MAAO,QAASC,UAAU,WAApD,WACE,oBAAOC,QAAQ,oHAA+BC,KAAK,aACnD,wBACE,mBAAWC,MAAM,qEAAjB,UACE,cACEL,MAAO,CAAEC,MAAO,SAChBf,QAASA,EACToB,WAAY,CAACD,MAAO,OAAQE,MAAO,QACnCC,SA3BS,SAACD,EAAYrB,GAChC,IAAOC,EAAaD,EAAbC,KAAMC,EAAOF,EAAPE,IACbM,GAAc,iBAAO,CACnBP,KAAAA,EACAC,IAAAA,EAFY,GAIf,SAyBK,gBAAKqB,IAAKnB,QAIjB,CA3CCJ,EAAQ,GAAGE,IAAIsB,KAAf,UAAuB1B,EAAvB,+BACAE,EAAQ,GAAGE,IAAIsB,KAAf,UAAuB1B,EAAvB,yB","sources":["views/MicroAppView/index.tsx"],"sourcesContent":["import { Alert, Form, Select, Space } from 'antd'\nimport { useEffect, useRef, useState } from 'react'\nimport { mountModule, unmoutModule, type StarkModule } from '@ice/stark-module'\n\nconst vue2AppEntry = process.env.REACT_APP_VUE2_CHILD_PUBLIC_PATH\n\nconst options = [\n  { name: 'vue2App-通信测试页面', url: [`${vue2AppEntry}/js/communicationTest.js`] },\n  { name: 'vue2App-子应用跳转测试页面', url: [`${vue2AppEntry}/js/navigateView.js`] }\n]\n\n// 生产环境下需要添加css入口\nif (process.env.NODE_ENV === 'production') {\n  options[0].url.push(`${vue2AppEntry}/css/communicationTest.css`)\n  options[1].url.push(`${vue2AppEntry}/css/navigateView.css`)\n}\n\nexport default function MicroAppView() {\n  const container = useRef(null)\n  const [moduleInfo, setModuleInfo] = useState<StarkModule | null>(null)\n\n  const handleChange = (value: any, options: any) => {\n    const {name, url} = options\n    setModuleInfo(() => ({\n      name,\n      url\n    }))\n  }\n\n  useEffect(() => {\n    if (moduleInfo) {\n      mountModule(moduleInfo, container.current!)\n      return () => {\n        unmoutModule(moduleInfo, container.current!)\n      }\n    }\n  }, [moduleInfo])\n\n  return (\n    <>\n      <Space size={20} style={{ width: '100%'}} direction=\"vertical\">\n        <Alert message=\"这是React18子应用作为主应用，挂载Vue2子应用。\" type=\"success\" />\n        <Form>\n          <Form.Item label=\"选择要加载的子应用页面\">\n            <Select\n              style={{ width: '400px'}}\n              options={options}\n              fieldNames={{label: 'name', value: 'name'}}\n              onChange={handleChange}\n            />\n          </Form.Item>\n        </Form>\n        <div ref={container}></div>\n      </Space>\n    </>\n  )\n}\n"],"names":["vue2AppEntry","process","options","name","url","MicroAppView","container","useRef","useState","moduleInfo","setModuleInfo","useEffect","mountModule","current","unmoutModule","size","style","width","direction","message","type","label","fieldNames","value","onChange","ref","push"],"sourceRoot":""}