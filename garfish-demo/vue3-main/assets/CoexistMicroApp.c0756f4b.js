import{w as W,t as X,d as q,u as Y,r as i,g as N,c as Z,_ as C,a as u,C as ee,i as ne,b as te,e as ae,v as oe,f as z,T as se,P as w,h as le,I as ue,j as ce,E as ie,k as re,l as pe,m as de,n as me,s as fe,o as ve,p as H,q as _e,G as M,x as ye,y as Ce,z as g,A as h,B as c,D as k,F as R,H as ge}from"./index.3a29da17.js";import{B as he,_ as xe}from"./index.425d8572.js";import{_ as Ae,a as Ee}from"./index.130f28fe.js";import{c as we}from"./index.e2122d29.js";import"./index.1e05ae38.js";var ke={success:le,info:ue,error:ce,warning:ie},Ie={success:re,info:pe,error:de,warning:me},be=X("success","info","warning","error"),Fe=function(){return{type:w.oneOf(be),closable:{type:Boolean,default:void 0},closeText:w.any,message:w.any,description:w.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:w.any,closeIcon:w.any,onClose:Function}},Be=q({name:"AAlert",inheritAttrs:!1,props:Fe(),setup:function(o,f){var r=f.slots,x=f.emit,d=f.attrs,A=f.expose,E=Y("alert",o),F=E.prefixCls,B=E.direction,m=i(!1),I=i(!1),b=i(),V=function(n){n.preventDefault();var l=b.value;l.style.height="".concat(l.offsetHeight,"px"),l.style.height="".concat(l.offsetHeight,"px"),m.value=!0,x("close",n)},a=function(){var n;m.value=!1,I.value=!0,(n=o.afterClose)===null||n===void 0||n.call(o)};A({animationEnd:a});var s=i({});return function(){var e,n,l=o.banner,D=o.closeIcon,p=D===void 0?(n=r.closeIcon)===null||n===void 0?void 0:n.call(r):D,v=o.closable,_=o.type,y=o.showIcon,O=N(r,o,"closeText"),T=N(r,o,"description"),L=N(r,o,"message"),P=N(r,o,"icon");y=l&&y===void 0?!0:y,_=l&&_===void 0?"warning":_||"info";var U=(T?Ie:ke)[_]||null;O&&(v=!0);var t=F.value,$=Z(t,(e={},C(e,"".concat(t,"-").concat(_),!0),C(e,"".concat(t,"-closing"),m.value),C(e,"".concat(t,"-with-description"),!!T),C(e,"".concat(t,"-no-icon"),!y),C(e,"".concat(t,"-banner"),!!l),C(e,"".concat(t,"-closable"),v),C(e,"".concat(t,"-rtl"),B.value==="rtl"),e)),J=v?u("button",{type:"button",onClick:V,class:"".concat(t,"-close-icon"),tabindex:0},[O?u("span",{class:"".concat(t,"-close-text")},[O]):p===void 0?u(ee,null,null):p]):null,K=P&&(ne(P)?we(P,{class:"".concat(t,"-icon")}):u("span",{class:"".concat(t,"-icon")},[P]))||u(U,{class:"".concat(t,"-icon")},null),Q=te("".concat(t,"-motion"),{appear:!1,css:!0,onAfterLeave:a,onBeforeLeave:function(S){S.style.maxHeight="".concat(S.offsetHeight,"px")},onLeave:function(S){S.style.maxHeight="0px"}});return I.value?null:u(se,Q,{default:function(){return[ae(u("div",z(z({role:"alert"},d),{},{style:[d.style,s.value],class:[d.class,$],"data-show":!m.value,ref:b}),[y?K:null,u("div",{class:"".concat(t,"-content")},[L?u("div",{class:"".concat(t,"-message")},[L]):null,T?u("div",{class:"".concat(t,"-description")},[T]):null]),J]),[[oe,!m.value]])]}})}}});const Ve=W(Be);const De={name:"CoexistMicroApp"},Te=q({...De,setup(G){const o=i(null),f=i(null),r=i(null),x=i(!0),d=i(!0),A=i(!0),{apps:E}=fe(ve()),F=H(()=>{const n=E.value.find(l=>l.name==="vue2App");return{...n,name:n.name+"Coexist"}}),B=H(()=>{const n=E.value.find(l=>l.name==="reactApp");return{...n,name:n.name+"Coexist"}}),m=H(()=>{const n=E.value.find(l=>l.name==="viteApp");return{...n,name:n.name+"Coexist"}});function I(){x.value=!x.value}function b(){d.value=!d.value}function V(){A.value=!A.value}let a=null,s=null,e=null;return _e(async()=>{[a,s,e]=await Promise.all([M.loadApp(F.value.name,{domGetter:()=>o.value,entry:F.value.entry,basename:"/coexist-micro-app",props:{path:"/communication-test"}}),M.loadApp(B.value.name,{domGetter:()=>f.value,entry:B.value.entry,basename:"/coexist-micro-app",props:{path:"/communication-test"}}),M.loadApp(m.value.name,{domGetter:()=>r.value,entry:m.value.entry,basename:"/coexist-micro-app",sandbox:!1,props:{path:"/communication-test"}})]),a==null||a.mount(),s==null||s.mount(),e==null||e.mount()}),ye(()=>{x.value?a&&!a.mounted&&a.mount():a&&a.mounted&&a.unmount(),d.value?s&&!s.mounted&&s.mount():s&&s.mounted&&s.unmount(),A.value?e&&!e.mounted&&e.mount():e&&e.mounted&&e.unmount()}),Ce(()=>{a&&a.mounted&&a.unmount(),s&&s.mounted&&s.unmount()}),(n,l)=>{const D=Ve,p=he,v=Ae,_=Ee,y=xe;return g(),h(y,{direction:"vertical",size:40,class:"box"},{default:c(()=>[u(D,{message:"\u5DE6\u4E0A\u5E94\u7528\u4E3AVue2\u5B50\u5E94\u7528\uFF0C\u53F3\u4E0A\u5E94\u7528\u4E3AReact18\u5B50\u5E94\u7528\uFF0C\u5DE6\u4E0B\u5E94\u7528\u4E3AVite\u5B50\u5E94\u7528\u3002",type:"success"}),u(_,{gutter:20},{default:c(()=>[u(v,{span:12},{default:c(()=>[x.value?(g(),h(p,{key:0,type:"primary",danger:"",onClick:I},{default:c(()=>[k(" \u5378\u8F7DVue2\u5E94\u7528 ")]),_:1})):(g(),h(p,{key:1,type:"primary",onClick:I},{default:c(()=>[k(" \u52A0\u8F7DVue2\u5E94\u7528 ")]),_:1})),R("div",{ref_key:"one",ref:o},null,512)]),_:1}),u(v,{span:12},{default:c(()=>[d.value?(g(),h(p,{key:0,type:"primary",danger:"",onClick:b},{default:c(()=>[k(" \u5378\u8F7DReact18\u5E94\u7528 ")]),_:1})):(g(),h(p,{key:1,type:"primary",onClick:b},{default:c(()=>[k(" \u52A0\u8F7DReact18\u5E94\u7528 ")]),_:1})),R("div",{ref_key:"two",ref:f},null,512)]),_:1}),u(v,{span:12},{default:c(()=>[A.value?(g(),h(p,{key:0,type:"primary",danger:"",onClick:V},{default:c(()=>[k(" \u5378\u8F7DVite\u5E94\u7528 ")]),_:1})):(g(),h(p,{key:1,type:"primary",onClick:V},{default:c(()=>[k(" \u52A0\u8F7DVite\u5E94\u7528 ")]),_:1})),R("div",{ref_key:"three",ref:r},null,512)]),_:1})]),_:1})]),_:1})}}});const Me=ge(Te,[["__scopeId","data-v-7074d741"]]);export{Me as default};
