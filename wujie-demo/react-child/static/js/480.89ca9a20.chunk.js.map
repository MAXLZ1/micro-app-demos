{"version":3,"file":"static/js/480.89ca9a20.chunk.js","mappings":"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","sources":["../../../../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons-svg@4.2.1/node_modules/@ant-design/icons-svg/lib/asn/LeftOutlined.js","../../../../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons-svg@4.2.1/node_modules/@ant-design/icons-svg/lib/asn/RightOutlined.js","../../../../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons@4.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ant-design/icons/LeftOutlined.js","../../../../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons@4.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ant-design/icons/RightOutlined.js","../../../../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons@4.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ant-design/icons/lib/icons/LeftOutlined.js","../../../../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons@4.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ant-design/icons/lib/icons/RightOutlined.js","../../../../node_modules/.pnpm/registry.npmmirror.com+antd@4.23.4_biqbaboplfbrettd7655fr4n2y/node_modules/antd/lib/_util/getDataOrAriaProps.js","../../../../node_modules/.pnpm/registry.npmmirror.com+antd@4.23.4_biqbaboplfbrettd7655fr4n2y/node_modules/antd/lib/alert/ErrorBoundary.js","../../../../node_modules/.pnpm/registry.npmmirror.com+antd@4.23.4_biqbaboplfbrettd7655fr4n2y/node_modules/antd/lib/alert/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+antd@4.23.4_biqbaboplfbrettd7655fr4n2y/node_modules/antd/lib/alert/style/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+antd@4.23.4_biqbaboplfbrettd7655fr4n2y/node_modules/antd/lib/cascader/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+antd@4.23.4_biqbaboplfbrettd7655fr4n2y/node_modules/antd/lib/cascader/style/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+prop-types@15.8.1/node_modules/prop-types/factoryWithThrowingShims.js","../../../../node_modules/.pnpm/registry.npmmirror.com+prop-types@15.8.1/node_modules/prop-types/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+prop-types@15.8.1/node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-tree/es/utils/conductUtil.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/context.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/utils/commonUtil.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/utils/treeUtil.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/hooks/useDisplayValues.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-tree/es/contextTypes.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-tree/es/Indent.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-tree/es/TreeNode.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-tree/es/utils/treeUtil.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-tree@5.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-tree/es/util.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/hooks/useEntities.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/hooks/useRefFunc.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/hooks/useSearchOptions.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/OptionList/Checkbox.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/OptionList/Column.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/OptionList/useActive.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/OptionList/useKeyboard.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/OptionList/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/utils/warningPropsUtil.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/Cascader.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/hooks/useSearchConfig.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/hooks/useMissingValues.js","../../../../node_modules/.pnpm/registry.npmmirror.com+rc-cascader@3.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/rc-cascader/es/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/constant.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/utils.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/template.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/plugin.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/entry.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/common.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/effect.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/shadow.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/sync.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/iframe.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/proxy.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/event.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/sandbox.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie@1.0.0-rc.21/node_modules/wujie/src/index.ts","../../../../node_modules/.pnpm/registry.npmmirror.com+wujie-react@1.0.0-rc.20_react@18.2.0/node_modules/wujie-react/index.js","../../../../node_modules/.pnpm/registry.npmmirror.com+@babel+runtime@7.19.0/node_modules/@babel/runtime/regenerator/index.js"],"sourcesContent":["\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexports.default = LeftOutlined;\n","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexports.default = RightOutlined;\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _LeftOutlined = _interopRequireDefault(require('./lib/icons/LeftOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _LeftOutlined;\n  exports.default = _default;\n  module.exports = _default;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _RightOutlined = _interopRequireDefault(require('./lib/icons/RightOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _RightOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _LeftOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/LeftOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, (0, _objectSpread2.default)((0, _objectSpread2.default)({}, props), {}, {\n    ref: ref,\n    icon: _LeftOutlined.default\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(LeftOutlined);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _RightOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/RightOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar RightOutlined = function RightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, (0, _objectSpread2.default)((0, _objectSpread2.default)({}, props), {}, {\n    ref: ref,\n    icon: _RightOutlined.default\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(RightOutlined);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getDataOrAriaProps;\n\nfunction getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.startsWith('data-') || key.startsWith('aria-') || key === 'role') && !key.startsWith('data-__')) {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2[\"default\"])(ErrorBoundary, _React$Component);\n\n  var _super = (0, _createSuper2[\"default\"])(ErrorBoundary);\n\n  function ErrorBoundary() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ErrorBoundary);\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      error: undefined,\n      info: {\n        componentStack: ''\n      }\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      this.setState({\n        error: error,\n        info: info\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          description = _this$props.description,\n          children = _this$props.children;\n      var _this$state = this.state,\n          error = _this$state.error,\n          info = _this$state.info;\n      var componentStack = info && info.componentStack ? info.componentStack : null;\n      var errorMessage = typeof message === 'undefined' ? (error || '').toString() : message;\n      var errorDescription = typeof description === 'undefined' ? componentStack : description;\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(_[\"default\"], {\n          type: \"error\",\n          message: errorMessage,\n          description: /*#__PURE__*/React.createElement(\"pre\", null, errorDescription)\n        });\n      }\n\n      return children;\n    }\n  }]);\n  return ErrorBoundary;\n}(React.Component);\n\nexports[\"default\"] = ErrorBoundary;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _CheckCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CheckCircleFilled\"));\n\nvar _CheckCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/CheckCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _CloseCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleOutlined\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _ExclamationCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/ExclamationCircleFilled\"));\n\nvar _ExclamationCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ExclamationCircleOutlined\"));\n\nvar _InfoCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/InfoCircleFilled\"));\n\nvar _InfoCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/InfoCircleOutlined\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _rcMotion = _interopRequireDefault(require(\"rc-motion\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _getDataOrAriaProps = _interopRequireDefault(require(\"../_util/getDataOrAriaProps\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar _ErrorBoundary = _interopRequireDefault(require(\"./ErrorBoundary\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar iconMapFilled = {\n  success: _CheckCircleFilled[\"default\"],\n  info: _InfoCircleFilled[\"default\"],\n  error: _CloseCircleFilled[\"default\"],\n  warning: _ExclamationCircleFilled[\"default\"]\n};\nvar iconMapOutlined = {\n  success: _CheckCircleOutlined[\"default\"],\n  info: _InfoCircleOutlined[\"default\"],\n  error: _CloseCircleOutlined[\"default\"],\n  warning: _ExclamationCircleOutlined[\"default\"]\n};\n\nvar IconNode = function IconNode(props) {\n  var description = props.description,\n      icon = props.icon,\n      prefixCls = props.prefixCls,\n      type = props.type;\n  var iconType = (description ? iconMapOutlined : iconMapFilled)[type] || null;\n\n  if (icon) {\n    return (0, _reactNode.replaceElement)(icon, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-icon\")\n    }, icon), function () {\n      return {\n        className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-icon\"), (0, _defineProperty2[\"default\"])({}, icon.props.className, icon.props.className))\n      };\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(iconType, {\n    className: \"\".concat(prefixCls, \"-icon\")\n  });\n};\n\nvar CloseIcon = function CloseIcon(props) {\n  var isClosable = props.isClosable,\n      closeText = props.closeText,\n      prefixCls = props.prefixCls,\n      closeIcon = props.closeIcon,\n      handleClose = props.handleClose;\n  return isClosable ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleClose,\n    className: \"\".concat(prefixCls, \"-close-icon\"),\n    tabIndex: 0\n  }, closeText ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-close-text\")\n  }, closeText) : closeIcon) : null;\n};\n\nvar Alert = function Alert(_a) {\n  var _classNames2;\n\n  var description = _a.description,\n      customizePrefixCls = _a.prefixCls,\n      message = _a.message,\n      banner = _a.banner,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      style = _a.style,\n      onMouseEnter = _a.onMouseEnter,\n      onMouseLeave = _a.onMouseLeave,\n      onClick = _a.onClick,\n      afterClose = _a.afterClose,\n      showIcon = _a.showIcon,\n      closable = _a.closable,\n      closeText = _a.closeText,\n      _a$closeIcon = _a.closeIcon,\n      closeIcon = _a$closeIcon === void 0 ? /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], null) : _a$closeIcon,\n      action = _a.action,\n      props = __rest(_a, [\"description\", \"prefixCls\", \"message\", \"banner\", \"className\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"afterClose\", \"showIcon\", \"closable\", \"closeText\", \"closeIcon\", \"action\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      closed = _React$useState2[0],\n      setClosed = _React$useState2[1];\n\n  var ref = React.useRef();\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('alert', customizePrefixCls);\n\n  var handleClose = function handleClose(e) {\n    var _a;\n\n    setClosed(true);\n    (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  var getType = function getType() {\n    var type = props.type;\n\n    if (type !== undefined) {\n      return type;\n    } // banner \n\n\n    return banner ? 'warning' : 'info';\n  }; // closeable when closeText is assigned\n\n\n  var isClosable = closeText ? true : closable;\n  var type = getType(); // banner  Icon\n\n  var isShowIcon = banner && showIcon === undefined ? true : showIcon;\n  var alertCls = (0, _classnames[\"default\"])(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-with-description\"), !!description), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-no-icon\"), !isShowIcon), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-banner\"), !!banner), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2), className);\n  var dataOrAriaProps = (0, _getDataOrAriaProps[\"default\"])(props);\n  return /*#__PURE__*/React.createElement(_rcMotion[\"default\"], {\n    visible: !closed,\n    motionName: \"\".concat(prefixCls, \"-motion\"),\n    motionAppear: false,\n    motionEnter: false,\n    onLeaveStart: function onLeaveStart(node) {\n      return {\n        maxHeight: node.offsetHeight\n      };\n    },\n    onLeaveEnd: afterClose\n  }, function (_ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(\"div\", (0, _extends2[\"default\"])({\n      ref: ref,\n      \"data-show\": !closed,\n      className: (0, _classnames[\"default\"])(alertCls, motionClassName),\n      style: (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, style), motionStyle),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      role: \"alert\"\n    }, dataOrAriaProps), isShowIcon ? /*#__PURE__*/React.createElement(IconNode, {\n      description: description,\n      icon: props.icon,\n      prefixCls: prefixCls,\n      type: type\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-content\")\n    }, message ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, message) : null, description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-description\")\n    }, description) : null), action ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-action\")\n    }, action) : null, /*#__PURE__*/React.createElement(CloseIcon, {\n      isClosable: !!isClosable,\n      closeText: closeText,\n      prefixCls: prefixCls,\n      closeIcon: closeIcon,\n      handleClose: handleClose\n    }));\n  });\n};\n\nAlert.ErrorBoundary = _ErrorBoundary[\"default\"];\nvar _default = Alert;\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"../../style/default.less\");\n\nrequire(\"./index.less\");","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _LeftOutlined = _interopRequireDefault(require(\"@ant-design/icons/LeftOutlined\"));\n\nvar _LoadingOutlined = _interopRequireDefault(require(\"@ant-design/icons/LoadingOutlined\"));\n\nvar _RightOutlined = _interopRequireDefault(require(\"@ant-design/icons/RightOutlined\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _rcCascader = _interopRequireDefault(require(\"rc-cascader\"));\n\nvar _omit = _interopRequireDefault(require(\"rc-util/lib/omit\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _defaultRenderEmpty = _interopRequireDefault(require(\"../config-provider/defaultRenderEmpty\"));\n\nvar _DisabledContext = _interopRequireDefault(require(\"../config-provider/DisabledContext\"));\n\nvar _SizeContext = _interopRequireDefault(require(\"../config-provider/SizeContext\"));\n\nvar _context = require(\"../form/context\");\n\nvar _iconUtil = _interopRequireDefault(require(\"../select/utils/iconUtil\"));\n\nvar _motion = require(\"../_util/motion\");\n\nvar _statusUtils = require(\"../_util/statusUtils\");\n\nvar _warning = _interopRequireDefault(require(\"../_util/warning\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar SHOW_CHILD = _rcCascader[\"default\"].SHOW_CHILD,\n    SHOW_PARENT = _rcCascader[\"default\"].SHOW_PARENT;\n\nfunction highlightKeyword(str, lowerKeyword, prefixCls) {\n  var cells = str.toLowerCase().split(lowerKeyword).reduce(function (list, cur, index) {\n    return index === 0 ? [cur] : [].concat((0, _toConsumableArray2[\"default\"])(list), [lowerKeyword, cur]);\n  }, []);\n  var fillCells = [];\n  var start = 0;\n  cells.forEach(function (cell, index) {\n    var end = start + cell.length;\n    var originWorld = str.slice(start, end);\n    start = end;\n\n    if (index % 2 === 1) {\n      originWorld =\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-menu-item-keyword\"),\n        key: \"seperator-\".concat(index)\n      }, originWorld);\n    }\n\n    fillCells.push(originWorld);\n  });\n  return fillCells;\n}\n\nvar defaultSearchRender = function defaultSearchRender(inputValue, path, prefixCls, fieldNames) {\n  var optionList = []; // We do lower here to save perf\n\n  var lower = inputValue.toLowerCase();\n  path.forEach(function (node, index) {\n    if (index !== 0) {\n      optionList.push(' / ');\n    }\n\n    var label = node[fieldNames.label];\n    var type = (0, _typeof2[\"default\"])(label);\n\n    if (type === 'string' || type === 'number') {\n      label = highlightKeyword(String(label), lower, prefixCls);\n    }\n\n    optionList.push(label);\n  });\n  return optionList;\n};\n\nvar Cascader = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames2;\n\n  var customizePrefixCls = props.prefixCls,\n      customizeSize = props.size,\n      customDisabled = props.disabled,\n      className = props.className,\n      multiple = props.multiple,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      transitionName = props.transitionName,\n      _props$choiceTransiti = props.choiceTransitionName,\n      choiceTransitionName = _props$choiceTransiti === void 0 ? '' : _props$choiceTransiti,\n      popupClassName = props.popupClassName,\n      dropdownClassName = props.dropdownClassName,\n      expandIcon = props.expandIcon,\n      placement = props.placement,\n      showSearch = props.showSearch,\n      _props$allowClear = props.allowClear,\n      allowClear = _props$allowClear === void 0 ? true : _props$allowClear,\n      notFoundContent = props.notFoundContent,\n      direction = props.direction,\n      getPopupContainer = props.getPopupContainer,\n      customStatus = props.status,\n      showArrow = props.showArrow,\n      rest = __rest(props, [\"prefixCls\", \"size\", \"disabled\", \"className\", \"multiple\", \"bordered\", \"transitionName\", \"choiceTransitionName\", \"popupClassName\", \"dropdownClassName\", \"expandIcon\", \"placement\", \"showSearch\", \"allowClear\", \"notFoundContent\", \"direction\", \"getPopupContainer\", \"status\", \"showArrow\"]);\n\n  var restProps = (0, _omit[\"default\"])(rest, ['suffixIcon']);\n\n  var _useContext = (0, React.useContext)(_configProvider.ConfigContext),\n      getContextPopupContainer = _useContext.getPopupContainer,\n      getPrefixCls = _useContext.getPrefixCls,\n      renderEmpty = _useContext.renderEmpty,\n      rootDirection = _useContext.direction;\n\n  var mergedDirection = direction || rootDirection;\n  var isRtl = mergedDirection === 'rtl'; // =================== Form =====================\n\n  var _useContext2 = (0, React.useContext)(_context.FormItemInputContext),\n      contextStatus = _useContext2.status,\n      hasFeedback = _useContext2.hasFeedback,\n      isFormItemInput = _useContext2.isFormItemInput,\n      feedbackIcon = _useContext2.feedbackIcon;\n\n  var mergedStatus = (0, _statusUtils.getMergedStatus)(contextStatus, customStatus); // =================== Warning =====================\n\n  process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(!dropdownClassName, 'Cascader', '`dropdownClassName` is deprecated which will be removed in next major version. Please use `popupClassName` instead.') : void 0;\n  process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(!multiple || !props.displayRender, 'Cascader', '`displayRender` not work on `multiple`. Please use `tagRender` instead.') : void 0; // =================== No Found ====================\n\n  var mergedNotFoundContent = notFoundContent || (renderEmpty || _defaultRenderEmpty[\"default\"])('Cascader'); // ==================== Prefix =====================\n\n\n  var rootPrefixCls = getPrefixCls();\n  var prefixCls = getPrefixCls('select', customizePrefixCls);\n  var cascaderPrefixCls = getPrefixCls('cascader', customizePrefixCls); // =================== Dropdown ====================\n\n  var mergedDropdownClassName = (0, _classnames[\"default\"])(popupClassName || dropdownClassName, \"\".concat(cascaderPrefixCls, \"-dropdown\"), (0, _defineProperty2[\"default\"])({}, \"\".concat(cascaderPrefixCls, \"-dropdown-rtl\"), mergedDirection === 'rtl')); // ==================== Search =====================\n\n  var mergedShowSearch = React.useMemo(function () {\n    if (!showSearch) {\n      return showSearch;\n    }\n\n    var searchConfig = {\n      render: defaultSearchRender\n    };\n\n    if ((0, _typeof2[\"default\"])(showSearch) === 'object') {\n      searchConfig = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, searchConfig), showSearch);\n    }\n\n    return searchConfig;\n  }, [showSearch]); // ===================== Size ======================\n\n  var size = React.useContext(_SizeContext[\"default\"]);\n  var mergedSize = customizeSize || size; // ===================== Disabled =====================\n\n  var disabled = React.useContext(_DisabledContext[\"default\"]);\n  var mergedDisabled = customDisabled || disabled; // ===================== Icon ======================\n\n  var mergedExpandIcon = expandIcon;\n\n  if (!expandIcon) {\n    mergedExpandIcon = isRtl ? /*#__PURE__*/React.createElement(_LeftOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_RightOutlined[\"default\"], null);\n  }\n\n  var loadingIcon = /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-menu-item-loading-icon\")\n  }, /*#__PURE__*/React.createElement(_LoadingOutlined[\"default\"], {\n    spin: true\n  })); // =================== Multiple ====================\n\n  var checkable = React.useMemo(function () {\n    return multiple ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(cascaderPrefixCls, \"-checkbox-inner\")\n    }) : false;\n  }, [multiple]); // ===================== Icons =====================\n\n  var mergedShowArrow = showArrow !== undefined ? showArrow : props.loading || !multiple;\n\n  var _getIcons = (0, _iconUtil[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, props), {\n    hasFeedback: hasFeedback,\n    feedbackIcon: feedbackIcon,\n    showArrow: mergedShowArrow,\n    multiple: multiple,\n    prefixCls: prefixCls\n  })),\n      suffixIcon = _getIcons.suffixIcon,\n      removeIcon = _getIcons.removeIcon,\n      clearIcon = _getIcons.clearIcon; // ===================== Placement =====================\n\n\n  var getPlacement = function getPlacement() {\n    if (placement !== undefined) {\n      return placement;\n    }\n\n    return direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  }; // ==================== Render =====================\n\n\n  return /*#__PURE__*/React.createElement(_rcCascader[\"default\"], (0, _extends2[\"default\"])({\n    prefixCls: prefixCls,\n    className: (0, _classnames[\"default\"])(!customizePrefixCls && cascaderPrefixCls, (_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-lg\"), mergedSize === 'large'), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-sm\"), mergedSize === 'small'), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-rtl\"), isRtl), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-borderless\"), !bordered), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-in-form-item\"), isFormItemInput), _classNames2), (0, _statusUtils.getStatusClassNames)(prefixCls, mergedStatus, hasFeedback), className),\n    disabled: mergedDisabled\n  }, restProps, {\n    direction: mergedDirection,\n    placement: getPlacement(),\n    notFoundContent: mergedNotFoundContent,\n    allowClear: allowClear,\n    showSearch: mergedShowSearch,\n    expandIcon: mergedExpandIcon,\n    inputIcon: suffixIcon,\n    removeIcon: removeIcon,\n    clearIcon: clearIcon,\n    loadingIcon: loadingIcon,\n    checkable: checkable,\n    dropdownClassName: mergedDropdownClassName,\n    dropdownPrefixCls: customizePrefixCls || cascaderPrefixCls,\n    choiceTransitionName: (0, _motion.getTransitionName)(rootPrefixCls, '', choiceTransitionName),\n    transitionName: (0, _motion.getTransitionName)(rootPrefixCls, (0, _motion.getTransitionDirection)(placement), transitionName),\n    getPopupContainer: getPopupContainer || getContextPopupContainer,\n    ref: ref,\n    showArrow: hasFeedback || showArrow\n  }));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Cascader.displayName = 'Cascader';\n}\n\nCascader.SHOW_PARENT = SHOW_PARENT;\nCascader.SHOW_CHILD = SHOW_CHILD;\nvar _default = Cascader;\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"../../style/default.less\");\n\nrequire(\"./index.less\");\n\nrequire(\"../../empty/style\");\n\nrequire(\"../../select/style\");","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import warning from \"rc-util/es/warning\";\n\nfunction removeFromCheckedKeys(halfCheckedKeys, checkedKeys) {\n  var filteredKeys = new Set();\n  halfCheckedKeys.forEach(function (key) {\n    if (!checkedKeys.has(key)) {\n      filteredKeys.add(key);\n    }\n  });\n  return filteredKeys;\n}\n\nexport function isCheckDisabled(node) {\n  var _ref = node || {},\n      disabled = _ref.disabled,\n      disableCheckbox = _ref.disableCheckbox,\n      checkable = _ref.checkable;\n\n  return !!(disabled || disableCheckbox) || checkable === false;\n} // Fill miss keys\n\nfunction fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(); // Add checked keys top to bottom\n\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n          node = entity.node,\n          _entity$children = entity.children,\n          children = _entity$children === void 0 ? [] : _entity$children;\n\n      if (checkedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.add(childEntity.key);\n        });\n      }\n    });\n  } // Add checked keys from bottom to top\n\n\n  var visitedKeys = new Set();\n\n  for (var _level = maxLevel; _level >= 0; _level -= 1) {\n    var _entities = levelEntities.get(_level) || new Set();\n\n    _entities.forEach(function (entity) {\n      var parent = entity.parent,\n          node = entity.node; // Skip if no need to check\n\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      } // Skip if parent is disabled\n\n\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref2) {\n        var key = _ref2.key;\n        var checked = checkedKeys.has(key);\n\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n\n      if (allChecked) {\n        checkedKeys.add(parent.key);\n      }\n\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n\n      visitedKeys.add(parent.key);\n    });\n  }\n\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n} // Remove useless key\n\n\nfunction cleanConductCheck(keys, halfKeys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(halfKeys); // Remove checked keys from top to bottom\n\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n          node = entity.node,\n          _entity$children2 = entity.children,\n          children = _entity$children2 === void 0 ? [] : _entity$children2;\n\n      if (!checkedKeys.has(key) && !halfCheckedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.delete(childEntity.key);\n        });\n      }\n    });\n  } // Remove checked keys form bottom to top\n\n\n  halfCheckedKeys = new Set();\n  var visitedKeys = new Set();\n\n  for (var _level2 = maxLevel; _level2 >= 0; _level2 -= 1) {\n    var _entities2 = levelEntities.get(_level2) || new Set();\n\n    _entities2.forEach(function (entity) {\n      var parent = entity.parent,\n          node = entity.node; // Skip if no need to check\n\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      } // Skip if parent is disabled\n\n\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref3) {\n        var key = _ref3.key;\n        var checked = checkedKeys.has(key);\n\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n\n      if (!allChecked) {\n        checkedKeys.delete(parent.key);\n      }\n\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n\n      visitedKeys.add(parent.key);\n    });\n  }\n\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n}\n/**\n * Conduct with keys.\n * @param keyList current key list\n * @param keyEntities key - dataEntity map\n * @param mode `fill` to fill missing key, `clean` to remove useless key\n */\n\n\nexport function conductCheck(keyList, checked, keyEntities, getCheckDisabled) {\n  var warningMissKeys = [];\n  var syntheticGetCheckDisabled;\n\n  if (getCheckDisabled) {\n    syntheticGetCheckDisabled = getCheckDisabled;\n  } else {\n    syntheticGetCheckDisabled = isCheckDisabled;\n  } // We only handle exist keys\n\n\n  var keys = new Set(keyList.filter(function (key) {\n    var hasEntity = !!keyEntities[key];\n\n    if (!hasEntity) {\n      warningMissKeys.push(key);\n    }\n\n    return hasEntity;\n  }));\n  var levelEntities = new Map();\n  var maxLevel = 0; // Convert entities by level for calculation\n\n  Object.keys(keyEntities).forEach(function (key) {\n    var entity = keyEntities[key];\n    var level = entity.level;\n    var levelSet = levelEntities.get(level);\n\n    if (!levelSet) {\n      levelSet = new Set();\n      levelEntities.set(level, levelSet);\n    }\n\n    levelSet.add(entity);\n    maxLevel = Math.max(maxLevel, level);\n  });\n  warning(!warningMissKeys.length, \"Tree missing follow keys: \".concat(warningMissKeys.slice(0, 100).map(function (key) {\n    return \"'\".concat(key, \"'\");\n  }).join(', ')));\n  var result;\n\n  if (checked === true) {\n    result = fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  } else {\n    result = cleanConductCheck(keys, checked.halfCheckedKeys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  }\n\n  return result;\n}","import * as React from 'react';\nvar CascaderContext = /*#__PURE__*/React.createContext(null);\nexport default CascaderContext;","export var VALUE_SPLIT = '__RC_CASCADER_SPLIT__';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function toPathKey(value) {\n  return value.join(VALUE_SPLIT);\n}\nexport function toPathKeys(value) {\n  return value.map(toPathKey);\n}\nexport function toPathValueStr(pathKey) {\n  return pathKey.split(VALUE_SPLIT);\n}\nexport function fillFieldNames(fieldNames) {\n  var _ref = fieldNames || {},\n      label = _ref.label,\n      value = _ref.value,\n      children = _ref.children;\n\n  var val = value || 'value';\n  return {\n    label: label || 'label',\n    value: val,\n    key: val,\n    children: children || 'children'\n  };\n}\nexport function isLeaf(option, fieldNames) {\n  var _option$isLeaf, _option$fieldNames$ch;\n\n  return (_option$isLeaf = option.isLeaf) !== null && _option$isLeaf !== void 0 ? _option$isLeaf : !((_option$fieldNames$ch = option[fieldNames.children]) === null || _option$fieldNames$ch === void 0 ? void 0 : _option$fieldNames$ch.length);\n}\nexport function scrollIntoParentView(element) {\n  var parent = element.parentElement;\n\n  if (!parent) {\n    return;\n  }\n\n  var elementToParent = element.offsetTop - parent.offsetTop; // offsetParent may not be parent.\n\n  if (elementToParent - parent.scrollTop < 0) {\n    parent.scrollTo({\n      top: elementToParent\n    });\n  } else if (elementToParent + element.offsetHeight - parent.scrollTop > parent.offsetHeight) {\n    parent.scrollTo({\n      top: elementToParent + element.offsetHeight - parent.offsetHeight\n    });\n  }\n}","import { SHOW_CHILD } from './commonUtil';\nexport function formatStrategyValues(pathKeys, getKeyPathEntities, showCheckedStrategy) {\n  var valueSet = new Set(pathKeys);\n  var keyPathEntities = getKeyPathEntities();\n  return pathKeys.filter(function (key) {\n    var entity = keyPathEntities[key];\n    var parent = entity ? entity.parent : null;\n    var children = entity ? entity.children : null;\n    return showCheckedStrategy === SHOW_CHILD ? !(children && children.some(function (child) {\n      return child.key && valueSet.has(child.key);\n    })) : !(parent && !parent.node.disabled && valueSet.has(parent.key));\n  });\n}\nexport function toPathOptions(valueCells, options, fieldNames) {\n  var stringMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var currentList = options;\n  var valueOptions = [];\n\n  var _loop = function _loop(i) {\n    var _currentList, _currentList2, _foundOption$fieldNam;\n\n    var valueCell = valueCells[i];\n    var foundIndex = (_currentList = currentList) === null || _currentList === void 0 ? void 0 : _currentList.findIndex(function (option) {\n      var val = option[fieldNames.value];\n      return stringMode ? String(val) === String(valueCell) : val === valueCell;\n    });\n    var foundOption = foundIndex !== -1 ? (_currentList2 = currentList) === null || _currentList2 === void 0 ? void 0 : _currentList2[foundIndex] : null;\n    valueOptions.push({\n      value: (_foundOption$fieldNam = foundOption === null || foundOption === void 0 ? void 0 : foundOption[fieldNames.value]) !== null && _foundOption$fieldNam !== void 0 ? _foundOption$fieldNam : valueCell,\n      index: foundIndex,\n      option: foundOption\n    });\n    currentList = foundOption === null || foundOption === void 0 ? void 0 : foundOption[fieldNames.children];\n  };\n\n  for (var i = 0; i < valueCells.length; i += 1) {\n    _loop(i);\n  }\n\n  return valueOptions;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { toPathOptions } from '../utils/treeUtil';\nimport * as React from 'react';\nimport { toPathKey } from '../utils/commonUtil';\nexport default (function (rawValues, options, fieldNames, multiple, displayRender) {\n  return React.useMemo(function () {\n    var mergedDisplayRender = displayRender || // Default displayRender\n    function (labels) {\n      var mergedLabels = multiple ? labels.slice(-1) : labels;\n      var SPLIT = ' / ';\n\n      if (mergedLabels.every(function (label) {\n        return ['string', 'number'].includes(_typeof(label));\n      })) {\n        return mergedLabels.join(SPLIT);\n      } // If exist non-string value, use ReactNode instead\n\n\n      return mergedLabels.reduce(function (list, label, index) {\n        var keyedLabel = /*#__PURE__*/React.isValidElement(label) ? /*#__PURE__*/React.cloneElement(label, {\n          key: index\n        }) : label;\n\n        if (index === 0) {\n          return [keyedLabel];\n        }\n\n        return [].concat(_toConsumableArray(list), [SPLIT, keyedLabel]);\n      }, []);\n    };\n\n    return rawValues.map(function (valueCells) {\n      var _valueOptions, _valueOptions$option;\n\n      var valueOptions = toPathOptions(valueCells, options, fieldNames);\n      var label = mergedDisplayRender(valueOptions.map(function (_ref) {\n        var _option$fieldNames$la;\n\n        var option = _ref.option,\n            value = _ref.value;\n        return (_option$fieldNames$la = option === null || option === void 0 ? void 0 : option[fieldNames.label]) !== null && _option$fieldNames$la !== void 0 ? _option$fieldNames$la : value;\n      }), valueOptions.map(function (_ref2) {\n        var option = _ref2.option;\n        return option;\n      }));\n      var value = toPathKey(valueCells);\n      return {\n        label: label,\n        value: value,\n        key: value,\n        valueCells: valueCells,\n        disabled: (_valueOptions = valueOptions[valueOptions.length - 1]) === null || _valueOptions === void 0 ? void 0 : (_valueOptions$option = _valueOptions.option) === null || _valueOptions$option === void 0 ? void 0 : _valueOptions$option.disabled\n      };\n    });\n  }, [rawValues, options, fieldNames, displayRender, multiple]);\n});","/**\n * Webpack has bug for import loop, which is not the same behavior as ES module.\n * When util.js imports the TreeNode for tree generate will cause treeContextTypes be empty.\n */\nimport * as React from 'react';\nexport var TreeContext = /*#__PURE__*/React.createContext(null);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\n\nvar Indent = function Indent(_ref) {\n  var prefixCls = _ref.prefixCls,\n      level = _ref.level,\n      isStart = _ref.isStart,\n      isEnd = _ref.isEnd;\n  var baseClassName = \"\".concat(prefixCls, \"-indent-unit\");\n  var list = [];\n\n  for (var i = 0; i < level; i += 1) {\n    var _classNames;\n\n    list.push( /*#__PURE__*/React.createElement(\"span\", {\n      key: i,\n      className: classNames(baseClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-start\"), isStart[i]), _defineProperty(_classNames, \"\".concat(baseClassName, \"-end\"), isEnd[i]), _classNames))\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-indent\")\n  }, list);\n};\n\nexport default /*#__PURE__*/React.memo(Indent);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"eventKey\", \"className\", \"style\", \"dragOver\", \"dragOverGapTop\", \"dragOverGapBottom\", \"isLeaf\", \"isStart\", \"isEnd\", \"expanded\", \"selected\", \"checked\", \"halfChecked\", \"loading\", \"domRef\", \"active\", \"data\", \"onMouseMove\", \"selectable\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport pickAttrs from \"rc-util/es/pickAttrs\"; // @ts-ignore\n\nimport { TreeContext } from './contextTypes';\nimport Indent from './Indent';\nimport { convertNodePropsToEventData } from './utils/treeUtil';\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar InternalTreeNode = /*#__PURE__*/function (_React$Component) {\n  _inherits(InternalTreeNode, _React$Component);\n\n  var _super = _createSuper(InternalTreeNode);\n\n  function InternalTreeNode() {\n    var _this;\n\n    _classCallCheck(this, InternalTreeNode);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    _this.selectHandle = void 0;\n\n    _this.onSelectorClick = function (e) {\n      // Click trigger before select/check operation\n      var onNodeClick = _this.props.context.onNodeClick;\n      onNodeClick(e, convertNodePropsToEventData(_this.props));\n\n      if (_this.isSelectable()) {\n        _this.onSelect(e);\n      } else {\n        _this.onCheck(e);\n      }\n    };\n\n    _this.onSelectorDoubleClick = function (e) {\n      var onNodeDoubleClick = _this.props.context.onNodeDoubleClick;\n      onNodeDoubleClick(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onSelect = function (e) {\n      if (_this.isDisabled()) return;\n      var onNodeSelect = _this.props.context.onNodeSelect;\n      e.preventDefault();\n      onNodeSelect(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onCheck = function (e) {\n      if (_this.isDisabled()) return;\n      var _this$props = _this.props,\n          disableCheckbox = _this$props.disableCheckbox,\n          checked = _this$props.checked;\n      var onNodeCheck = _this.props.context.onNodeCheck;\n      if (!_this.isCheckable() || disableCheckbox) return;\n      e.preventDefault();\n      var targetChecked = !checked;\n      onNodeCheck(e, convertNodePropsToEventData(_this.props), targetChecked);\n    };\n\n    _this.onMouseEnter = function (e) {\n      var onNodeMouseEnter = _this.props.context.onNodeMouseEnter;\n      onNodeMouseEnter(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onMouseLeave = function (e) {\n      var onNodeMouseLeave = _this.props.context.onNodeMouseLeave;\n      onNodeMouseLeave(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onContextMenu = function (e) {\n      var onNodeContextMenu = _this.props.context.onNodeContextMenu;\n      onNodeContextMenu(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onDragStart = function (e) {\n      var onNodeDragStart = _this.props.context.onNodeDragStart;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: true\n      });\n\n      onNodeDragStart(e, _assertThisInitialized(_this));\n\n      try {\n        // ie throw error\n        // firefox-need-it\n        e.dataTransfer.setData('text/plain', '');\n      } catch (error) {// empty\n      }\n    };\n\n    _this.onDragEnter = function (e) {\n      var onNodeDragEnter = _this.props.context.onNodeDragEnter;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragEnter(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragOver = function (e) {\n      var onNodeDragOver = _this.props.context.onNodeDragOver;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragOver(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragLeave = function (e) {\n      var onNodeDragLeave = _this.props.context.onNodeDragLeave;\n      e.stopPropagation();\n      onNodeDragLeave(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragEnd = function (e) {\n      var onNodeDragEnd = _this.props.context.onNodeDragEnd;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDragEnd(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDrop = function (e) {\n      var onNodeDrop = _this.props.context.onNodeDrop;\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDrop(e, _assertThisInitialized(_this));\n    };\n\n    _this.onExpand = function (e) {\n      var _this$props2 = _this.props,\n          loading = _this$props2.loading,\n          onNodeExpand = _this$props2.context.onNodeExpand;\n      if (loading) return;\n      onNodeExpand(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.setSelectHandle = function (node) {\n      _this.selectHandle = node;\n    };\n\n    _this.getNodeState = function () {\n      var expanded = _this.props.expanded;\n\n      if (_this.isLeaf()) {\n        return null;\n      }\n\n      return expanded ? ICON_OPEN : ICON_CLOSE;\n    };\n\n    _this.hasChildren = function () {\n      var eventKey = _this.props.eventKey;\n      var keyEntities = _this.props.context.keyEntities;\n\n      var _ref = keyEntities[eventKey] || {},\n          children = _ref.children;\n\n      return !!(children || []).length;\n    };\n\n    _this.isLeaf = function () {\n      var _this$props3 = _this.props,\n          isLeaf = _this$props3.isLeaf,\n          loaded = _this$props3.loaded;\n      var loadData = _this.props.context.loadData;\n\n      var hasChildren = _this.hasChildren();\n\n      if (isLeaf === false) {\n        return false;\n      }\n\n      return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n    };\n\n    _this.isDisabled = function () {\n      var disabled = _this.props.disabled;\n      var treeDisabled = _this.props.context.disabled;\n      return !!(treeDisabled || disabled);\n    };\n\n    _this.isCheckable = function () {\n      var checkable = _this.props.checkable;\n      var treeCheckable = _this.props.context.checkable; // Return false if tree or treeNode is not checkable\n\n      if (!treeCheckable || checkable === false) return false;\n      return treeCheckable;\n    };\n\n    _this.syncLoadData = function (props) {\n      var expanded = props.expanded,\n          loading = props.loading,\n          loaded = props.loaded;\n      var _this$props$context = _this.props.context,\n          loadData = _this$props$context.loadData,\n          onNodeLoad = _this$props$context.onNodeLoad;\n\n      if (loading) {\n        return;\n      } // read from state to avoid loadData at same time\n\n\n      if (loadData && expanded && !_this.isLeaf()) {\n        // We needn't reload data when has children in sync logic\n        // It's only needed in node expanded\n        if (!_this.hasChildren() && !loaded) {\n          onNodeLoad(convertNodePropsToEventData(_this.props));\n        }\n      }\n    };\n\n    _this.isDraggable = function () {\n      var _this$props4 = _this.props,\n          data = _this$props4.data,\n          draggable = _this$props4.context.draggable;\n      return !!(draggable && (!draggable.nodeDraggable || draggable.nodeDraggable(data)));\n    };\n\n    _this.renderDragHandler = function () {\n      var _this$props$context2 = _this.props.context,\n          draggable = _this$props$context2.draggable,\n          prefixCls = _this$props$context2.prefixCls;\n      return (draggable === null || draggable === void 0 ? void 0 : draggable.icon) ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-draggable-icon\")\n      }, draggable.icon) : null;\n    };\n\n    _this.renderSwitcherIconDom = function (isLeaf) {\n      var switcherIconFromProps = _this.props.switcherIcon;\n      var switcherIconFromCtx = _this.props.context.switcherIcon;\n      var switcherIcon = switcherIconFromProps || switcherIconFromCtx; // if switcherIconDom is null, no render switcher span\n\n      if (typeof switcherIcon === 'function') {\n        return switcherIcon(_objectSpread(_objectSpread({}, _this.props), {}, {\n          isLeaf: isLeaf\n        }));\n      }\n\n      return switcherIcon;\n    };\n\n    _this.renderSwitcher = function () {\n      var expanded = _this.props.expanded;\n      var prefixCls = _this.props.context.prefixCls;\n\n      if (_this.isLeaf()) {\n        // if switcherIconDom is null, no render switcher span\n        var _switcherIconDom = _this.renderSwitcherIconDom(true);\n\n        return _switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher-noop\"))\n        }, _switcherIconDom) : null;\n      }\n\n      var switcherCls = classNames(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher_\").concat(expanded ? ICON_OPEN : ICON_CLOSE));\n\n      var switcherIconDom = _this.renderSwitcherIconDom(false);\n\n      return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: _this.onExpand,\n        className: switcherCls\n      }, switcherIconDom) : null;\n    };\n\n    _this.renderCheckbox = function () {\n      var _this$props5 = _this.props,\n          checked = _this$props5.checked,\n          halfChecked = _this$props5.halfChecked,\n          disableCheckbox = _this$props5.disableCheckbox;\n      var prefixCls = _this.props.context.prefixCls;\n\n      var disabled = _this.isDisabled();\n\n      var checkable = _this.isCheckable();\n\n      if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n      var $custom = typeof checkable !== 'boolean' ? checkable : null;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames(\"\".concat(prefixCls, \"-checkbox\"), checked && \"\".concat(prefixCls, \"-checkbox-checked\"), !checked && halfChecked && \"\".concat(prefixCls, \"-checkbox-indeterminate\"), (disabled || disableCheckbox) && \"\".concat(prefixCls, \"-checkbox-disabled\")),\n        onClick: _this.onCheck\n      }, $custom);\n    };\n\n    _this.renderIcon = function () {\n      var loading = _this.props.loading;\n      var prefixCls = _this.props.context.prefixCls;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__\").concat(_this.getNodeState() || 'docu'), loading && \"\".concat(prefixCls, \"-icon_loading\"))\n      });\n    };\n\n    _this.renderSelector = function () {\n      var dragNodeHighlight = _this.state.dragNodeHighlight;\n      var _this$props6 = _this.props,\n          title = _this$props6.title,\n          selected = _this$props6.selected,\n          icon = _this$props6.icon,\n          loading = _this$props6.loading,\n          data = _this$props6.data;\n      var _this$props$context3 = _this.props.context,\n          prefixCls = _this$props$context3.prefixCls,\n          showIcon = _this$props$context3.showIcon,\n          treeIcon = _this$props$context3.icon,\n          loadData = _this$props$context3.loadData,\n          titleRender = _this$props$context3.titleRender;\n\n      var disabled = _this.isDisabled();\n\n      var wrapClass = \"\".concat(prefixCls, \"-node-content-wrapper\"); // Icon - Still show loading icon when loading without showIcon\n\n      var $icon;\n\n      if (showIcon) {\n        var currentIcon = icon || treeIcon;\n        $icon = currentIcon ? /*#__PURE__*/React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__customize\"))\n        }, typeof currentIcon === 'function' ? currentIcon(_this.props) : currentIcon) : _this.renderIcon();\n      } else if (loadData && loading) {\n        $icon = _this.renderIcon();\n      } // Title\n\n\n      var titleNode;\n\n      if (typeof title === 'function') {\n        titleNode = title(data);\n      } else if (titleRender) {\n        titleNode = titleRender(data);\n      } else {\n        titleNode = title;\n      }\n\n      var $title = /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-title\")\n      }, titleNode);\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: _this.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: classNames(\"\".concat(wrapClass), \"\".concat(wrapClass, \"-\").concat(_this.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && \"\".concat(prefixCls, \"-node-selected\")),\n        onMouseEnter: _this.onMouseEnter,\n        onMouseLeave: _this.onMouseLeave,\n        onContextMenu: _this.onContextMenu,\n        onClick: _this.onSelectorClick,\n        onDoubleClick: _this.onSelectorDoubleClick\n      }, $icon, $title, _this.renderDropIndicator());\n    };\n\n    _this.renderDropIndicator = function () {\n      var _this$props7 = _this.props,\n          disabled = _this$props7.disabled,\n          eventKey = _this$props7.eventKey;\n      var _this$props$context4 = _this.props.context,\n          draggable = _this$props$context4.draggable,\n          dropLevelOffset = _this$props$context4.dropLevelOffset,\n          dropPosition = _this$props$context4.dropPosition,\n          prefixCls = _this$props$context4.prefixCls,\n          indent = _this$props$context4.indent,\n          dropIndicatorRender = _this$props$context4.dropIndicatorRender,\n          dragOverNodeKey = _this$props$context4.dragOverNodeKey,\n          direction = _this$props$context4.direction;\n      var rootDraggable = draggable !== false; // allowDrop is calculated in Tree.tsx, there is no need for calc it here\n\n      var showIndicator = !disabled && rootDraggable && dragOverNodeKey === eventKey;\n      return showIndicator ? dropIndicatorRender({\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        indent: indent,\n        prefixCls: prefixCls,\n        direction: direction\n      }) : null;\n    };\n\n    return _this;\n  }\n\n  _createClass(InternalTreeNode, [{\n    key: \"componentDidMount\",\n    value: // Isomorphic needn't load data in server side\n    function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"isSelectable\",\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.props.context.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n  }, {\n    key: \"render\",\n    value: // =========================== Render ===========================\n    function render() {\n      var _classNames;\n\n      var _this$props8 = this.props,\n          eventKey = _this$props8.eventKey,\n          className = _this$props8.className,\n          style = _this$props8.style,\n          dragOver = _this$props8.dragOver,\n          dragOverGapTop = _this$props8.dragOverGapTop,\n          dragOverGapBottom = _this$props8.dragOverGapBottom,\n          isLeaf = _this$props8.isLeaf,\n          isStart = _this$props8.isStart,\n          isEnd = _this$props8.isEnd,\n          expanded = _this$props8.expanded,\n          selected = _this$props8.selected,\n          checked = _this$props8.checked,\n          halfChecked = _this$props8.halfChecked,\n          loading = _this$props8.loading,\n          domRef = _this$props8.domRef,\n          active = _this$props8.active,\n          data = _this$props8.data,\n          onMouseMove = _this$props8.onMouseMove,\n          selectable = _this$props8.selectable,\n          otherProps = _objectWithoutProperties(_this$props8, _excluded);\n\n      var _this$props$context5 = this.props.context,\n          prefixCls = _this$props$context5.prefixCls,\n          filterTreeNode = _this$props$context5.filterTreeNode,\n          keyEntities = _this$props$context5.keyEntities,\n          dropContainerKey = _this$props$context5.dropContainerKey,\n          dropTargetKey = _this$props$context5.dropTargetKey,\n          draggingNodeKey = _this$props$context5.draggingNodeKey;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = pickAttrs(otherProps, {\n        aria: true,\n        data: true\n      });\n\n      var _ref2 = keyEntities[eventKey] || {},\n          level = _ref2.level;\n\n      var isEndNode = isEnd[isEnd.length - 1];\n      var mergedDraggable = this.isDraggable();\n      var draggableWithoutDisabled = !disabled && mergedDraggable;\n      var dragging = draggingNodeKey === eventKey;\n      var ariaSelected = selectable !== undefined ? {\n        'aria-selected': !!selectable\n      } : undefined;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: domRef,\n        className: classNames(className, \"\".concat(prefixCls, \"-treenode\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-switcher-\").concat(expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-indeterminate\"), halfChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-selected\"), selected), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-active\"), active), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-leaf-last\"), isEndNode), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-draggable\"), mergedDraggable), _defineProperty(_classNames, \"dragging\", dragging), _defineProperty(_classNames, 'drop-target', dropTargetKey === eventKey), _defineProperty(_classNames, 'drop-container', dropContainerKey === eventKey), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(convertNodePropsToEventData(this.props))), _classNames)),\n        style: style // Draggable config\n        ,\n        draggable: draggableWithoutDisabled,\n        \"aria-grabbed\": dragging,\n        onDragStart: draggableWithoutDisabled ? this.onDragStart : undefined // Drop config\n        ,\n        onDragEnter: mergedDraggable ? this.onDragEnter : undefined,\n        onDragOver: mergedDraggable ? this.onDragOver : undefined,\n        onDragLeave: mergedDraggable ? this.onDragLeave : undefined,\n        onDrop: mergedDraggable ? this.onDrop : undefined,\n        onDragEnd: mergedDraggable ? this.onDragEnd : undefined,\n        onMouseMove: onMouseMove\n      }, ariaSelected, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(Indent, {\n        prefixCls: prefixCls,\n        level: level,\n        isStart: isStart,\n        isEnd: isEnd\n      }), this.renderDragHandler(), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector());\n    }\n  }]);\n\n  return InternalTreeNode;\n}(React.Component);\n\nvar ContextTreeNode = function ContextTreeNode(props) {\n  return /*#__PURE__*/React.createElement(TreeContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(InternalTreeNode, _extends({}, props, {\n      context: context\n    }));\n  });\n};\n\nContextTreeNode.displayName = 'TreeNode';\nContextTreeNode.defaultProps = {\n  title: defaultTitle\n};\nContextTreeNode.isTreeNode = 1;\nexport { InternalTreeNode };\nexport default ContextTreeNode;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport omit from \"rc-util/es/omit\";\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from \"rc-util/es/warning\";\nimport { getPosition, isTreeNode } from '../util';\nexport function getKey(key, pos) {\n  if (key !== null && key !== undefined) {\n    return key;\n  }\n\n  return pos;\n}\nexport function fillFieldNames(fieldNames) {\n  var _ref = fieldNames || {},\n      title = _ref.title,\n      _title = _ref._title,\n      key = _ref.key,\n      children = _ref.children;\n\n  var mergedTitle = title || 'title';\n  return {\n    title: mergedTitle,\n    _title: _title || [mergedTitle],\n    key: key || 'key',\n    children: children || 'children'\n  };\n}\n/**\n * Warning if TreeNode do not provides key\n */\n\nexport function warningWithoutKey(treeData, fieldNames) {\n  var keys = new Map();\n\n  function dig(list) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    (list || []).forEach(function (treeNode) {\n      var key = treeNode[fieldNames.key];\n      var children = treeNode[fieldNames.children];\n      warning(key !== null && key !== undefined, \"Tree node must have a certain key: [\".concat(path).concat(key, \"]\"));\n      var recordKey = String(key);\n      warning(!keys.has(recordKey) || key === null || key === undefined, \"Same 'key' exist in the Tree: \".concat(recordKey));\n      keys.set(recordKey, true);\n      dig(children, \"\".concat(path).concat(recordKey, \" > \"));\n    });\n  }\n\n  dig(treeData);\n}\n/**\n * Convert `children` of Tree into `treeData` structure.\n */\n\nexport function convertTreeToData(rootNodes) {\n  function dig(node) {\n    var treeNodes = toArray(node);\n    return treeNodes.map(function (treeNode) {\n      // Filter invalidate node\n      if (!isTreeNode(treeNode)) {\n        warning(!treeNode, 'Tree/TreeNode can only accept TreeNode as children.');\n        return null;\n      }\n\n      var key = treeNode.key;\n\n      var _treeNode$props = treeNode.props,\n          children = _treeNode$props.children,\n          rest = _objectWithoutProperties(_treeNode$props, _excluded);\n\n      var dataNode = _objectSpread({\n        key: key\n      }, rest);\n\n      var parsedChildren = dig(children);\n\n      if (parsedChildren.length) {\n        dataNode.children = parsedChildren;\n      }\n\n      return dataNode;\n    }).filter(function (dataNode) {\n      return dataNode;\n    });\n  }\n\n  return dig(rootNodes);\n}\n/**\n * Flat nest tree data into flatten list. This is used for virtual list render.\n * @param treeNodeList Origin data node list\n * @param expandedKeys\n * need expanded keys, provides `true` means all expanded (used in `rc-tree-select`).\n */\n\nexport function flattenTreeData(treeNodeList, expandedKeys, fieldNames) {\n  var _fillFieldNames = fillFieldNames(fieldNames),\n      fieldTitles = _fillFieldNames._title,\n      fieldKey = _fillFieldNames.key,\n      fieldChildren = _fillFieldNames.children;\n\n  var expandedKeySet = new Set(expandedKeys === true ? [] : expandedKeys);\n  var flattenList = [];\n\n  function dig(list) {\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return list.map(function (treeNode, index) {\n      var pos = getPosition(parent ? parent.pos : '0', index);\n      var mergedKey = getKey(treeNode[fieldKey], pos); // Pick matched title in field title list\n\n      var mergedTitle;\n\n      for (var i = 0; i < fieldTitles.length; i += 1) {\n        var fieldTitle = fieldTitles[i];\n\n        if (treeNode[fieldTitle] !== undefined) {\n          mergedTitle = treeNode[fieldTitle];\n          break;\n        }\n      } // Add FlattenDataNode into list\n\n\n      var flattenNode = _objectSpread(_objectSpread({}, omit(treeNode, [].concat(_toConsumableArray(fieldTitles), [fieldKey, fieldChildren]))), {}, {\n        title: mergedTitle,\n        key: mergedKey,\n        parent: parent,\n        pos: pos,\n        children: null,\n        data: treeNode,\n        isStart: [].concat(_toConsumableArray(parent ? parent.isStart : []), [index === 0]),\n        isEnd: [].concat(_toConsumableArray(parent ? parent.isEnd : []), [index === list.length - 1])\n      });\n\n      flattenList.push(flattenNode); // Loop treeNode children\n\n      if (expandedKeys === true || expandedKeySet.has(mergedKey)) {\n        flattenNode.children = dig(treeNode[fieldChildren] || [], flattenNode);\n      } else {\n        flattenNode.children = [];\n      }\n\n      return flattenNode;\n    });\n  }\n\n  dig(treeNodeList);\n  return flattenList;\n}\n/**\n * Traverse all the data by `treeData`.\n * Please not use it out of the `rc-tree` since we may refactor this code.\n */\n\nexport function traverseDataNodes(dataNodes, callback, // To avoid too many params, let use config instead of origin param\nconfig) {\n  var mergedConfig = {};\n\n  if (_typeof(config) === 'object') {\n    mergedConfig = config;\n  } else {\n    mergedConfig = {\n      externalGetKey: config\n    };\n  }\n\n  mergedConfig = mergedConfig || {}; // Init config\n\n  var _mergedConfig = mergedConfig,\n      childrenPropName = _mergedConfig.childrenPropName,\n      externalGetKey = _mergedConfig.externalGetKey,\n      fieldNames = _mergedConfig.fieldNames;\n\n  var _fillFieldNames2 = fillFieldNames(fieldNames),\n      fieldKey = _fillFieldNames2.key,\n      fieldChildren = _fillFieldNames2.children;\n\n  var mergeChildrenPropName = childrenPropName || fieldChildren; // Get keys\n\n  var syntheticGetKey;\n\n  if (externalGetKey) {\n    if (typeof externalGetKey === 'string') {\n      syntheticGetKey = function syntheticGetKey(node) {\n        return node[externalGetKey];\n      };\n    } else if (typeof externalGetKey === 'function') {\n      syntheticGetKey = function syntheticGetKey(node) {\n        return externalGetKey(node);\n      };\n    }\n  } else {\n    syntheticGetKey = function syntheticGetKey(node, pos) {\n      return getKey(node[fieldKey], pos);\n    };\n  } // Process\n\n\n  function processNode(node, index, parent, pathNodes) {\n    var children = node ? node[mergeChildrenPropName] : dataNodes;\n    var pos = node ? getPosition(parent.pos, index) : '0';\n    var connectNodes = node ? [].concat(_toConsumableArray(pathNodes), [node]) : []; // Process node if is not root\n\n    if (node) {\n      var key = syntheticGetKey(node, pos);\n      var data = {\n        node: node,\n        index: index,\n        pos: pos,\n        key: key,\n        parentPos: parent.node ? parent.pos : null,\n        level: parent.level + 1,\n        nodes: connectNodes\n      };\n      callback(data);\n    } // Process children node\n\n\n    if (children) {\n      children.forEach(function (subNode, subIndex) {\n        processNode(subNode, subIndex, {\n          node: node,\n          pos: pos,\n          level: parent ? parent.level + 1 : -1\n        }, connectNodes);\n      });\n    }\n  }\n\n  processNode(null);\n}\n/**\n * Convert `treeData` into entity records.\n */\n\nexport function convertDataToEntities(dataNodes) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      initWrapper = _ref2.initWrapper,\n      processEntity = _ref2.processEntity,\n      onProcessFinished = _ref2.onProcessFinished,\n      externalGetKey = _ref2.externalGetKey,\n      childrenPropName = _ref2.childrenPropName,\n      fieldNames = _ref2.fieldNames;\n\n  var\n  /** @deprecated Use `config.externalGetKey` instead */\n  legacyExternalGetKey = arguments.length > 2 ? arguments[2] : undefined;\n  // Init config\n  var mergedExternalGetKey = externalGetKey || legacyExternalGetKey;\n  var posEntities = {};\n  var keyEntities = {};\n  var wrapper = {\n    posEntities: posEntities,\n    keyEntities: keyEntities\n  };\n\n  if (initWrapper) {\n    wrapper = initWrapper(wrapper) || wrapper;\n  }\n\n  traverseDataNodes(dataNodes, function (item) {\n    var node = item.node,\n        index = item.index,\n        pos = item.pos,\n        key = item.key,\n        parentPos = item.parentPos,\n        level = item.level,\n        nodes = item.nodes;\n    var entity = {\n      node: node,\n      nodes: nodes,\n      index: index,\n      key: key,\n      pos: pos,\n      level: level\n    };\n    var mergedKey = getKey(key, pos);\n    posEntities[pos] = entity;\n    keyEntities[mergedKey] = entity; // Fill children\n\n    entity.parent = posEntities[parentPos];\n\n    if (entity.parent) {\n      entity.parent.children = entity.parent.children || [];\n      entity.parent.children.push(entity);\n    }\n\n    if (processEntity) {\n      processEntity(entity, wrapper);\n    }\n  }, {\n    externalGetKey: mergedExternalGetKey,\n    childrenPropName: childrenPropName,\n    fieldNames: fieldNames\n  });\n\n  if (onProcessFinished) {\n    onProcessFinished(wrapper);\n  }\n\n  return wrapper;\n}\n/**\n * Get TreeNode props with Tree props.\n */\n\nexport function getTreeNodeProps(key, _ref3) {\n  var expandedKeys = _ref3.expandedKeys,\n      selectedKeys = _ref3.selectedKeys,\n      loadedKeys = _ref3.loadedKeys,\n      loadingKeys = _ref3.loadingKeys,\n      checkedKeys = _ref3.checkedKeys,\n      halfCheckedKeys = _ref3.halfCheckedKeys,\n      dragOverNodeKey = _ref3.dragOverNodeKey,\n      dropPosition = _ref3.dropPosition,\n      keyEntities = _ref3.keyEntities;\n  var entity = keyEntities[key];\n  var treeNodeProps = {\n    eventKey: key,\n    expanded: expandedKeys.indexOf(key) !== -1,\n    selected: selectedKeys.indexOf(key) !== -1,\n    loaded: loadedKeys.indexOf(key) !== -1,\n    loading: loadingKeys.indexOf(key) !== -1,\n    checked: checkedKeys.indexOf(key) !== -1,\n    halfChecked: halfCheckedKeys.indexOf(key) !== -1,\n    pos: String(entity ? entity.pos : ''),\n    // [Legacy] Drag props\n    // Since the interaction of drag is changed, the semantic of the props are\n    // not accuracy, I think it should be finally removed\n    dragOver: dragOverNodeKey === key && dropPosition === 0,\n    dragOverGapTop: dragOverNodeKey === key && dropPosition === -1,\n    dragOverGapBottom: dragOverNodeKey === key && dropPosition === 1\n  };\n  return treeNodeProps;\n}\nexport function convertNodePropsToEventData(props) {\n  var data = props.data,\n      expanded = props.expanded,\n      selected = props.selected,\n      checked = props.checked,\n      loaded = props.loaded,\n      loading = props.loading,\n      halfChecked = props.halfChecked,\n      dragOver = props.dragOver,\n      dragOverGapTop = props.dragOverGapTop,\n      dragOverGapBottom = props.dragOverGapBottom,\n      pos = props.pos,\n      active = props.active,\n      eventKey = props.eventKey;\n\n  var eventData = _objectSpread(_objectSpread({}, data), {}, {\n    expanded: expanded,\n    selected: selected,\n    checked: checked,\n    loaded: loaded,\n    loading: loading,\n    halfChecked: halfChecked,\n    dragOver: dragOver,\n    dragOverGapTop: dragOverGapTop,\n    dragOverGapBottom: dragOverGapBottom,\n    pos: pos,\n    active: active,\n    key: eventKey\n  });\n\n  if (!('props' in eventData)) {\n    Object.defineProperty(eventData, 'props', {\n      get: function get() {\n        warning(false, 'Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`.');\n        return props;\n      }\n    });\n  }\n\n  return eventData;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\"];\n\n/* eslint-disable no-lonely-if */\n\n/**\n * Legacy code. Should avoid to use if you are new to import these code.\n */\nimport React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from './TreeNode';\nexport function arrDel(list, value) {\n  if (!list) return [];\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n\n  return clone;\n}\nexport function arrAdd(list, value) {\n  var clone = (list || []).slice();\n\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n\n  return clone;\n}\nexport function posToArr(pos) {\n  return pos.split('-');\n}\nexport function getPosition(level, index) {\n  return \"\".concat(level, \"-\").concat(index);\n}\nexport function isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\nexport function getDragChildrenKeys(dragNodeKey, keyEntities) {\n  // not contains self\n  // self for left or right drag\n  var dragChildrenKeys = [];\n  var entity = keyEntities[dragNodeKey];\n\n  function dig() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    list.forEach(function (_ref) {\n      var key = _ref.key,\n          children = _ref.children;\n      dragChildrenKeys.push(key);\n      dig(children);\n    });\n  }\n\n  dig(entity.children);\n  return dragChildrenKeys;\n}\nexport function isLastChild(treeNodeEntity) {\n  if (treeNodeEntity.parent) {\n    var posArr = posToArr(treeNodeEntity.pos);\n    return Number(posArr[posArr.length - 1]) === treeNodeEntity.parent.children.length - 1;\n  }\n\n  return false;\n}\nexport function isFirstChild(treeNodeEntity) {\n  var posArr = posToArr(treeNodeEntity.pos);\n  return Number(posArr[posArr.length - 1]) === 0;\n} // Only used when drag, not affect SSR.\n\nexport function calcDropPosition(event, dragNode, targetNode, indent, startMousePosition, allowDrop, flattenedNodes, keyEntities, expandKeys, direction) {\n  var _abstractDropNodeEnti;\n\n  var clientX = event.clientX,\n      clientY = event.clientY;\n\n  var _event$target$getBoun = event.target.getBoundingClientRect(),\n      top = _event$target$getBoun.top,\n      height = _event$target$getBoun.height; // optional chain for testing\n\n\n  var horizontalMouseOffset = (direction === 'rtl' ? -1 : 1) * (((startMousePosition === null || startMousePosition === void 0 ? void 0 : startMousePosition.x) || 0) - clientX);\n  var rawDropLevelOffset = (horizontalMouseOffset - 12) / indent; // find abstract drop node by horizontal offset\n\n  var abstractDropNodeEntity = keyEntities[targetNode.props.eventKey];\n\n  if (clientY < top + height / 2) {\n    // first half, set abstract drop node to previous node\n    var nodeIndex = flattenedNodes.findIndex(function (flattenedNode) {\n      return flattenedNode.key === abstractDropNodeEntity.key;\n    });\n    var prevNodeIndex = nodeIndex <= 0 ? 0 : nodeIndex - 1;\n    var prevNodeKey = flattenedNodes[prevNodeIndex].key;\n    abstractDropNodeEntity = keyEntities[prevNodeKey];\n  }\n\n  var initialAbstractDropNodeKey = abstractDropNodeEntity.key;\n  var abstractDragOverEntity = abstractDropNodeEntity;\n  var dragOverNodeKey = abstractDropNodeEntity.key;\n  var dropPosition = 0;\n  var dropLevelOffset = 0; // Only allow cross level drop when dragging on a non-expanded node\n\n  if (!expandKeys.includes(initialAbstractDropNodeKey)) {\n    for (var i = 0; i < rawDropLevelOffset; i += 1) {\n      if (isLastChild(abstractDropNodeEntity)) {\n        abstractDropNodeEntity = abstractDropNodeEntity.parent;\n        dropLevelOffset += 1;\n      } else {\n        break;\n      }\n    }\n  }\n\n  var abstractDragDataNode = dragNode.props.data;\n  var abstractDropDataNode = abstractDropNodeEntity.node;\n  var dropAllowed = true;\n\n  if (isFirstChild(abstractDropNodeEntity) && abstractDropNodeEntity.level === 0 && clientY < top + height / 2 && allowDrop({\n    dragNode: abstractDragDataNode,\n    dropNode: abstractDropDataNode,\n    dropPosition: -1\n  }) && abstractDropNodeEntity.key === targetNode.props.eventKey) {\n    // first half of first node in first level\n    dropPosition = -1;\n  } else if ((abstractDragOverEntity.children || []).length && expandKeys.includes(dragOverNodeKey)) {\n    // drop on expanded node\n    // only allow drop inside\n    if (allowDrop({\n      dragNode: abstractDragDataNode,\n      dropNode: abstractDropDataNode,\n      dropPosition: 0\n    })) {\n      dropPosition = 0;\n    } else {\n      dropAllowed = false;\n    }\n  } else if (dropLevelOffset === 0) {\n    if (rawDropLevelOffset > -1.5) {\n      // | Node     | <- abstractDropNode\n      // | -^-===== | <- mousePosition\n      // 1. try drop after\n      // 2. do not allow drop\n      if (allowDrop({\n        dragNode: abstractDragDataNode,\n        dropNode: abstractDropDataNode,\n        dropPosition: 1\n      })) {\n        dropPosition = 1;\n      } else {\n        dropAllowed = false;\n      }\n    } else {\n      // | Node     | <- abstractDropNode\n      // | ---==^== | <- mousePosition\n      // whether it has children or doesn't has children\n      // always\n      // 1. try drop inside\n      // 2. try drop after\n      // 3. do not allow drop\n      if (allowDrop({\n        dragNode: abstractDragDataNode,\n        dropNode: abstractDropDataNode,\n        dropPosition: 0\n      })) {\n        dropPosition = 0;\n      } else if (allowDrop({\n        dragNode: abstractDragDataNode,\n        dropNode: abstractDropDataNode,\n        dropPosition: 1\n      })) {\n        dropPosition = 1;\n      } else {\n        dropAllowed = false;\n      }\n    }\n  } else {\n    // | Node1 | <- abstractDropNode\n    //      |  Node2  |\n    // --^--|----=====| <- mousePosition\n    // 1. try insert after Node1\n    // 2. do not allow drop\n    if (allowDrop({\n      dragNode: abstractDragDataNode,\n      dropNode: abstractDropDataNode,\n      dropPosition: 1\n    })) {\n      dropPosition = 1;\n    } else {\n      dropAllowed = false;\n    }\n  }\n\n  return {\n    dropPosition: dropPosition,\n    dropLevelOffset: dropLevelOffset,\n    dropTargetKey: abstractDropNodeEntity.key,\n    dropTargetPos: abstractDropNodeEntity.pos,\n    dragOverNodeKey: dragOverNodeKey,\n    dropContainerKey: dropPosition === 0 ? null : ((_abstractDropNodeEnti = abstractDropNodeEntity.parent) === null || _abstractDropNodeEnti === void 0 ? void 0 : _abstractDropNodeEnti.key) || null,\n    dropAllowed: dropAllowed\n  };\n}\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\n\nexport function calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n\n  return selectedKeys;\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\n\nexport function convertDataToTree(treeData, processor) {\n  if (!treeData) return [];\n\n  var _ref2 = processor || {},\n      _ref2$processProps = _ref2.processProps,\n      processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref3) {\n    var children = _ref3.children,\n        props = _objectWithoutProperties(_ref3, _excluded);\n\n    var childrenNodes = convertDataToTree(children, processor);\n    return /*#__PURE__*/React.createElement(TreeNode, _extends({\n      key: props.key\n    }, processProps(props)), childrenNodes);\n  });\n}\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\n\nexport function parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  } // Convert keys to object format\n\n\n  var keyProps;\n\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if (_typeof(keys) === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    warning(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  return keyProps;\n}\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\n\nexport function conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = new Set();\n\n  function conductUp(key) {\n    if (expandedKeys.has(key)) return;\n    var entity = keyEntities[key];\n    if (!entity) return;\n    expandedKeys.add(key);\n    var parent = entity.parent,\n        node = entity.node;\n    if (node.disabled) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n  return _toConsumableArray(expandedKeys);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { convertDataToEntities } from \"rc-tree/es/utils/treeUtil\";\nimport { VALUE_SPLIT } from '../utils/commonUtil';\n/** Lazy parse options data into conduct-able info to avoid perf issue in single mode */\n\nexport default (function (options, fieldNames) {\n  var cacheRef = React.useRef({\n    options: null,\n    info: null\n  });\n  var getEntities = React.useCallback(function () {\n    if (cacheRef.current.options !== options) {\n      cacheRef.current.options = options;\n      cacheRef.current.info = convertDataToEntities(options, {\n        fieldNames: fieldNames,\n        initWrapper: function initWrapper(wrapper) {\n          return _objectSpread(_objectSpread({}, wrapper), {}, {\n            pathKeyEntities: {}\n          });\n        },\n        processEntity: function processEntity(entity, wrapper) {\n          var pathKey = entity.nodes.map(function (node) {\n            return node[fieldNames.value];\n          }).join(VALUE_SPLIT);\n          wrapper.pathKeyEntities[pathKey] = entity; // Overwrite origin key.\n          // this is very hack but we need let conduct logic work with connect path\n\n          entity.key = pathKey;\n        }\n      });\n    }\n\n    return cacheRef.current.info.pathKeyEntities;\n  }, [fieldNames, options]);\n  return getEntities;\n});","import * as React from 'react';\n/**\n * Same as `React.useCallback` but always return a memoized function\n * but redirect to real function.\n */\n\nexport default function useRefFunc(callback) {\n  var funcRef = React.useRef();\n  funcRef.current = callback;\n  var cacheFn = React.useCallback(function () {\n    return funcRef.current.apply(funcRef, arguments);\n  }, []);\n  return cacheFn;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nexport var SEARCH_MARK = '__rc_cascader_search_mark__';\n\nvar defaultFilter = function defaultFilter(search, options, _ref) {\n  var label = _ref.label;\n  return options.some(function (opt) {\n    return String(opt[label]).toLowerCase().includes(search.toLowerCase());\n  });\n};\n\nvar defaultRender = function defaultRender(inputValue, path, prefixCls, fieldNames) {\n  return path.map(function (opt) {\n    return opt[fieldNames.label];\n  }).join(' / ');\n};\n\nexport default (function (search, options, fieldNames, prefixCls, config, changeOnSelect) {\n  var _config$filter = config.filter,\n      filter = _config$filter === void 0 ? defaultFilter : _config$filter,\n      _config$render = config.render,\n      render = _config$render === void 0 ? defaultRender : _config$render,\n      _config$limit = config.limit,\n      limit = _config$limit === void 0 ? 50 : _config$limit,\n      sort = config.sort;\n  return React.useMemo(function () {\n    var filteredOptions = [];\n\n    if (!search) {\n      return [];\n    }\n\n    function dig(list, pathOptions) {\n      list.forEach(function (option) {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n\n        var connectedPathOptions = [].concat(_toConsumableArray(pathOptions), [option]);\n        var children = option[fieldNames.children]; // If current option is filterable\n\n        if ( // If is leaf option\n        !children || children.length === 0 || // If is changeOnSelect\n        changeOnSelect) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            var _objectSpread2;\n\n            filteredOptions.push(_objectSpread(_objectSpread({}, option), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, fieldNames.label, render(search, connectedPathOptions, prefixCls, fieldNames)), _defineProperty(_objectSpread2, SEARCH_MARK, connectedPathOptions), _objectSpread2)));\n          }\n        }\n\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions);\n        }\n      });\n    }\n\n    dig(options, []); // Do sort\n\n    if (sort) {\n      filteredOptions.sort(function (a, b) {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n\n    return limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, changeOnSelect, filter, sort, limit]);\n});","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CascaderContext from '../context';\nexport default function Checkbox(_ref) {\n  var _classNames;\n\n  var prefixCls = _ref.prefixCls,\n      checked = _ref.checked,\n      halfChecked = _ref.halfChecked,\n      disabled = _ref.disabled,\n      onClick = _ref.onClick;\n\n  var _React$useContext = React.useContext(CascaderContext),\n      checkable = _React$useContext.checkable;\n\n  var customCheckbox = typeof checkable !== 'boolean' ? checkable : null;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(\"\".concat(prefixCls), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-indeterminate\"), !checked && halfChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames)),\n    onClick: onClick\n  }, customCheckbox);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\nimport CascaderContext from '../context';\nimport Checkbox from './Checkbox';\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nexport var FIX_LABEL = '__cascader_fix_label__';\nexport default function Column(_ref) {\n  var prefixCls = _ref.prefixCls,\n      multiple = _ref.multiple,\n      options = _ref.options,\n      activeValue = _ref.activeValue,\n      prevValuePath = _ref.prevValuePath,\n      onToggleOpen = _ref.onToggleOpen,\n      onSelect = _ref.onSelect,\n      onActive = _ref.onActive,\n      checkedSet = _ref.checkedSet,\n      halfCheckedSet = _ref.halfCheckedSet,\n      loadingKeys = _ref.loadingKeys,\n      isSelectable = _ref.isSelectable;\n  var menuPrefixCls = \"\".concat(prefixCls, \"-menu\");\n  var menuItemPrefixCls = \"\".concat(prefixCls, \"-menu-item\");\n\n  var _React$useContext = React.useContext(CascaderContext),\n      fieldNames = _React$useContext.fieldNames,\n      changeOnSelect = _React$useContext.changeOnSelect,\n      expandTrigger = _React$useContext.expandTrigger,\n      expandIcon = _React$useContext.expandIcon,\n      loadingIcon = _React$useContext.loadingIcon,\n      dropdownMenuColumnStyle = _React$useContext.dropdownMenuColumnStyle;\n\n  var hoverOpen = expandTrigger === 'hover'; // ============================ Option ============================\n\n  var optionInfoList = React.useMemo(function () {\n    return options.map(function (option) {\n      var _option$FIX_LABEL;\n\n      var disabled = option.disabled;\n      var searchOptions = option[SEARCH_MARK];\n      var label = (_option$FIX_LABEL = option[FIX_LABEL]) !== null && _option$FIX_LABEL !== void 0 ? _option$FIX_LABEL : option[fieldNames.label];\n      var value = option[fieldNames.value];\n      var isMergedLeaf = isLeaf(option, fieldNames); // Get real value of option. Search option is different way.\n\n      var fullPath = searchOptions ? searchOptions.map(function (opt) {\n        return opt[fieldNames.value];\n      }) : [].concat(_toConsumableArray(prevValuePath), [value]);\n      var fullPathKey = toPathKey(fullPath);\n      var isLoading = loadingKeys.includes(fullPathKey); // >>>>> checked\n\n      var checked = checkedSet.has(fullPathKey); // >>>>> halfChecked\n\n      var halfChecked = halfCheckedSet.has(fullPathKey);\n      return {\n        disabled: disabled,\n        label: label,\n        value: value,\n        isLeaf: isMergedLeaf,\n        isLoading: isLoading,\n        checked: checked,\n        halfChecked: halfChecked,\n        option: option,\n        fullPath: fullPath,\n        fullPathKey: fullPathKey\n      };\n    });\n  }, [options, checkedSet, fieldNames, halfCheckedSet, loadingKeys, prevValuePath]); // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: menuPrefixCls,\n    role: \"menu\"\n  }, optionInfoList.map(function (_ref2) {\n    var _classNames;\n\n    var disabled = _ref2.disabled,\n        label = _ref2.label,\n        value = _ref2.value,\n        isMergedLeaf = _ref2.isLeaf,\n        isLoading = _ref2.isLoading,\n        checked = _ref2.checked,\n        halfChecked = _ref2.halfChecked,\n        option = _ref2.option,\n        fullPath = _ref2.fullPath,\n        fullPathKey = _ref2.fullPathKey;\n\n    // >>>>> Open\n    var triggerOpenPath = function triggerOpenPath() {\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\n        onActive(fullPath);\n      }\n    }; // >>>>> Selection\n\n\n    var triggerSelect = function triggerSelect() {\n      if (isSelectable(option)) {\n        onSelect(fullPath, isMergedLeaf);\n      }\n    }; // >>>>> Title\n\n\n    var title;\n\n    if (typeof option.title === 'string') {\n      title = option.title;\n    } else if (typeof label === 'string') {\n      title = label;\n    } // >>>>> Render\n\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: fullPathKey,\n      className: classNames(menuItemPrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-expand\"), !isMergedLeaf), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-active\"), activeValue === value), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-loading\"), isLoading), _classNames)),\n      style: dropdownMenuColumnStyle,\n      role: \"menuitemcheckbox\",\n      title: title,\n      \"aria-checked\": checked,\n      \"data-path-key\": fullPathKey,\n      onClick: function onClick() {\n        triggerOpenPath();\n\n        if (!multiple || isMergedLeaf) {\n          triggerSelect();\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (changeOnSelect) {\n          onToggleOpen(false);\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        if (hoverOpen) {\n          triggerOpenPath();\n        }\n      },\n      onMouseDown: function onMouseDown(e) {\n        // Prevent selector from blurring\n        e.preventDefault();\n      }\n    }, multiple && /*#__PURE__*/React.createElement(Checkbox, {\n      prefixCls: \"\".concat(prefixCls, \"-checkbox\"),\n      checked: checked,\n      halfChecked: halfChecked,\n      disabled: disabled,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        triggerSelect();\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-content\")\n    }, label), !isLoading && expandIcon && !isMergedLeaf && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-expand-icon\")\n    }, expandIcon), isLoading && loadingIcon && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-loading-icon\")\n    }, loadingIcon));\n  }));\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport CascaderContext from '../context';\nimport { useBaseProps } from 'rc-select';\n/**\n * Control the active open options path.\n */\n\nexport default (function () {\n  var _useBaseProps = useBaseProps(),\n      multiple = _useBaseProps.multiple,\n      open = _useBaseProps.open;\n\n  var _React$useContext = React.useContext(CascaderContext),\n      values = _React$useContext.values; // Record current dropdown active options\n  // This also control the open status\n\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeValueCells = _React$useState2[0],\n      setActiveValueCells = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (open && !multiple) {\n      var firstValueCells = values[0];\n      setActiveValueCells(firstValueCells || []);\n    }\n  },\n  /* eslint-disable react-hooks/exhaustive-deps */\n  [open]);\n  return [activeValueCells, setActiveValueCells];\n});","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useBaseProps } from 'rc-select';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nexport default (function (ref, options, fieldNames, activeValueCells, setActiveValueCells, onKeyBoardSelect) {\n  var _useBaseProps = useBaseProps(),\n      direction = _useBaseProps.direction,\n      searchValue = _useBaseProps.searchValue,\n      toggleOpen = _useBaseProps.toggleOpen,\n      open = _useBaseProps.open;\n\n  var rtl = direction === 'rtl';\n\n  var _React$useMemo = React.useMemo(function () {\n    var activeIndex = -1;\n    var currentOptions = options;\n    var mergedActiveIndexes = [];\n    var mergedActiveValueCells = [];\n    var len = activeValueCells.length; // Fill validate active value cells and index\n\n    var _loop = function _loop(i) {\n      // Mark the active index for current options\n      var nextActiveIndex = currentOptions.findIndex(function (option) {\n        return option[fieldNames.value] === activeValueCells[i];\n      });\n\n      if (nextActiveIndex === -1) {\n        return \"break\";\n      }\n\n      activeIndex = nextActiveIndex;\n      mergedActiveIndexes.push(activeIndex);\n      mergedActiveValueCells.push(activeValueCells[i]);\n      currentOptions = currentOptions[activeIndex][fieldNames.children];\n    };\n\n    for (var i = 0; i < len && currentOptions; i += 1) {\n      var _ret = _loop(i);\n\n      if (_ret === \"break\") break;\n    } // Fill last active options\n\n\n    var activeOptions = options;\n\n    for (var _i = 0; _i < mergedActiveIndexes.length - 1; _i += 1) {\n      activeOptions = activeOptions[mergedActiveIndexes[_i]][fieldNames.children];\n    }\n\n    return [mergedActiveValueCells, activeIndex, activeOptions];\n  }, [activeValueCells, fieldNames, options]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 3),\n      validActiveValueCells = _React$useMemo2[0],\n      lastActiveIndex = _React$useMemo2[1],\n      lastActiveOptions = _React$useMemo2[2]; // Update active value cells and scroll to target element\n\n\n  var internalSetActiveValueCells = function internalSetActiveValueCells(next) {\n    setActiveValueCells(next);\n  }; // Same options offset\n\n\n  var offsetActiveOption = function offsetActiveOption(offset) {\n    var len = lastActiveOptions.length;\n    var currentIndex = lastActiveIndex;\n\n    if (currentIndex === -1 && offset < 0) {\n      currentIndex = len;\n    }\n\n    for (var i = 0; i < len; i += 1) {\n      currentIndex = (currentIndex + offset + len) % len;\n      var option = lastActiveOptions[currentIndex];\n\n      if (option && !option.disabled) {\n        var value = option[fieldNames.value];\n        var nextActiveCells = validActiveValueCells.slice(0, -1).concat(value);\n        internalSetActiveValueCells(nextActiveCells);\n        return;\n      }\n    }\n  }; // Different options offset\n\n\n  var prevColumn = function prevColumn() {\n    if (validActiveValueCells.length > 1) {\n      var nextActiveCells = validActiveValueCells.slice(0, -1);\n      internalSetActiveValueCells(nextActiveCells);\n    } else {\n      toggleOpen(false);\n    }\n  };\n\n  var nextColumn = function nextColumn() {\n    var _lastActiveOptions$la;\n\n    var nextOptions = ((_lastActiveOptions$la = lastActiveOptions[lastActiveIndex]) === null || _lastActiveOptions$la === void 0 ? void 0 : _lastActiveOptions$la[fieldNames.children]) || [];\n    var nextOption = nextOptions.find(function (option) {\n      return !option.disabled;\n    });\n\n    if (nextOption) {\n      var nextActiveCells = [].concat(_toConsumableArray(validActiveValueCells), [nextOption[fieldNames.value]]);\n      internalSetActiveValueCells(nextActiveCells);\n    }\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      // scrollTo: treeRef.current?.scrollTo,\n      onKeyDown: function onKeyDown(event) {\n        var which = event.which;\n\n        switch (which) {\n          // >>> Arrow keys\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n            {\n              var offset = 0;\n\n              if (which === KeyCode.UP) {\n                offset = -1;\n              } else if (which === KeyCode.DOWN) {\n                offset = 1;\n              }\n\n              if (offset !== 0) {\n                offsetActiveOption(offset);\n              }\n\n              break;\n            }\n\n          case KeyCode.LEFT:\n            {\n              if (rtl) {\n                nextColumn();\n              } else {\n                prevColumn();\n              }\n\n              break;\n            }\n\n          case KeyCode.RIGHT:\n            {\n              if (rtl) {\n                prevColumn();\n              } else {\n                nextColumn();\n              }\n\n              break;\n            }\n\n          case KeyCode.BACKSPACE:\n            {\n              if (!searchValue) {\n                prevColumn();\n              }\n\n              break;\n            }\n          // >>> Select\n\n          case KeyCode.ENTER:\n            {\n              if (validActiveValueCells.length) {\n                var option = lastActiveOptions[lastActiveIndex]; // Search option should revert back of origin options\n\n                var originOptions = (option === null || option === void 0 ? void 0 : option[SEARCH_MARK]) || [];\n\n                if (originOptions.length) {\n                  onKeyBoardSelect(originOptions.map(function (opt) {\n                    return opt[fieldNames.value];\n                  }), originOptions[originOptions.length - 1]);\n                } else {\n                  onKeyBoardSelect(validActiveValueCells, lastActiveOptions[lastActiveIndex]);\n                }\n              }\n\n              break;\n            }\n          // >>> Close\n\n          case KeyCode.ESC:\n            {\n              toggleOpen(false);\n\n              if (open) {\n                event.stopPropagation();\n              }\n            }\n        }\n      },\n      onKeyUp: function onKeyUp() {}\n    };\n  });\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/* eslint-disable default-case */\nimport classNames from 'classnames';\nimport { useBaseProps } from 'rc-select';\nimport * as React from 'react';\nimport CascaderContext from '../context';\nimport { isLeaf, scrollIntoParentView, toPathKey, toPathKeys, toPathValueStr } from '../utils/commonUtil';\nimport { toPathOptions } from '../utils/treeUtil';\nimport Column, { FIX_LABEL } from './Column';\nimport useActive from './useActive';\nimport useKeyboard from './useKeyboard';\nvar RefOptionList = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _optionColumns$, _optionColumns$$optio, _ref3, _classNames;\n\n  var _useBaseProps = useBaseProps(),\n      prefixCls = _useBaseProps.prefixCls,\n      multiple = _useBaseProps.multiple,\n      searchValue = _useBaseProps.searchValue,\n      toggleOpen = _useBaseProps.toggleOpen,\n      notFoundContent = _useBaseProps.notFoundContent,\n      direction = _useBaseProps.direction;\n\n  var containerRef = React.useRef();\n  var rtl = direction === 'rtl';\n\n  var _React$useContext = React.useContext(CascaderContext),\n      options = _React$useContext.options,\n      values = _React$useContext.values,\n      halfValues = _React$useContext.halfValues,\n      fieldNames = _React$useContext.fieldNames,\n      changeOnSelect = _React$useContext.changeOnSelect,\n      onSelect = _React$useContext.onSelect,\n      searchOptions = _React$useContext.searchOptions,\n      dropdownPrefixCls = _React$useContext.dropdownPrefixCls,\n      loadData = _React$useContext.loadData,\n      expandTrigger = _React$useContext.expandTrigger;\n\n  var mergedPrefixCls = dropdownPrefixCls || prefixCls; // ========================= loadData =========================\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loadingKeys = _React$useState2[0],\n      setLoadingKeys = _React$useState2[1];\n\n  var internalLoadData = function internalLoadData(valueCells) {\n    // Do not load when search\n    if (!loadData || searchValue) {\n      return;\n    }\n\n    var optionList = toPathOptions(valueCells, options, fieldNames);\n    var rawOptions = optionList.map(function (_ref) {\n      var option = _ref.option;\n      return option;\n    });\n    var lastOption = rawOptions[rawOptions.length - 1];\n\n    if (lastOption && !isLeaf(lastOption, fieldNames)) {\n      var pathKey = toPathKey(valueCells);\n      setLoadingKeys(function (keys) {\n        return [].concat(_toConsumableArray(keys), [pathKey]);\n      });\n      loadData(rawOptions);\n    }\n  }; // zombieJ: This is bad. We should make this same as `rc-tree` to use Promise instead.\n\n\n  React.useEffect(function () {\n    if (loadingKeys.length) {\n      loadingKeys.forEach(function (loadingKey) {\n        var valueStrCells = toPathValueStr(loadingKey);\n        var optionList = toPathOptions(valueStrCells, options, fieldNames, true).map(function (_ref2) {\n          var option = _ref2.option;\n          return option;\n        });\n        var lastOption = optionList[optionList.length - 1];\n\n        if (!lastOption || lastOption[fieldNames.children] || isLeaf(lastOption, fieldNames)) {\n          setLoadingKeys(function (keys) {\n            return keys.filter(function (key) {\n              return key !== loadingKey;\n            });\n          });\n        }\n      });\n    }\n  }, [options, loadingKeys, fieldNames]); // ========================== Values ==========================\n\n  var checkedSet = React.useMemo(function () {\n    return new Set(toPathKeys(values));\n  }, [values]);\n  var halfCheckedSet = React.useMemo(function () {\n    return new Set(toPathKeys(halfValues));\n  }, [halfValues]); // ====================== Accessibility =======================\n\n  var _useActive = useActive(),\n      _useActive2 = _slicedToArray(_useActive, 2),\n      activeValueCells = _useActive2[0],\n      setActiveValueCells = _useActive2[1]; // =========================== Path ===========================\n\n\n  var onPathOpen = function onPathOpen(nextValueCells) {\n    setActiveValueCells(nextValueCells); // Trigger loadData\n\n    internalLoadData(nextValueCells);\n  };\n\n  var isSelectable = function isSelectable(option) {\n    var disabled = option.disabled;\n    var isMergedLeaf = isLeaf(option, fieldNames);\n    return !disabled && (isMergedLeaf || changeOnSelect || multiple);\n  };\n\n  var onPathSelect = function onPathSelect(valuePath, leaf) {\n    var fromKeyboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    onSelect(valuePath);\n\n    if (!multiple && (leaf || changeOnSelect && (expandTrigger === 'hover' || fromKeyboard))) {\n      toggleOpen(false);\n    }\n  }; // ========================== Option ==========================\n\n\n  var mergedOptions = React.useMemo(function () {\n    if (searchValue) {\n      return searchOptions;\n    }\n\n    return options;\n  }, [searchValue, searchOptions, options]); // ========================== Column ==========================\n\n  var optionColumns = React.useMemo(function () {\n    var optionList = [{\n      options: mergedOptions\n    }];\n    var currentList = mergedOptions;\n\n    var _loop = function _loop(i) {\n      var activeValueCell = activeValueCells[i];\n      var currentOption = currentList.find(function (option) {\n        return option[fieldNames.value] === activeValueCell;\n      });\n      var subOptions = currentOption === null || currentOption === void 0 ? void 0 : currentOption[fieldNames.children];\n\n      if (!(subOptions === null || subOptions === void 0 ? void 0 : subOptions.length)) {\n        return \"break\";\n      }\n\n      currentList = subOptions;\n      optionList.push({\n        options: subOptions\n      });\n    };\n\n    for (var i = 0; i < activeValueCells.length; i += 1) {\n      var _ret = _loop(i);\n\n      if (_ret === \"break\") break;\n    }\n\n    return optionList;\n  }, [mergedOptions, activeValueCells, fieldNames]); // ========================= Keyboard =========================\n\n  var onKeyboardSelect = function onKeyboardSelect(selectValueCells, option) {\n    if (isSelectable(option)) {\n      onPathSelect(selectValueCells, isLeaf(option, fieldNames), true);\n    }\n  };\n\n  useKeyboard(ref, mergedOptions, fieldNames, activeValueCells, onPathOpen, onKeyboardSelect); // >>>>> Active Scroll\n\n  React.useEffect(function () {\n    for (var i = 0; i < activeValueCells.length; i += 1) {\n      var _containerRef$current;\n\n      var cellPath = activeValueCells.slice(0, i + 1);\n      var cellKeyPath = toPathKey(cellPath);\n      var ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelector(\"li[data-path-key=\\\"\".concat(cellKeyPath.replace(/\\\\{0,2}\"/g, '\\\\\"'), \"\\\"]\"));\n\n      if (ele) {\n        scrollIntoParentView(ele);\n      }\n    }\n  }, [activeValueCells]); // ========================== Render ==========================\n  // >>>>> Empty\n\n  var isEmpty = !((_optionColumns$ = optionColumns[0]) === null || _optionColumns$ === void 0 ? void 0 : (_optionColumns$$optio = _optionColumns$.options) === null || _optionColumns$$optio === void 0 ? void 0 : _optionColumns$$optio.length);\n  var emptyList = [(_ref3 = {}, _defineProperty(_ref3, fieldNames.value, '__EMPTY__'), _defineProperty(_ref3, FIX_LABEL, notFoundContent), _defineProperty(_ref3, \"disabled\", true), _ref3)];\n\n  var columnProps = _objectSpread(_objectSpread({}, props), {}, {\n    multiple: !isEmpty && multiple,\n    onSelect: onPathSelect,\n    onActive: onPathOpen,\n    onToggleOpen: toggleOpen,\n    checkedSet: checkedSet,\n    halfCheckedSet: halfCheckedSet,\n    loadingKeys: loadingKeys,\n    isSelectable: isSelectable\n  }); // >>>>> Columns\n\n\n  var mergedOptionColumns = isEmpty ? [{\n    options: emptyList\n  }] : optionColumns;\n  var columnNodes = mergedOptionColumns.map(function (col, index) {\n    var prevValuePath = activeValueCells.slice(0, index);\n    var activeValue = activeValueCells[index];\n    return /*#__PURE__*/React.createElement(Column, _extends({\n      key: index\n    }, columnProps, {\n      prefixCls: mergedPrefixCls,\n      options: col.options,\n      prevValuePath: prevValuePath,\n      activeValue: activeValue\n    }));\n  }); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(mergedPrefixCls, \"-menus\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(mergedPrefixCls, \"-menu-empty\"), isEmpty), _defineProperty(_classNames, \"\".concat(mergedPrefixCls, \"-rtl\"), rtl), _classNames)),\n    ref: containerRef\n  }, columnNodes);\n});\nexport default RefOptionList;","import warning from \"rc-util/es/warning\";\n\nfunction warningProps(props) {\n  var onPopupVisibleChange = props.onPopupVisibleChange,\n      popupVisible = props.popupVisible,\n      popupClassName = props.popupClassName,\n      popupPlacement = props.popupPlacement;\n  warning(!onPopupVisibleChange, '`onPopupVisibleChange` is deprecated. Please use `onDropdownVisibleChange` instead.');\n  warning(popupVisible === undefined, '`popupVisible` is deprecated. Please use `open` instead.');\n  warning(popupClassName === undefined, '`popupClassName` is deprecated. Please use `dropdownClassName` instead.');\n  warning(popupPlacement === undefined, '`popupPlacement` is deprecated. Please use `placement` instead.');\n} // value in Cascader options should not be null\n\n\nexport function warningNullOptions(options, fieldNames) {\n  if (options) {\n    var recursiveOptions = function recursiveOptions(optionsList) {\n      for (var i = 0; i < optionsList.length; i++) {\n        var option = optionsList[i];\n\n        if (option[fieldNames === null || fieldNames === void 0 ? void 0 : fieldNames.value] === null) {\n          warning(false, '`value` in Cascader options should not be `null`.');\n          return true;\n        }\n\n        if (Array.isArray(option[fieldNames === null || fieldNames === void 0 ? void 0 : fieldNames.children]) && recursiveOptions(option[fieldNames === null || fieldNames === void 0 ? void 0 : fieldNames.children])) {\n          return true;\n        }\n      }\n    };\n\n    recursiveOptions(options);\n  }\n}\nexport default warningProps;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"id\", \"prefixCls\", \"fieldNames\", \"defaultValue\", \"value\", \"changeOnSelect\", \"onChange\", \"displayRender\", \"checkable\", \"searchValue\", \"onSearch\", \"showSearch\", \"expandTrigger\", \"options\", \"dropdownPrefixCls\", \"loadData\", \"popupVisible\", \"open\", \"popupClassName\", \"dropdownClassName\", \"dropdownMenuColumnStyle\", \"popupPlacement\", \"placement\", \"onDropdownVisibleChange\", \"onPopupVisibleChange\", \"expandIcon\", \"loadingIcon\", \"children\", \"dropdownMatchSelectWidth\", \"showCheckedStrategy\"];\nimport { BaseSelect } from 'rc-select';\nimport useId from \"rc-select/es/hooks/useId\";\nimport { conductCheck } from \"rc-tree/es/utils/conductUtil\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport * as React from 'react';\nimport CascaderContext from './context';\nimport useDisplayValues from './hooks/useDisplayValues';\nimport useEntities from './hooks/useEntities';\nimport useMissingValues from './hooks/useMissingValues';\nimport useRefFunc from './hooks/useRefFunc';\nimport useSearchConfig from './hooks/useSearchConfig';\nimport useSearchOptions from './hooks/useSearchOptions';\nimport OptionList from './OptionList';\nimport { fillFieldNames, SHOW_CHILD, SHOW_PARENT, toPathKey, toPathKeys } from './utils/commonUtil';\nimport { formatStrategyValues, toPathOptions } from './utils/treeUtil';\nimport warningProps, { warningNullOptions } from './utils/warningPropsUtil';\n\nfunction isMultipleValue(value) {\n  return Array.isArray(value) && Array.isArray(value[0]);\n}\n\nfunction toRawValues(value) {\n  if (!value) {\n    return [];\n  }\n\n  if (isMultipleValue(value)) {\n    return value;\n  }\n\n  return (value.length === 0 ? [] : [value]).map(function (val) {\n    return Array.isArray(val) ? val : [val];\n  });\n}\n\nvar Cascader = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var id = props.id,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-cascader' : _props$prefixCls,\n      fieldNames = props.fieldNames,\n      defaultValue = props.defaultValue,\n      value = props.value,\n      changeOnSelect = props.changeOnSelect,\n      onChange = props.onChange,\n      displayRender = props.displayRender,\n      checkable = props.checkable,\n      searchValue = props.searchValue,\n      onSearch = props.onSearch,\n      showSearch = props.showSearch,\n      expandTrigger = props.expandTrigger,\n      options = props.options,\n      dropdownPrefixCls = props.dropdownPrefixCls,\n      loadData = props.loadData,\n      popupVisible = props.popupVisible,\n      open = props.open,\n      popupClassName = props.popupClassName,\n      dropdownClassName = props.dropdownClassName,\n      dropdownMenuColumnStyle = props.dropdownMenuColumnStyle,\n      popupPlacement = props.popupPlacement,\n      placement = props.placement,\n      onDropdownVisibleChange = props.onDropdownVisibleChange,\n      onPopupVisibleChange = props.onPopupVisibleChange,\n      _props$expandIcon = props.expandIcon,\n      expandIcon = _props$expandIcon === void 0 ? '>' : _props$expandIcon,\n      loadingIcon = props.loadingIcon,\n      children = props.children,\n      _props$dropdownMatchS = props.dropdownMatchSelectWidth,\n      dropdownMatchSelectWidth = _props$dropdownMatchS === void 0 ? false : _props$dropdownMatchS,\n      _props$showCheckedStr = props.showCheckedStrategy,\n      showCheckedStrategy = _props$showCheckedStr === void 0 ? SHOW_PARENT : _props$showCheckedStr,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var mergedId = useId(id);\n  var multiple = !!checkable; // =========================== Values ===========================\n\n  var _useMergedState = useMergedState(defaultValue, {\n    value: value,\n    postState: toRawValues\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      rawValues = _useMergedState2[0],\n      setRawValues = _useMergedState2[1]; // ========================= FieldNames =========================\n\n\n  var mergedFieldNames = React.useMemo(function () {\n    return fillFieldNames(fieldNames);\n  },\n  /* eslint-disable react-hooks/exhaustive-deps */\n  [JSON.stringify(fieldNames)]); // =========================== Option ===========================\n\n  var mergedOptions = React.useMemo(function () {\n    return options || [];\n  }, [options]); // Only used in multiple mode, this fn will not call in single mode\n\n  var getPathKeyEntities = useEntities(mergedOptions, mergedFieldNames);\n  /** Convert path key back to value format */\n\n  var getValueByKeyPath = React.useCallback(function (pathKeys) {\n    var keyPathEntities = getPathKeyEntities();\n    return pathKeys.map(function (pathKey) {\n      var nodes = keyPathEntities[pathKey].nodes;\n      return nodes.map(function (node) {\n        return node[mergedFieldNames.value];\n      });\n    });\n  }, [getPathKeyEntities, mergedFieldNames]); // =========================== Search ===========================\n\n  var _useMergedState3 = useMergedState('', {\n    value: searchValue,\n    postState: function postState(search) {\n      return search || '';\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedSearchValue = _useMergedState4[0],\n      setSearchValue = _useMergedState4[1];\n\n  var onInternalSearch = function onInternalSearch(searchText, info) {\n    setSearchValue(searchText);\n\n    if (info.source !== 'blur' && onSearch) {\n      onSearch(searchText);\n    }\n  };\n\n  var _useSearchConfig = useSearchConfig(showSearch),\n      _useSearchConfig2 = _slicedToArray(_useSearchConfig, 2),\n      mergedShowSearch = _useSearchConfig2[0],\n      searchConfig = _useSearchConfig2[1];\n\n  var searchOptions = useSearchOptions(mergedSearchValue, mergedOptions, mergedFieldNames, dropdownPrefixCls || prefixCls, searchConfig, changeOnSelect); // =========================== Values ===========================\n\n  var getMissingValues = useMissingValues(mergedOptions, mergedFieldNames); // Fill `rawValues` with checked conduction values\n\n  var _React$useMemo = React.useMemo(function () {\n    var _getMissingValues = getMissingValues(rawValues),\n        _getMissingValues2 = _slicedToArray(_getMissingValues, 2),\n        existValues = _getMissingValues2[0],\n        missingValues = _getMissingValues2[1];\n\n    if (!multiple || !rawValues.length) {\n      return [existValues, [], missingValues];\n    }\n\n    var keyPathValues = toPathKeys(existValues);\n    var keyPathEntities = getPathKeyEntities();\n\n    var _conductCheck = conductCheck(keyPathValues, true, keyPathEntities),\n        checkedKeys = _conductCheck.checkedKeys,\n        halfCheckedKeys = _conductCheck.halfCheckedKeys; // Convert key back to value cells\n\n\n    return [getValueByKeyPath(checkedKeys), getValueByKeyPath(halfCheckedKeys), missingValues];\n  }, [multiple, rawValues, getPathKeyEntities, getValueByKeyPath, getMissingValues]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 3),\n      checkedValues = _React$useMemo2[0],\n      halfCheckedValues = _React$useMemo2[1],\n      missingCheckedValues = _React$useMemo2[2];\n\n  var deDuplicatedValues = React.useMemo(function () {\n    var checkedKeys = toPathKeys(checkedValues);\n    var deduplicateKeys = formatStrategyValues(checkedKeys, getPathKeyEntities, showCheckedStrategy);\n    return [].concat(_toConsumableArray(missingCheckedValues), _toConsumableArray(getValueByKeyPath(deduplicateKeys)));\n  }, [checkedValues, getPathKeyEntities, getValueByKeyPath, missingCheckedValues, showCheckedStrategy]);\n  var displayValues = useDisplayValues(deDuplicatedValues, mergedOptions, mergedFieldNames, multiple, displayRender); // =========================== Change ===========================\n\n  var triggerChange = useRefFunc(function (nextValues) {\n    setRawValues(nextValues); // Save perf if no need trigger event\n\n    if (onChange) {\n      var nextRawValues = toRawValues(nextValues);\n      var valueOptions = nextRawValues.map(function (valueCells) {\n        return toPathOptions(valueCells, mergedOptions, mergedFieldNames).map(function (valueOpt) {\n          return valueOpt.option;\n        });\n      });\n      var triggerValues = multiple ? nextRawValues : nextRawValues[0];\n      var triggerOptions = multiple ? valueOptions : valueOptions[0];\n      onChange(triggerValues, triggerOptions);\n    }\n  }); // =========================== Select ===========================\n\n  var onInternalSelect = useRefFunc(function (valuePath) {\n    setSearchValue('');\n\n    if (!multiple) {\n      triggerChange(valuePath);\n    } else {\n      // Prepare conduct required info\n      var pathKey = toPathKey(valuePath);\n      var checkedPathKeys = toPathKeys(checkedValues);\n      var halfCheckedPathKeys = toPathKeys(halfCheckedValues);\n      var existInChecked = checkedPathKeys.includes(pathKey);\n      var existInMissing = missingCheckedValues.some(function (valueCells) {\n        return toPathKey(valueCells) === pathKey;\n      }); // Do update\n\n      var nextCheckedValues = checkedValues;\n      var nextMissingValues = missingCheckedValues;\n\n      if (existInMissing && !existInChecked) {\n        // Missing value only do filter\n        nextMissingValues = missingCheckedValues.filter(function (valueCells) {\n          return toPathKey(valueCells) !== pathKey;\n        });\n      } else {\n        // Update checked key first\n        var nextRawCheckedKeys = existInChecked ? checkedPathKeys.filter(function (key) {\n          return key !== pathKey;\n        }) : [].concat(_toConsumableArray(checkedPathKeys), [pathKey]);\n        var pathKeyEntities = getPathKeyEntities(); // Conduction by selected or not\n\n        var checkedKeys;\n\n        if (existInChecked) {\n          var _conductCheck2 = conductCheck(nextRawCheckedKeys, {\n            checked: false,\n            halfCheckedKeys: halfCheckedPathKeys\n          }, pathKeyEntities);\n\n          checkedKeys = _conductCheck2.checkedKeys;\n        } else {\n          var _conductCheck3 = conductCheck(nextRawCheckedKeys, true, pathKeyEntities);\n\n          checkedKeys = _conductCheck3.checkedKeys;\n        } // Roll up to parent level keys\n\n\n        var deDuplicatedKeys = formatStrategyValues(checkedKeys, getPathKeyEntities, showCheckedStrategy);\n        nextCheckedValues = getValueByKeyPath(deDuplicatedKeys);\n      }\n\n      triggerChange([].concat(_toConsumableArray(nextMissingValues), _toConsumableArray(nextCheckedValues)));\n    }\n  }); // Display Value change logic\n\n  var onDisplayValuesChange = function onDisplayValuesChange(_, info) {\n    if (info.type === 'clear') {\n      triggerChange([]);\n      return;\n    } // Cascader do not support `add` type. Only support `remove`\n\n\n    var valueCells = info.values[0].valueCells;\n    onInternalSelect(valueCells);\n  }; // ============================ Open ============================\n\n\n  var mergedOpen = open !== undefined ? open : popupVisible;\n  var mergedDropdownClassName = dropdownClassName || popupClassName;\n  var mergedPlacement = placement || popupPlacement;\n\n  var onInternalDropdownVisibleChange = function onInternalDropdownVisibleChange(nextVisible) {\n    onDropdownVisibleChange === null || onDropdownVisibleChange === void 0 ? void 0 : onDropdownVisibleChange(nextVisible);\n    onPopupVisibleChange === null || onPopupVisibleChange === void 0 ? void 0 : onPopupVisibleChange(nextVisible);\n  }; // ========================== Warning ===========================\n\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n    warningNullOptions(mergedOptions, mergedFieldNames);\n  } // ========================== Context ===========================\n\n\n  var cascaderContext = React.useMemo(function () {\n    return {\n      options: mergedOptions,\n      fieldNames: mergedFieldNames,\n      values: checkedValues,\n      halfValues: halfCheckedValues,\n      changeOnSelect: changeOnSelect,\n      onSelect: onInternalSelect,\n      checkable: checkable,\n      searchOptions: searchOptions,\n      dropdownPrefixCls: dropdownPrefixCls,\n      loadData: loadData,\n      expandTrigger: expandTrigger,\n      expandIcon: expandIcon,\n      loadingIcon: loadingIcon,\n      dropdownMenuColumnStyle: dropdownMenuColumnStyle\n    };\n  }, [mergedOptions, mergedFieldNames, checkedValues, halfCheckedValues, changeOnSelect, onInternalSelect, checkable, searchOptions, dropdownPrefixCls, loadData, expandTrigger, expandIcon, loadingIcon, dropdownMenuColumnStyle]); // ==============================================================\n  // ==                          Render                          ==\n  // ==============================================================\n\n  var emptyOptions = !(mergedSearchValue ? searchOptions : mergedOptions).length;\n  var dropdownStyle = // Search to match width\n  mergedSearchValue && searchConfig.matchInputWidth || // Empty keep the width\n  emptyOptions ? {} : {\n    minWidth: 'auto'\n  };\n  return /*#__PURE__*/React.createElement(CascaderContext.Provider, {\n    value: cascaderContext\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\n    // MISC\n    ref: ref,\n    id: mergedId,\n    prefixCls: prefixCls,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth,\n    dropdownStyle: dropdownStyle // Value\n    ,\n    displayValues: displayValues,\n    onDisplayValuesChange: onDisplayValuesChange,\n    mode: multiple ? 'multiple' : undefined // Search\n    ,\n    searchValue: mergedSearchValue,\n    onSearch: onInternalSearch,\n    showSearch: mergedShowSearch // Options\n    ,\n    OptionList: OptionList,\n    emptyOptions: emptyOptions // Open\n    ,\n    open: mergedOpen,\n    dropdownClassName: mergedDropdownClassName,\n    placement: mergedPlacement,\n    onDropdownVisibleChange: onInternalDropdownVisibleChange // Children\n    ,\n    getRawInputElement: function getRawInputElement() {\n      return children;\n    }\n  })));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Cascader.displayName = 'Cascader';\n}\n\nCascader.SHOW_PARENT = SHOW_PARENT;\nCascader.SHOW_CHILD = SHOW_CHILD;\nexport default Cascader;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport warning from \"rc-util/es/warning\"; // Convert `showSearch` to unique config\n\nexport default function useSearchConfig(showSearch) {\n  return React.useMemo(function () {\n    if (!showSearch) {\n      return [false, {}];\n    }\n\n    var searchConfig = {\n      matchInputWidth: true,\n      limit: 50\n    };\n\n    if (showSearch && _typeof(showSearch) === 'object') {\n      searchConfig = _objectSpread(_objectSpread({}, searchConfig), showSearch);\n    }\n\n    if (searchConfig.limit <= 0) {\n      delete searchConfig.limit;\n\n      if (process.env.NODE_ENV !== 'production') {\n        warning(false, \"'limit' of showSearch should be positive number or false.\");\n      }\n    }\n\n    return [true, searchConfig];\n  }, [showSearch]);\n}","import * as React from 'react';\nimport { toPathOptions } from '../utils/treeUtil';\nexport default (function (options, fieldNames) {\n  return React.useCallback(function (rawValues) {\n    var missingValues = [];\n    var existsValues = [];\n    rawValues.forEach(function (valueCell) {\n      var pathOptions = toPathOptions(valueCell, options, fieldNames);\n\n      if (pathOptions.every(function (opt) {\n        return opt.option;\n      })) {\n        existsValues.push(valueCell);\n      } else {\n        missingValues.push(valueCell);\n      }\n    });\n    return [existsValues, missingValues];\n  }, [options, fieldNames]);\n});","import Cascader from './Cascader';\nexport default Cascader;","// \nexport const WUJIE_DATA_ID = \"data-wujie-id\";\nexport const WUJIE_DATA_FLAG = \"data-wujie-Flag\";\nexport const CONTAINER_POSITION_DATA_FLAG = \"data-container-position-flag\";\nexport const CONTAINER_OVERFLOW_DATA_FLAG = \"data-container-overflow-flag\";\nexport const LOADING_DATA_FLAG = \"data-loading-flag\";\nexport const WUJIE_DATA_ATTACH_CSS_FLAG = \"data-wujie-attach-css-flag\";\n\n// \nexport const WUJIE_IFRAME_CLASS = \"wujie_iframe\";\nexport const WUJIE_ALL_EVENT = \"_wujie_all_event\";\nexport const WUJIE_SHADE_STYLE =\n  \"position: fixed; z-index: 2147483647; visibility: hidden; inset: 0px; backface-visibility: hidden;\";\nexport const WUJIE_LOADING_STYLE =\n  \"position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index:1;\";\n\nexport const WUJIE_LOADING_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"30px\" viewBox=\"0 0 24 30\">\n<rect x=\"0\" y=\"13\" width=\"4\" height=\"5\" fill=\"#909090\">\n  <animate attributeName=\"height\" attributeType=\"XML\" values=\"5;21;5\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n  <animate attributeName=\"y\" attributeType=\"XML\" values=\"13; 5; 13\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n</rect>\n<rect x=\"10\" y=\"13\" width=\"4\" height=\"5\" fill=\"#909090\">\n  <animate attributeName=\"height\" attributeType=\"XML\" values=\"5;21;5\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n  <animate attributeName=\"y\" attributeType=\"XML\" values=\"13; 5; 13\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n</rect>\n<rect x=\"20\" y=\"13\" width=\"4\" height=\"5\" fill=\"#909090\">\n  <animate attributeName=\"height\" attributeType=\"XML\" values=\"5;21;5\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n  <animate attributeName=\"y\" attributeType=\"XML\" values=\"13; 5; 13\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\"></animate>\n</rect>\n</svg>`;\n\n// \nexport const WUJIE_TIPS_NO_URL = \"url\";\nexport const WUJIE_TIPS_RELOAD_DISABLED = \"reload\";\nexport const WUJIE_TIPS_STOP_APP = \"iframe\";\nexport const WUJIE_TIPS_NO_SUBJECT = \"\";\nexport const WUJIE_TIPS_NO_FETCH = \"windowfetchpolyfill\";\nexport const WUJIE_TIPS_NOT_SUPPORTED = \"iframe\";\nexport const WUJIE_TIPS_SCRIPT_ERROR_REQUESTED = \"\";\nexport const WUJIE_TIPS_CSS_ERROR_REQUESTED = \"\";\nexport const WUJIE_TIPS_REPEAT_RENDER = \"\";\n","import { WUJIE_TIPS_NO_URL, WUJIE_DATA_ID } from \"./constant\";\nimport { plugin, cacheOptions } from \"./index\";\n\nexport function toArray<T>(array: T | T[]): T[] {\n  return Array.isArray(array) ? array : [array];\n}\n\nexport function isFunction(value: any): boolean {\n  return typeof value === \"function\";\n}\n\nexport function isHijackingTag(tagName?: string) {\n  return (\n    tagName?.toUpperCase() === \"LINK\" ||\n    tagName?.toUpperCase() === \"STYLE\" ||\n    tagName?.toUpperCase() === \"SCRIPT\" ||\n    tagName?.toUpperCase() === \"IFRAME\"\n  );\n}\n\nexport const wujieSupport = window.Proxy && window.CustomElementRegistry;\n\n/**\n * in safari\n * typeof document.all === 'undefined' // true\n * typeof document.all === 'function' // true\n * We need to discriminate safari for better performance\n */\nconst naughtySafari = typeof document.all === \"function\" && typeof document.all === \"undefined\";\nconst callableFnCacheMap = new WeakMap<CallableFunction, boolean>();\nexport const isCallable = (fn: any) => {\n  if (callableFnCacheMap.has(fn)) {\n    return true;\n  }\n\n  const callable = naughtySafari ? typeof fn === \"function\" && typeof fn !== \"undefined\" : typeof fn === \"function\";\n  if (callable) {\n    callableFnCacheMap.set(fn, callable);\n  }\n  return callable;\n};\n\nconst boundedMap = new WeakMap<CallableFunction, boolean>();\nexport function isBoundedFunction(fn: CallableFunction) {\n  if (boundedMap.has(fn)) {\n    return boundedMap.get(fn);\n  }\n  const bounded = fn.name.indexOf(\"bound \") === 0 && !fn.hasOwnProperty(\"prototype\");\n  boundedMap.set(fn, bounded);\n  return bounded;\n}\n\nconst fnRegexCheckCacheMap = new WeakMap<any | FunctionConstructor, boolean>();\nexport function isConstructable(fn: () => any | FunctionConstructor) {\n  const hasPrototypeMethods =\n    fn.prototype && fn.prototype.constructor === fn && Object.getOwnPropertyNames(fn.prototype).length > 1;\n\n  if (hasPrototypeMethods) return true;\n\n  if (fnRegexCheckCacheMap.has(fn)) {\n    return fnRegexCheckCacheMap.get(fn);\n  }\n\n  let constructable = hasPrototypeMethods;\n  if (!constructable) {\n    const fnString = fn.toString();\n    const constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\n    const classRegex = /^class\\b/;\n    constructable = constructableFunctionRegex.test(fnString) || classRegex.test(fnString);\n  }\n\n  fnRegexCheckCacheMap.set(fn, constructable);\n  return constructable;\n}\n\nconst setFnCacheMap = new WeakMap<CallableFunction, CallableFunction>();\nexport function checkProxyFunction(value: any) {\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\n    if (!setFnCacheMap.has(value)) {\n      setFnCacheMap.set(value, value);\n    }\n  }\n}\n\nexport function getTargetValue(target: any, p: any): any {\n  const value = target[p];\n  if (setFnCacheMap.has(value)) {\n    return setFnCacheMap.get(value);\n  }\n  if (isCallable(value) && !isBoundedFunction(value) && !isConstructable(value)) {\n    const boundValue = Function.prototype.bind.call(value, target);\n    setFnCacheMap.set(value, boundValue);\n\n    for (const key in value) {\n      boundValue[key] = value[key];\n    }\n    if (value.hasOwnProperty(\"prototype\") && !boundValue.hasOwnProperty(\"prototype\")) {\n      // https://github.com/kuitos/kuitos.github.io/issues/47\n      Object.defineProperty(boundValue, \"prototype\", { value: value.prototype, enumerable: false, writable: true });\n    }\n    return boundValue;\n  }\n  return value;\n}\n\nexport function getDegradeIframe(id: string): HTMLIFrameElement {\n  return window.document.querySelector(`iframe[${WUJIE_DATA_ID}=\"${id}\"]`);\n}\n\nexport function appRouteParse(url: string): {\n  urlElement: HTMLAnchorElement;\n  appHostPath: string;\n  appRoutePath: string;\n} {\n  if (!url) {\n    error(WUJIE_TIPS_NO_URL);\n    throw new Error();\n  }\n  const urlElement = anchorElementGenerator(url);\n  const appHostPath = urlElement.protocol + \"//\" + urlElement.host;\n  const appRoutePath = urlElement.pathname + urlElement.search + urlElement.hash;\n  return { urlElement, appHostPath, appRoutePath };\n}\n\nexport function anchorElementGenerator(url: string): HTMLAnchorElement {\n  const element = window.document.createElement(\"a\");\n  element.href = url;\n  return element;\n}\n\nexport function getAnchorElementQueryMap(anchorElement: HTMLAnchorElement): { [key: string]: string } {\n  const queryList = anchorElement.search.replace(\"?\", \"\").split(\"&\");\n  const queryMap = {};\n  queryList.forEach((query) => {\n    const [key, value] = query.split(\"=\");\n    if (key && value) queryMap[key] = value;\n  });\n  return queryMap;\n}\n\n/**\n * urlid\n */\nexport function isMatchSyncQueryById(id: string): boolean {\n  const queryMap = getAnchorElementQueryMap(anchorElementGenerator(window.location.href));\n  return Object.keys(queryMap).includes(id);\n}\n\n/**\n * \n * @param iframeWindow\n */\nexport function fixElementCtrSrcOrHref(\n  iframeWindow: Window,\n  elementCtr:\n    | typeof HTMLImageElement\n    | typeof HTMLAnchorElement\n    | typeof HTMLSourceElement\n    | typeof HTMLLinkElement\n    | typeof HTMLScriptElement,\n  attr\n): void {\n  // patch setAttribute\n  const rawElementSetAttribute = iframeWindow.Element.prototype.setAttribute;\n  elementCtr.prototype.setAttribute = function (name: string, value: string): void {\n    let targetValue = value;\n    if (name === attr) targetValue = getAbsolutePath(value, this.baseURI || \"\", true);\n    rawElementSetAttribute.call(this, name, targetValue);\n  };\n  // patch href get and set\n  const rawAnchorElementHrefDescriptor = Object.getOwnPropertyDescriptor(elementCtr.prototype, attr);\n  const { enumerable, configurable, get, set } = rawAnchorElementHrefDescriptor;\n  Object.defineProperty(elementCtr.prototype, attr, {\n    enumerable,\n    configurable,\n    get: function () {\n      return get.call(this);\n    },\n    set: function (href) {\n      set.call(this, getAbsolutePath(href, this.baseURI, true));\n    },\n  });\n  // TODO: innerHTML\n}\n\nexport function getCurUrl(proxyLocation: Object): string {\n  const location = proxyLocation as Location;\n  return location.protocol + \"//\" + location.host + location.pathname;\n}\n\nexport function getAbsolutePath(url: string, base: string, hash?: boolean): string {\n  try {\n    // \n    if (url) {\n      // hash\n      if (hash && url.startsWith(\"#\")) return url;\n      return new URL(url, base).href;\n    } else return url;\n  } catch {\n    return url;\n  }\n}\n/**\n * url\n */\nexport function getSyncUrl(id: string, prefix: { [key: string]: string }): string {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  winUrlElement = null;\n  const syncUrl = window.decodeURIComponent(queryMap[id] || \"\");\n  const validShortPath = syncUrl.match(/^{([^}]*)}/)?.[1];\n  if (prefix && validShortPath) {\n    return syncUrl.replace(`{${validShortPath}}`, prefix[validShortPath]);\n  }\n  return syncUrl;\n}\n// @ts-ignore\nexport const requestIdleCallback = window.requestIdleCallback || ((cb: Function) => setTimeout(cb, 1));\n\nexport function getContainer(container: string | HTMLElement): HTMLElement {\n  return typeof container === \"string\" ? (document.querySelector(container) as HTMLElement) : container;\n}\n\nexport function warn(msg: string, data?: any): void {\n  console?.warn(`[wujie warn]: ${msg}`, data);\n}\n\nexport function error(msg: string, data?: any): void {\n  console?.error(`[wujie error]: ${msg}`, data);\n}\n\nexport function getInlineCode(match) {\n  const start = match.indexOf(\">\") + 1;\n  const end = match.lastIndexOf(\"<\");\n  return match.substring(start, end);\n}\n\nexport function defaultGetPublicPath(entry) {\n  if (typeof entry === \"object\") {\n    return \"/\";\n  }\n  try {\n    const { origin, pathname } = new URL(entry, location.href);\n    const paths = pathname.split(\"/\");\n    // \n    paths.pop();\n    return `${origin}${paths.join(\"/\")}/`;\n  } catch (e) {\n    console.warn(e);\n    return \"\";\n  }\n}\n\n/** [f1, f2, f3, f4] => f4(f3(f2(f1)))  */\nexport function compose(fnList: Array<Function>): (...args: Array<string>) => string {\n  return function (code: string, ...args: Array<any>) {\n    return fnList.reduce((newCode, fn) => (isFunction(fn) ? fn(newCode, ...args) : newCode), code || \"\");\n  };\n}\n\n// \nexport function nextTick(cb: () => any): void {\n  Promise.resolve().then(cb);\n}\n\n//\nexport function execHooks(plugins: Array<plugin>, hookName: string, ...args: Array<any>): void {\n  try {\n    plugins\n      .map((plugin) => plugin[hookName])\n      .filter((hook) => isFunction(hook))\n      .forEach((hook) => hook(...args));\n  } catch (e) {\n    error(e);\n  }\n}\n\n// \nexport function mergeOptions(options: cacheOptions, cacheOptions: cacheOptions) {\n  return {\n    name: options.name,\n    el: options.el || cacheOptions?.el,\n    url: options.url || cacheOptions?.url,\n    exec: options.exec !== undefined ? options.exec : cacheOptions?.exec,\n    replace: options.replace || cacheOptions?.replace,\n    fetch: options.fetch || cacheOptions?.fetch,\n    props: options.props || cacheOptions?.props,\n    sync: options.sync !== undefined ? options.sync : cacheOptions?.sync,\n    prefix: options.prefix || cacheOptions?.prefix,\n    loading: options.loading || cacheOptions?.loading,\n    //  {}\n    attrs: options.attrs !== undefined ? options.attrs : cacheOptions?.attrs || {},\n    //  true\n    fiber: options.fiber !== undefined ? options.fiber : cacheOptions?.fiber !== undefined ? cacheOptions?.fiber : true,\n    alive: options.alive !== undefined ? options.alive : cacheOptions?.alive,\n    degrade: options.degrade !== undefined ? options.degrade : cacheOptions?.degrade,\n    plugins: options.plugins || cacheOptions?.plugins,\n    lifecycles: {\n      beforeLoad: options.beforeLoad || cacheOptions?.beforeLoad,\n      beforeMount: options.beforeMount || cacheOptions?.beforeMount,\n      afterMount: options.afterMount || cacheOptions?.afterMount,\n      beforeUnmount: options.beforeUnmount || cacheOptions?.beforeUnmount,\n      afterUnmount: options.afterUnmount || cacheOptions?.afterUnmount,\n      activated: options.activated || cacheOptions?.activated,\n      deactivated: options.deactivated || cacheOptions?.deactivated,\n      loadError: options.loadError || cacheOptions?.loadError,\n    },\n  };\n}\n\n/**\n * \n */\nexport function eventTrigger(el: HTMLElement | Window | Document, eventName: string, detail?: any) {\n  let event;\n  if (typeof window.CustomEvent === \"function\") {\n    event = new CustomEvent(eventName, { detail });\n  } else {\n    event = document.createEvent(\"CustomEvent\");\n    event.initCustomEvent(eventName, true, false, detail);\n  }\n  el.dispatchEvent(event);\n}\n","import { getInlineCode } from \"./utils\";\n\nconst ALL_SCRIPT_REGEX = /(<script[\\s\\S]*?>)[\\s\\S]*?<\\/script>/gi;\nconst SCRIPT_TAG_REGEX = /<(script)\\s+((?!type=('|\")text\\/ng-template\\3).)*?>.*?<\\/\\1>/is;\nconst SCRIPT_SRC_REGEX = /.*\\ssrc=('|\")?([^>'\"\\s]+)/;\nconst SCRIPT_TYPE_REGEX = /.*\\stype=('|\")?([^>'\"\\s]+)/;\nconst SCRIPT_ENTRY_REGEX = /.*\\sentry\\s*.*/;\nconst SCRIPT_ASYNC_REGEX = /.*\\sasync\\s*.*/;\nconst DEFER_ASYNC_REGEX = /.*\\sdefer\\s*.*/;\nconst SCRIPT_NO_MODULE_REGEX = /.*\\snomodule\\s*.*/;\nconst SCRIPT_MODULE_REGEX = /.*\\stype=('|\")?module('|\")?\\s*.*/;\nconst LINK_TAG_REGEX = /<(link)\\s+.*?>/gis;\nconst LINK_PRELOAD_OR_PREFETCH_REGEX = /\\srel=('|\")?(preload|prefetch|modulepreload)\\1/;\nconst LINK_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nconst LINK_AS_FONT = /.*\\sas=('|\")?font\\1.*/;\nconst STYLE_TAG_REGEX = /<style[^>]*>[\\s\\S]*?<\\/style>/gi;\nconst STYLE_TYPE_REGEX = /\\s+rel=('|\")?stylesheet\\1.*/;\nconst STYLE_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nconst HTML_COMMENT_REGEX = /<!--([\\s\\S]*?)-->/g;\nconst LINK_IGNORE_REGEX = /<link(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst STYLE_IGNORE_REGEX = /<style(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst SCRIPT_IGNORE_REGEX = /<script(\\s+|\\s+.+\\s+)ignore(\\s*|\\s+.*|=.*)>/is;\nconst CROSS_ORIGIN_REGEX = /.*\\scrossorigin=?('|\")?(use-credentials|anonymous)?('|\")?/i;\n\n/**  */\nexport interface ScriptBaseObject {\n  /**  */\n  src?: string;\n  /** async */\n  async?: boolean;\n  /** defer */\n  defer?: boolean;\n  /** module */\n  module?: boolean;\n  /** crossorigin */\n  crossorigin?: boolean;\n  /** crossorigin */\n  crossoriginType?: \"anonymous\" | \"use-credentials\" | \"\";\n}\nexport type ScriptObject = ScriptBaseObject & {\n  /** script */\n  content?: string;\n  /**  */\n  ignore?: boolean;\n  /**  */\n  onload?: Function;\n};\n\n/**  */\nexport interface StyleObject {\n  /**   */\n  src?: string;\n  /**  */\n  content?: string;\n  /**  */\n  ignore?: boolean;\n}\n\nexport interface TemplateResult {\n  template: string;\n  scripts: ScriptObject[];\n  styles: StyleObject[];\n  entry: string | ScriptObject;\n}\n\nfunction hasProtocol(url) {\n  return url.startsWith(\"//\") || url.startsWith(\"http://\") || url.startsWith(\"https://\");\n}\n\nfunction getEntirePath(path, baseURI) {\n  return new URL(path, baseURI).toString();\n}\n\nfunction isValidJavaScriptType(type) {\n  const handleTypes = [\n    \"text/javascript\",\n    \"module\",\n    \"application/javascript\",\n    \"text/ecmascript\",\n    \"application/ecmascript\",\n  ];\n  return !type || handleTypes.indexOf(type) !== -1;\n}\n\nfunction isModuleScriptSupported() {\n  const s = window.document.createElement(\"script\");\n  return \"noModule\" in s;\n}\n\nexport const genLinkReplaceSymbol = (linkHref, preloadOrPrefetch = false) =>\n  `<!-- ${preloadOrPrefetch ? \"prefetch/preload/modulepreload\" : \"\"} link ${linkHref} replaced by wujie -->`;\nexport const getInlineStyleReplaceSymbol = (index) => `<!-- inline-style-${index} replaced by wujie -->`;\nexport const genScriptReplaceSymbol = (scriptSrc, type = \"\") =>\n  `<!-- ${type} script ${scriptSrc} replaced by wujie -->`;\nexport const inlineScriptReplaceSymbol = \"<!-- inline scripts replaced by wujie -->\";\nexport const genIgnoreAssetReplaceSymbol = (url) => `<!-- ignore asset ${url || \"file\"} replaced by wujie -->`;\nexport const genModuleScriptReplaceSymbol = (scriptSrc, moduleSupport) =>\n  `<!-- ${moduleSupport ? \"nomodule\" : \"module\"} script ${scriptSrc} ignored by wujie -->`;\n\n/**\n * parse the script link from the template\n * 1. collect stylesheets\n * 2. use global eval to evaluate the inline scripts\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function#Difference_between_Function_constructor_and_function_declaration\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval#Do_not_ever_use_eval!\n * @param tpl\n * @param baseURI\n * @stripStyles whether to strip the css links\n * @returns {{template: void | string | *, scripts: *[], entry: *}}\n */\nexport default function processTpl(tpl: String, baseURI: String, postProcessTemplate?: Function): TemplateResult {\n  const scripts: ScriptObject[] = [];\n  const styles: StyleObject[] = [];\n  let entry = null;\n  const moduleSupport = isModuleScriptSupported();\n  const template = tpl\n\n    /*\n     remove html comment first\n     */\n    .replace(HTML_COMMENT_REGEX, \"\")\n\n    .replace(LINK_TAG_REGEX, (match) => {\n      /*\n       change the css link\n       */\n      const styleType = !!match.match(STYLE_TYPE_REGEX);\n      if (styleType) {\n        const styleHref = match.match(STYLE_HREF_REGEX);\n        const styleIgnore = match.match(LINK_IGNORE_REGEX);\n\n        if (styleHref) {\n          const href = styleHref && styleHref[2];\n          let newHref = href;\n\n          if (href && !hasProtocol(href)) {\n            newHref = getEntirePath(href, baseURI);\n          }\n          if (styleIgnore) {\n            return genIgnoreAssetReplaceSymbol(newHref);\n          }\n\n          styles.push({ src: newHref });\n          return genLinkReplaceSymbol(newHref);\n        }\n      }\n\n      const preloadOrPrefetchType =\n        match.match(LINK_PRELOAD_OR_PREFETCH_REGEX) && match.match(LINK_HREF_REGEX) && !match.match(LINK_AS_FONT);\n      if (preloadOrPrefetchType) {\n        const [, , linkHref] = match.match(LINK_HREF_REGEX);\n        return genLinkReplaceSymbol(linkHref, true);\n      }\n\n      return match;\n    })\n    .replace(STYLE_TAG_REGEX, (match) => {\n      if (STYLE_IGNORE_REGEX.test(match)) {\n        return genIgnoreAssetReplaceSymbol(\"style file\");\n      } else {\n        const code = getInlineCode(match);\n        styles.push({ src: \"\", content: code });\n        return getInlineStyleReplaceSymbol(styles.length - 1);\n      }\n    })\n    .replace(ALL_SCRIPT_REGEX, (match, scriptTag) => {\n      const scriptIgnore = scriptTag.match(SCRIPT_IGNORE_REGEX);\n      const isModuleScript = !!scriptTag.match(SCRIPT_MODULE_REGEX);\n      const isCrossOriginScript = scriptTag.match(CROSS_ORIGIN_REGEX);\n      const crossOriginType = isCrossOriginScript?.[2] || \"\";\n      const moduleScriptIgnore =\n        (moduleSupport && !!scriptTag.match(SCRIPT_NO_MODULE_REGEX)) || (!moduleSupport && isModuleScript);\n      // in order to keep the exec order of all javascripts\n\n      const matchedScriptTypeMatch = scriptTag.match(SCRIPT_TYPE_REGEX);\n      const matchedScriptType = matchedScriptTypeMatch && matchedScriptTypeMatch[2];\n      if (!isValidJavaScriptType(matchedScriptType)) {\n        return match;\n      }\n\n      // if it is a external script\n      if (SCRIPT_TAG_REGEX.test(match) && scriptTag.match(SCRIPT_SRC_REGEX)) {\n        /*\n         collect scripts and replace the ref\n         */\n\n        const matchedScriptEntry = scriptTag.match(SCRIPT_ENTRY_REGEX);\n        const matchedScriptSrcMatch = scriptTag.match(SCRIPT_SRC_REGEX);\n        let matchedScriptSrc = matchedScriptSrcMatch && matchedScriptSrcMatch[2];\n\n        if (entry && matchedScriptEntry) {\n          throw new SyntaxError(\"You should not set multiply entry script!\");\n        } else {\n          // append the domain while the script not have an protocol prefix\n          if (matchedScriptSrc && !hasProtocol(matchedScriptSrc)) {\n            matchedScriptSrc = getEntirePath(matchedScriptSrc, baseURI);\n          }\n\n          entry = entry || (matchedScriptEntry && matchedScriptSrc);\n        }\n\n        if (scriptIgnore) {\n          return genIgnoreAssetReplaceSymbol(matchedScriptSrc || \"js file\");\n        }\n\n        if (moduleScriptIgnore) {\n          return genModuleScriptReplaceSymbol(matchedScriptSrc || \"js file\", moduleSupport);\n        }\n\n        if (matchedScriptSrc) {\n          const isAsyncScript = !!scriptTag.match(SCRIPT_ASYNC_REGEX);\n          const isDeferScript = !!scriptTag.match(DEFER_ASYNC_REGEX);\n          scripts.push(\n            isAsyncScript || isDeferScript\n              ? {\n                  async: isAsyncScript,\n                  defer: isDeferScript,\n                  src: matchedScriptSrc,\n                  module: isModuleScript,\n                  crossorigin: !!isCrossOriginScript,\n                  crossoriginType: crossOriginType,\n                }\n              : {\n                  src: matchedScriptSrc,\n                  module: isModuleScript,\n                  crossorigin: !!isCrossOriginScript,\n                  crossoriginType: crossOriginType,\n                }\n          );\n          return genScriptReplaceSymbol(\n            matchedScriptSrc,\n            (isAsyncScript && \"async\") || (isDeferScript && \"defer\") || \"\"\n          );\n        }\n\n        return match;\n      } else {\n        if (scriptIgnore) {\n          return genIgnoreAssetReplaceSymbol(\"js file\");\n        }\n\n        if (moduleScriptIgnore) {\n          return genModuleScriptReplaceSymbol(\"js file\", moduleSupport);\n        }\n\n        // if it is an inline script\n        const code = getInlineCode(match);\n\n        // remove script blocks when all of these lines are comments.\n        const isPureCommentBlock = code.split(/[\\r\\n]+/).every((line) => !line.trim() || line.trim().startsWith(\"//\"));\n\n        if (!isPureCommentBlock && code) {\n          scripts.push({\n            src: \"\",\n            content: code,\n            module: isModuleScript,\n            crossorigin: !!isCrossOriginScript,\n            crossoriginType: crossOriginType,\n          });\n        }\n\n        return inlineScriptReplaceSymbol;\n      }\n    });\n\n  let tplResult = {\n    template,\n    scripts,\n    styles,\n    // set the last script as entry if have not set\n    entry: entry || scripts[scripts.length - 1],\n  };\n  if (typeof postProcessTemplate === \"function\") {\n    tplResult = postProcessTemplate(tplResult);\n  }\n\n  return tplResult;\n}\n","import { plugin, ScriptObjectLoader } from \"./index\";\nimport { StyleObject } from \"./template\";\nimport { compose, getAbsolutePath } from \"./utils\";\n\ninterface loaderOption {\n  plugins: Array<plugin>;\n  replace: (code: string) => string;\n}\n\n/**\n *  cssLoader\n */\nexport function getCssLoader({ plugins, replace }: loaderOption) {\n  return (code: string, src: string = \"\", base: string): string =>\n    compose(plugins.map((plugin) => plugin.cssLoader))(replace ? replace(code) : code, src, base);\n}\n\n/**\n *  jsLoader\n */\nexport function getJsLoader({ plugins, replace }: loaderOption) {\n  return (code: string, src: string = \"\", base: string): string =>\n    compose(plugins.map((plugin) => plugin.jsLoader))(replace ? replace(code) : code, src, base);\n}\n\n/**\n * \n */\ntype presetLoadersType = \"cssBeforeLoaders\" | \"cssAfterLoaders\" | \"jsBeforeLoaders\" | \"jsAfterLoaders\";\nexport function getPresetLoaders(loaderType: presetLoadersType, plugins: Array<plugin>): plugin[presetLoadersType] {\n  const loaders: (StyleObject | ScriptObjectLoader)[][] = plugins\n    .map((plugin) => plugin[loaderType])\n    .filter((loaders) => loaders?.length);\n  const res = loaders.reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), []);\n  return loaderType === \"cssBeforeLoaders\" ? res.reverse() : res;\n}\n\n/**\n * \n */\ntype effectLoadersType = \"jsExcludes\" | \"cssExcludes\" | \"jsIgnores\" | \"cssIgnores\";\nexport function getEffectLoaders(loaderType: effectLoadersType, plugins: Array<plugin>): plugin[effectLoadersType] {\n  return plugins\n    .map((plugin) => plugin[loaderType])\n    .filter((loaders) => loaders?.length)\n    .reduce((preLoaders, curLoaders) => preLoaders.concat(curLoaders), []);\n}\n\n//  url loader\nexport function isMatchUrl(url: string, effectLoaders: plugin[effectLoadersType]): boolean {\n  return effectLoaders.some((loader) => (typeof loader === \"string\" ? url === loader : loader.test(url)));\n}\n\n/**\n * css\n */\nfunction cssRelativePathResolve(code: string, src: string, base: string) {\n  const baseUrl = src ? getAbsolutePath(src, base) : base;\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/url\n  const urlReg = /(url\\((?!['\"]?(?:data):)['\"]?)([^'\")]*)(['\"]?\\))/g;\n  return code.replace(urlReg, (_m, pre, url, post) => {\n    const absoluteUrl = getAbsolutePath(url, baseUrl);\n    return pre + absoluteUrl + post;\n  });\n}\n\nconst defaultPlugin = {\n  cssLoader: cssRelativePathResolve,\n};\n\nexport function getPlugins(plugins: Array<plugin>): Array<plugin> {\n  return Array.isArray(plugins) ? [defaultPlugin, ...plugins] : [defaultPlugin];\n}\n\nexport default defaultPlugin;\n","import processTpl, {\n  genLinkReplaceSymbol,\n  getInlineStyleReplaceSymbol,\n  ScriptObject,\n  ScriptBaseObject,\n  StyleObject,\n} from \"./template\";\nimport { defaultGetPublicPath, getInlineCode, requestIdleCallback, error, compose, getCurUrl } from \"./utils\";\nimport { WUJIE_TIPS_NO_FETCH, WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, WUJIE_TIPS_CSS_ERROR_REQUESTED } from \"./constant\";\nimport { getEffectLoaders, isMatchUrl } from \"./plugin\";\nimport Wujie from \"./sandbox\";\nimport { plugin, loadErrorHandler } from \"./index\";\n\nexport type ScriptResultList = (ScriptBaseObject & { contentPromise: Promise<string> })[];\nexport type StyleResultList = { src: string; contentPromise: Promise<string>; ignore?: boolean }[];\n\ninterface htmlParseResult {\n  template: string;\n\n  assetPublicPath: string;\n\n  getExternalScripts(): ScriptResultList;\n\n  getExternalStyleSheets(): StyleResultList;\n}\n\ntype ImportEntryOpts = {\n  fetch?: typeof window.fetch;\n  fiber?: boolean;\n  plugins?: Array<plugin>;\n  loadError?: loadErrorHandler;\n};\n\nconst styleCache = {};\nconst scriptCache = {};\nconst embedHTMLCache = {};\n\nif (!window.fetch) {\n  error(WUJIE_TIPS_NO_FETCH);\n  throw new Error();\n}\nconst defaultFetch = window.fetch.bind(window);\n\nfunction defaultGetTemplate(tpl) {\n  return tpl;\n}\n\n/**\n * css-loader\n */\nexport async function processCssLoader(\n  sandbox: Wujie,\n  template: string,\n  getExternalStyleSheets: () => StyleResultList\n): Promise<string> {\n  const curUrl = getCurUrl(sandbox.proxyLocation);\n  /** css-loader */\n  const composeCssLoader = compose(sandbox.plugins.map((plugin) => plugin.cssLoader));\n  const processedCssList: StyleResultList = getExternalStyleSheets().map(({ src, ignore, contentPromise }) => ({\n    src,\n    ignore,\n    contentPromise: contentPromise.then((content) => composeCssLoader(content, src, curUrl)),\n  }));\n  const embedHTML = await getEmbedHTML(template, processedCssList);\n  return sandbox.replace ? sandbox.replace(embedHTML) : embedHTML;\n}\n\n/**\n * convert external css link to inline style for performance optimization\n * @return embedHTML\n */\nasync function getEmbedHTML(template, styleResultList: StyleResultList): Promise<string> {\n  let embedHTML = template;\n\n  return Promise.all(\n    styleResultList.map((styleResult, index) =>\n      styleResult.contentPromise.then((content) => {\n        if (styleResult.src) {\n          embedHTML = embedHTML.replace(\n            genLinkReplaceSymbol(styleResult.src),\n            styleResult.ignore\n              ? `<link href=\"${styleResult.src}\" rel=\"stylesheet\" type=\"text/css\">`\n              : `<style>/* ${styleResult.src} */${content}</style>`\n          );\n        } else if (content) {\n          embedHTML = embedHTML.replace(\n            getInlineStyleReplaceSymbol(index),\n            `<style>/* inline-style-${index} */${content}</style>`\n          );\n        }\n      })\n    )\n  ).then(() => embedHTML);\n}\n\nconst isInlineCode = (code) => code.startsWith(\"<\");\n\nconst fetchAssets = (\n  src: string,\n  cache: Object,\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response>,\n  cssFlag?: boolean,\n  loadError?: loadErrorHandler\n) =>\n  cache[src] ||\n  (cache[src] = fetch(src)\n    .then((response) => {\n      // usually browser treats 4xx and 5xx response of script loading as an error and will fire a script error event\n      // https://stackoverflow.com/questions/5625420/what-http-headers-responses-trigger-the-onerror-handler-on-a-script-tag/5625603\n      if (response.status >= 400) {\n        cache[src] = null;\n        if (cssFlag) {\n          error(WUJIE_TIPS_CSS_ERROR_REQUESTED, { src, response });\n          loadError?.(src, new Error(WUJIE_TIPS_CSS_ERROR_REQUESTED));\n          return \"\";\n        } else {\n          error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, { src, response });\n          loadError?.(src, new Error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED));\n          throw new Error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED);\n        }\n      }\n      return response.text();\n    })\n    .catch((e) => {\n      cache[src] = null;\n      if (cssFlag) {\n        error(WUJIE_TIPS_CSS_ERROR_REQUESTED, src);\n        loadError?.(src, e);\n        return \"\";\n      } else {\n        error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, src);\n        loadError?.(src, e);\n        return \"\";\n      }\n    }));\n\n// for prefetch\nexport function getExternalStyleSheets(\n  styles: StyleObject[],\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> = defaultFetch,\n  loadError: loadErrorHandler\n): StyleResultList {\n  return styles.map(({ src, content, ignore }) => {\n    // \n    if (content) {\n      return { src: \"\", contentPromise: Promise.resolve(content) };\n    } else if (isInlineCode(src)) {\n      // if it is inline style\n      return { src: \"\", contentPromise: Promise.resolve(getInlineCode(src)) };\n    } else {\n      // external styles\n      return {\n        src,\n        ignore,\n        contentPromise: ignore ? Promise.resolve(\"\") : fetchAssets(src, styleCache, fetch, true, loadError),\n      };\n    }\n  });\n}\n\n// for prefetch\nexport function getExternalScripts(\n  scripts: ScriptObject[],\n  fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> = defaultFetch,\n  loadError: loadErrorHandler,\n  fiber: boolean\n): ScriptResultList {\n  // module should be requested in iframe\n  return scripts.map((script) => {\n    const { src, async, defer, module, ignore } = script;\n    let contentPromise = null;\n    // async\n    if ((async || defer) && src && !module) {\n      contentPromise = new Promise((resolve, reject) =>\n        fiber\n          ? requestIdleCallback(() => fetchAssets(src, scriptCache, fetch, false, loadError).then(resolve, reject))\n          : fetchAssets(src, scriptCache, fetch, false, loadError).then(resolve, reject)\n      );\n      // module || ignore\n    } else if ((module && src) || ignore) {\n      contentPromise = Promise.resolve(\"\");\n      // inline\n    } else if (!src) {\n      contentPromise = Promise.resolve(script.content);\n      // outline\n    } else {\n      contentPromise = fetchAssets(src, scriptCache, fetch, false, loadError);\n    }\n    return { ...script, contentPromise };\n  });\n}\n\nexport default function importHTML(url: string, opts?: ImportEntryOpts): Promise<htmlParseResult> {\n  const fetch = opts.fetch ?? defaultFetch;\n  const fiber = opts.fiber ?? true;\n  const { plugins, loadError } = opts;\n  const htmlLoader = plugins ? compose(plugins.map((plugin) => plugin.htmlLoader)) : defaultGetTemplate;\n  const jsExcludes = getEffectLoaders(\"jsExcludes\", plugins);\n  const cssExcludes = getEffectLoaders(\"cssExcludes\", plugins);\n  const jsIgnores = getEffectLoaders(\"jsIgnores\", plugins);\n  const cssIgnores = getEffectLoaders(\"cssIgnores\", plugins);\n  const getPublicPath = defaultGetPublicPath;\n\n  const getHtmlParseResult = (url, htmlLoader) =>\n    fetch(url)\n      .then(\n        (response) => response.text(),\n        (e) => {\n          loadError?.(url, e);\n          return Promise.reject(e);\n        }\n      )\n      .then((html) => {\n        const assetPublicPath = getPublicPath(url);\n        const { template, scripts, styles } = processTpl(htmlLoader(html), assetPublicPath);\n        return {\n          template: template,\n          assetPublicPath,\n          getExternalScripts: () =>\n            getExternalScripts(\n              scripts\n                .filter((script) => !script.src || !isMatchUrl(script.src, jsExcludes))\n                .map((script) => ({ ...script, ignore: script.src && isMatchUrl(script.src, jsIgnores) })),\n              fetch,\n              loadError,\n              fiber\n            ),\n          getExternalStyleSheets: () =>\n            getExternalStyleSheets(\n              styles\n                .filter((style) => !style.src || !isMatchUrl(style.src, cssExcludes))\n                .map((style) => ({ ...style, ignore: style.src && isMatchUrl(style.src, cssIgnores) })),\n              fetch,\n              loadError\n            ),\n        };\n      });\n\n  if (opts?.plugins.some((plugin) => plugin.htmlLoader)) {\n    return getHtmlParseResult(url, htmlLoader);\n    // html-loader\n  } else {\n    return embedHTMLCache[url] || (embedHTMLCache[url] = getHtmlParseResult(url, htmlLoader));\n  }\n}\n","import Wujie from \"./sandbox\";\nimport { cacheOptions } from \"./index\";\nexport interface SandboxCache {\n  wujie?: Wujie;\n  options?: cacheOptions;\n}\n\n// map\nexport const idToSandboxCacheMap = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE.inject.idToSandboxMap\n  : new Map<String, SandboxCache>();\n\nexport function getWujieById(id: String): Wujie | null {\n  return idToSandboxCacheMap.get(id)?.wujie || null;\n}\n\nexport function getOptionsById(id: String): cacheOptions | null {\n  return idToSandboxCacheMap.get(id)?.options || null;\n}\n\nexport function addSandboxCacheWithWujie(id: string, sandbox: Wujie): void {\n  const wujieCache = idToSandboxCacheMap.get(id);\n  if (wujieCache) idToSandboxCacheMap.set(id, { ...wujieCache, wujie: sandbox });\n  else idToSandboxCacheMap.set(id, { wujie: sandbox });\n}\n\nexport function deleteWujieById(id: string) {\n  const wujieCache = idToSandboxCacheMap.get(id);\n  if (wujieCache?.options) idToSandboxCacheMap.set(id, { options: wujieCache.options });\n  idToSandboxCacheMap.delete(id);\n}\n\nexport function addSandboxCacheWithOptions(id: string, options: cacheOptions): void {\n  const wujieCache = idToSandboxCacheMap.get(id);\n  if (wujieCache) idToSandboxCacheMap.set(id, { ...wujieCache, options });\n  else idToSandboxCacheMap.set(id, { options });\n}\n\n// document\nexport const documentProxyProperties = {\n  // \n  modifyLocalProperties: [\"createElement\", \"createTextNode\", \"documentURI\", \"URL\", \"getElementsByTagName\"],\n\n  // \n  modifyProperties: [\n    \"createElement\",\n    \"createTextNode\",\n    \"documentURI\",\n    \"URL\",\n    \"getElementsByTagName\",\n    \"getElementsByClassName\",\n    \"getElementsByName\",\n    \"getElementById\",\n    \"querySelector\",\n    \"querySelectorAll\",\n    \"documentElement\",\n    \"scrollingElement\",\n    \"forms\",\n    \"images\",\n    \"links\",\n  ],\n\n  // shadowRoot\n  shadowProperties: [\n    \"activeElement\",\n    \"childElementCount\",\n    \"children\",\n    \"firstElementChild\",\n    \"firstChild\",\n    \"fullscreenElement\",\n    \"lastElementChild\",\n    \"pictureInPictureElement\",\n    \"pointerLockElement\",\n    \"styleSheets\",\n  ],\n\n  // shadowRoot\n  shadowMethods: [\n    \"append\",\n    \"contains\",\n    \"getSelection\",\n    \"elementFromPoint\",\n    \"elementsFromPoint\",\n    \"getAnimations\",\n    \"replaceChildren\",\n  ],\n\n  // document\n  documentProperties: [\n    \"characterSet\",\n    \"compatMode\",\n    \"contentType\",\n    \"designMode\",\n    \"dir\",\n    \"doctype\",\n    \"embeds\",\n    \"fullscreenEnabled\",\n    \"hidden\",\n    \"implementation\",\n    \"lastModified\",\n    \"pictureInPictureEnabled\",\n    \"plugins\",\n    \"readyState\",\n    \"referrer\",\n    \"visibilityState\",\n    \"fonts\",\n  ],\n\n  // document\n  documentMethods: [\n    \"execCommand\",\n    \"createRange\",\n    \"exitFullscreen\",\n    \"exitPictureInPicture\",\n    \"getElementsByTagNameNS\",\n    \"hasFocus\",\n    \"prepend\",\n  ],\n\n  // document\n  documentEvents: [\n    \"onpointerlockchange\",\n    \"onpointerlockerror\",\n    \"onbeforecopy\",\n    \"onbeforecut\",\n    \"onbeforepaste\",\n    \"onfreeze\",\n    \"onresume\",\n    \"onsearch\",\n    \"onfullscreenchange\",\n    \"onfullscreenerror\",\n    \"onsecuritypolicyviolation\",\n    \"onvisibilitychange\",\n  ],\n\n  // \n  ownerProperties: [\"head\", \"body\"],\n};\n\n// iframe document\nexport const appDocumentAddEventListenerEvents = [\"DOMContentLoaded\", \"readystatechange\"];\nexport const appDocumentOnEvents = [\"onreadystatechange\"];\n// document\nexport const mainDocumentAddEventListenerEvents = [\n  \"fullscreenchange\",\n  \"fullscreenerror\",\n  \"selectionchange\",\n  \"visibilitychange\",\n  \"wheel\",\n];\n\n// documentshadow\nexport const mainAndAppAddEventListenerEvents = [\"gotpointercapture\", \"lostpointercapture\"];\n\n// windowiframe\nexport const appWindowAddEventListenerEvents = [\n  \"hashchange\",\n  \"popstate\",\n  \"DOMContentLoaded\",\n  \"load\",\n  \"beforeunload\",\n  \"unload\",\n];\n\n// window.onXXXiframe\nexport const appWindowOnEvent = [\"onload\", \"onbeforeunload\", \"onunload\"];\n\n// tagattrmap\nexport const relativeElementTagAttrMap = {\n  IMG: \"src\",\n  A: \"href\",\n  SOURCE: \"src\",\n};\n\n// window\nexport const windowProxyProperties = [\"getComputedStyle\", \"visualViewport\", \"matchMedia\", \"DOMParser\"];\n\n// window\nexport const windowRegWhiteList = [\n  /animationFrame$/i,\n  /resizeObserver$|mutationObserver$|intersectionObserver$/i,\n  /height$|width$|left$/i,\n  /^screen/i,\n  /X$|Y$/,\n];\n\n// \nexport const rawElementAppendChild = HTMLElement.prototype.appendChild;\nexport const rawElementRemoveChild = HTMLElement.prototype.removeChild;\nexport const rawHeadInsertBefore = HTMLHeadElement.prototype.insertBefore;\nexport const rawBodyInsertBefore = HTMLBodyElement.prototype.insertBefore;\nexport const rawAddEventListener = EventTarget.prototype.addEventListener;\nexport const rawRemoveEventListener = EventTarget.prototype.removeEventListener;\nexport const rawAppendChild = Node.prototype.appendChild;\nexport const rawDocumentQuerySelector = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\n  : Document.prototype.querySelector;\n","import { getExternalStyleSheets, getExternalScripts } from \"./entry\";\nimport {\n  getWujieById,\n  rawAppendChild,\n  rawHeadInsertBefore,\n  rawBodyInsertBefore,\n  rawDocumentQuerySelector,\n  rawAddEventListener,\n  rawRemoveEventListener,\n} from \"./common\";\nimport { isFunction, isHijackingTag, requestIdleCallback, error, warn, nextTick, getCurUrl } from \"./utils\";\nimport { insertScriptToIframe, patchElementEffect } from \"./iframe\";\nimport Wujie from \"./sandbox\";\nimport { getPatchStyleElements } from \"./shadow\";\nimport { getCssLoader, getEffectLoaders, isMatchUrl } from \"./plugin\";\nimport { WUJIE_DATA_ID, WUJIE_DATA_FLAG, WUJIE_TIPS_REPEAT_RENDER } from \"./constant\";\nimport { ScriptObject } from \"./template\";\n\nfunction patchCustomEvent(\n  e: CustomEvent,\n  elementGetter: () => HTMLScriptElement | HTMLLinkElement | null\n): CustomEvent {\n  Object.defineProperties(e, {\n    srcElement: {\n      get: elementGetter,\n    },\n    target: {\n      get: elementGetter,\n    },\n  });\n\n  return e;\n}\n\n/**\n * \n */\nfunction manualInvokeElementEvent(element: HTMLLinkElement | HTMLScriptElement, event: string): void {\n  const customEvent = new CustomEvent(event);\n  const patchedEvent = patchCustomEvent(customEvent, () => element);\n  if (isFunction(element[`on${event}`])) {\n    element[`on${event}`](patchedEvent);\n  } else {\n    element.dispatchEvent(patchedEvent);\n  }\n}\n\n/**\n * cssstylesheetElement\n */\nfunction handleStylesheetElementPatch(stylesheetElement: HTMLStyleElement & { _patcher?: any }, sandbox: Wujie) {\n  if (!stylesheetElement.innerHTML || sandbox.degrade) return;\n  const patcher = () => {\n    const [hostStyleSheetElement, fontStyleSheetElement] = getPatchStyleElements([stylesheetElement.sheet]);\n    if (hostStyleSheetElement) {\n      sandbox.shadowRoot.head.appendChild(hostStyleSheetElement);\n    }\n    if (fontStyleSheetElement) {\n      sandbox.shadowRoot.host.appendChild(fontStyleSheetElement);\n    }\n    stylesheetElement._patcher = undefined;\n  };\n  if (stylesheetElement._patcher) {\n    clearTimeout(stylesheetElement._patcher);\n  }\n  stylesheetElement._patcher = setTimeout(patcher, 50);\n}\n\n/**\n * \n */\nfunction patchStylesheetElement(\n  stylesheetElement: HTMLStyleElement & { _hasPatchStyle?: boolean },\n  cssLoader: (code: string, url: string, base: string) => string,\n  sandbox: Wujie,\n  curUrl: string\n) {\n  if (stylesheetElement._hasPatchStyle) return;\n  const innerHTMLDesc = Object.getOwnPropertyDescriptor(Element.prototype, \"innerHTML\");\n  const innerTextDesc = Object.getOwnPropertyDescriptor(HTMLElement.prototype, \"innerText\");\n  const textContentDesc = Object.getOwnPropertyDescriptor(Node.prototype, \"textContent\");\n  const RawInsertRule = stylesheetElement.sheet?.insertRule;\n  // cssRuleinnerHTML\n  function patchSheetInsertRule() {\n    if (!RawInsertRule) return;\n    stylesheetElement.sheet.insertRule = (rule: string, index?: number): number => {\n      stylesheetElement.innerHTML += rule;\n      return RawInsertRule.call(stylesheetElement.sheet, rule, index);\n    };\n  }\n  patchSheetInsertRule();\n  Object.defineProperties(stylesheetElement, {\n    innerHTML: {\n      get: function () {\n        return innerHTMLDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        innerHTMLDesc.set.call(stylesheetElement, cssLoader(code, \"\", curUrl));\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n      },\n    },\n    innerText: {\n      get: function () {\n        return innerTextDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        innerTextDesc.set.call(stylesheetElement, cssLoader(code, \"\", curUrl));\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n      },\n    },\n    textContent: {\n      get: function () {\n        return textContentDesc.get.call(stylesheetElement);\n      },\n      set: function (code: string) {\n        textContentDesc.set.call(stylesheetElement, cssLoader(code, \"\", curUrl));\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n      },\n    },\n    appendChild: {\n      value: function (node: Node): Node {\n        nextTick(() => handleStylesheetElementPatch(this, sandbox));\n        if (node.nodeType === Node.TEXT_NODE) {\n          const res = rawAppendChild.call(\n            stylesheetElement,\n            stylesheetElement.ownerDocument.createTextNode(cssLoader(node.textContent, \"\", curUrl))\n          );\n          // appendChildsheetpatch\n          patchSheetInsertRule();\n          return res;\n        } else return rawAppendChild(node);\n      },\n    },\n    _hasPatchStyle: { get: () => true },\n  });\n}\n\nfunction rewriteAppendOrInsertChild(opts: {\n  rawDOMAppendOrInsertBefore: <T extends Node>(newChild: T, refChild?: Node | null) => T;\n  wujieId: string;\n}) {\n  return function appendChildOrInsertBefore<T extends Node>(\n    this: HTMLHeadElement | HTMLBodyElement,\n    newChild: T,\n    refChild?: Node | null\n  ) {\n    let element = newChild as any;\n    const { rawDOMAppendOrInsertBefore, wujieId } = opts;\n    const sandbox = getWujieById(wujieId);\n\n    const { styleSheetElements, replace, fetch, plugins, iframe, lifecycles, proxyLocation, fiber } = sandbox;\n\n    if (!isHijackingTag(element.tagName) || !wujieId) {\n      const res = rawDOMAppendOrInsertBefore.call(this, element, refChild) as T;\n      patchElementEffect(element, iframe.contentWindow);\n      return res;\n    }\n\n    const iframeDocument = iframe.contentDocument;\n    const curUrl = getCurUrl(proxyLocation);\n\n    // TODO \n    if (element.tagName) {\n      switch (element.tagName?.toUpperCase()) {\n        case \"LINK\": {\n          const { href, rel, type } = element as HTMLLinkElement;\n          const styleFlag = rel === \"stylesheet\" || type === \"text/css\" || href.endsWith(\".css\");\n          //  stylesheet \n          if (!styleFlag) return rawDOMAppendOrInsertBefore.call(this, element, refChild);\n          // css\n          if (href && !isMatchUrl(href, getEffectLoaders(\"cssExcludes\", plugins))) {\n            getExternalStyleSheets(\n              [{ src: href, ignore: isMatchUrl(href, getEffectLoaders(\"cssIgnores\", plugins)) }],\n              fetch,\n              lifecycles.loadError\n            ).forEach(({ src, ignore, contentPromise }) =>\n              contentPromise.then(\n                (content) => {\n                  //  ignore \n                  if (ignore && src) {\n                    const stylesheetElement = iframeDocument.createElement(\"link\");\n                    stylesheetElement.setAttribute(\"type\", \"text/css\");\n                    stylesheetElement.setAttribute(\"ref\", \"stylesheet\");\n                    rawDOMAppendOrInsertBefore.call(this, stylesheetElement, refChild);\n                    manualInvokeElementEvent(element, \"load\");\n                  } else {\n                    // js\n                    const stylesheetElement = iframeDocument.createElement(\"style\");\n                    // css-loader\n                    const cssLoader = getCssLoader({ plugins, replace });\n                    stylesheetElement.innerHTML = cssLoader(content, src, curUrl);\n                    styleSheetElements.push(stylesheetElement);\n                    rawDOMAppendOrInsertBefore.call(this, stylesheetElement, refChild);\n                    // \n                    handleStylesheetElementPatch(stylesheetElement, sandbox);\n                    manualInvokeElementEvent(element, \"load\");\n                  }\n                  element = null;\n                },\n                () => {\n                  manualInvokeElementEvent(element, \"error\");\n                  element = null;\n                }\n              )\n            );\n          }\n\n          const comment = iframeDocument.createComment(`dynamic link ${href} replaced by wujie`);\n          return rawDOMAppendOrInsertBefore.call(this, comment, refChild);\n        }\n        case \"STYLE\": {\n          const stylesheetElement: HTMLStyleElement = newChild as any;\n          styleSheetElements.push(stylesheetElement);\n          const content = stylesheetElement.innerHTML;\n          const cssLoader = getCssLoader({ plugins, replace });\n          content && (stylesheetElement.innerHTML = cssLoader(content, \"\", curUrl));\n          const res = rawDOMAppendOrInsertBefore.call(this, element, refChild);\n          // \n          patchStylesheetElement(stylesheetElement, cssLoader, sandbox, curUrl);\n          handleStylesheetElementPatch(stylesheetElement, sandbox);\n          return res;\n        }\n        case \"SCRIPT\": {\n          const { src, text, type, crossOrigin } = element as HTMLScriptElement;\n          // js\n          if (src && !isMatchUrl(src, getEffectLoaders(\"jsExcludes\", plugins))) {\n            const execScript = (scriptResult: ScriptObject) => {\n              // \n              if (sandbox.iframe === null) return warn(WUJIE_TIPS_REPEAT_RENDER);\n              const onload = () => {\n                manualInvokeElementEvent(element, \"load\");\n                element = null;\n              };\n              insertScriptToIframe({ ...scriptResult, onload }, sandbox.iframe.contentWindow);\n            };\n            const scriptOptions = {\n              src,\n              module: type === \"module\",\n              crossorigin: crossOrigin !== null,\n              crossoriginType: crossOrigin || \"\",\n              ignore: isMatchUrl(src, getEffectLoaders(\"jsIgnores\", plugins)),\n            } as ScriptObject;\n            getExternalScripts([scriptOptions], fetch, lifecycles.loadError, fiber).forEach((scriptResult) =>\n              scriptResult.contentPromise.then(\n                (content) => {\n                  if (sandbox.execQueue === null) return warn(WUJIE_TIPS_REPEAT_RENDER);\n                  const execQueueLength = sandbox.execQueue?.length;\n                  sandbox.execQueue.push(() =>\n                    fiber\n                      ? requestIdleCallback(() => {\n                          execScript({ ...scriptResult, content });\n                        })\n                      : execScript({ ...scriptResult, content })\n                  );\n                  // \n                  if (!execQueueLength) sandbox.execQueue.shift()();\n                },\n                () => {\n                  manualInvokeElementEvent(element, \"error\");\n                  element = null;\n                }\n              )\n            );\n          } else {\n            const execQueueLength = sandbox.execQueue?.length;\n            sandbox.execQueue.push(() =>\n              fiber\n                ? requestIdleCallback(() => {\n                    insertScriptToIframe({ src: null, content: text }, sandbox.iframe.contentWindow);\n                  })\n                : insertScriptToIframe({ src: null, content: text }, sandbox.iframe.contentWindow)\n            );\n            if (!execQueueLength) sandbox.execQueue.shift()();\n          }\n          // inline script never trigger the onload and onerror event\n          const comment = iframeDocument.createComment(`dynamic script ${src} replaced by wujie`);\n          return rawDOMAppendOrInsertBefore.call(this, comment, refChild);\n        }\n        // iframewindow.parent\n        case \"IFRAME\": {\n          // js-iframejs-iframe\n          if (element.getAttribute(WUJIE_DATA_FLAG) === \"\") {\n            return rawAppendChild.call(rawDocumentQuerySelector.call(this.ownerDocument, \"html\"), element);\n          }\n          const res = rawDOMAppendOrInsertBefore.call(this, element, refChild);\n          try {\n            // dom-iframe\n            if (!element.getAttribute(WUJIE_DATA_ID)) {\n              const patchScript = (element as HTMLIFrameElement).contentWindow.document.createElement(\"script\");\n              patchScript.type = \"text/javascript\";\n              patchScript.innerHTML = `Array.prototype.slice.call(window.parent.frames).some(function(iframe){if(iframe.name === '${wujieId}'){window.parent = iframe;return true};return false})`;\n              element.contentDocument.head.insertBefore(patchScript, element.contentDocument.head.firstChild);\n            }\n          } catch (e) {\n            error(e);\n          }\n          return res;\n        }\n        default:\n      }\n    }\n  };\n}\n\n/**\n * headbodyheadbody\n */\nfunction patchEventListener(element: HTMLHeadElement | HTMLBodyElement) {\n  const listenerMap = new Map<string, EventListenerOrEventListenerObject[]>();\n  element._cacheListeners = listenerMap;\n\n  element.addEventListener = (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ) => {\n    const listeners = listenerMap.get(type) || [];\n    listenerMap.set(type, [...listeners, listener]);\n    return rawAddEventListener.call(element, type, listener, options);\n  };\n\n  element.removeEventListener = (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ) => {\n    const typeListeners = listenerMap.get(type);\n    const index = typeListeners?.indexOf(listener);\n    if (typeListeners?.length && index !== -1) {\n      typeListeners.splice(index, 1);\n    }\n    return rawRemoveEventListener.call(element, type, listener, options);\n  };\n}\n\n/**\n * headbody\n */\nexport function removeEventListener(element: HTMLHeadElement | HTMLBodyElement) {\n  const listenerMap = element._cacheListeners;\n  [...listenerMap.entries()].forEach(([type, listeners]) => {\n    listeners.forEach((listener) => rawRemoveEventListener.call(element, type, listener));\n  });\n}\n\n/**\n * patch head and body in render\n * intercept appendChild and insertBefore\n */\nexport function patchRenderEffect(render: ShadowRoot | Document, id: string, degrade: boolean): void {\n  // domiframeiframe\n  if (!degrade) {\n    patchEventListener(render.head);\n    patchEventListener(render.body as HTMLBodyElement);\n  }\n\n  render.head.appendChild = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawAppendChild,\n    wujieId: id,\n  }) as typeof rawAppendChild;\n  render.head.insertBefore = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawHeadInsertBefore as any,\n    wujieId: id,\n  }) as typeof rawHeadInsertBefore;\n  render.body.appendChild = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawAppendChild,\n    wujieId: id,\n  }) as typeof rawAppendChild;\n  render.body.insertBefore = rewriteAppendOrInsertChild({\n    rawDOMAppendOrInsertBefore: rawBodyInsertBefore as any,\n    wujieId: id,\n  }) as typeof rawBodyInsertBefore;\n}\n","import {\n  WUJIE_DATA_ID,\n  WUJIE_IFRAME_CLASS,\n  WUJIE_SHADE_STYLE,\n  CONTAINER_POSITION_DATA_FLAG,\n  CONTAINER_OVERFLOW_DATA_FLAG,\n  LOADING_DATA_FLAG,\n  WUJIE_LOADING_STYLE,\n  WUJIE_LOADING_SVG,\n} from \"./constant\";\nimport {\n  getWujieById,\n  rawAppendChild,\n  rawElementAppendChild,\n  rawElementRemoveChild,\n  relativeElementTagAttrMap,\n} from \"./common\";\nimport { getExternalStyleSheets } from \"./entry\";\nimport Wujie from \"./sandbox\";\nimport { patchElementEffect } from \"./iframe\";\nimport { patchRenderEffect } from \"./effect\";\nimport { getCssLoader, getPresetLoaders } from \"./plugin\";\nimport { getAbsolutePath, getContainer, getCurUrl } from \"./utils\";\n\nconst cssSelectorMap = {\n  \":root\": \":host\",\n};\n\ndeclare global {\n  interface ShadowRoot {\n    head: HTMLHeadElement;\n    body: HTMLBodyElement;\n  }\n}\n\n/**\n * webComponent\n */\nclass WujieApp extends HTMLElement {\n  connectedCallback(): void {\n    if (this.shadowRoot) return;\n    const shadowRoot = this.attachShadow({ mode: \"open\" });\n    const sandbox = getWujieById(this.getAttribute(WUJIE_DATA_ID));\n    patchElementEffect(shadowRoot, sandbox.iframe.contentWindow);\n    sandbox.shadowRoot = shadowRoot;\n  }\n\n  disconnectedCallback(): void {\n    const sandbox = getWujieById(this.getAttribute(WUJIE_DATA_ID));\n    sandbox?.unmount();\n  }\n}\n\n/**\n *  wujie webComponentshadowdom\n */\nexport function defineWujieWebComponent() {\n  if (!customElements.get(\"wujie-app\")) {\n    customElements.define(\"wujie-app\", WujieApp);\n  }\n}\n\nexport function createWujieWebComponent(id: string): HTMLElement {\n  const contentElement = window.document.createElement(\"wujie-app\");\n  contentElement.setAttribute(WUJIE_DATA_ID, id);\n  contentElement.classList.add(WUJIE_IFRAME_CLASS);\n  return contentElement;\n}\n\n/**\n * \n */\nexport function renderElementToContainer(element: Element, selectorOrElement: string | HTMLElement): HTMLElement {\n  const container = getContainer(selectorOrElement);\n  if (container && !container.contains(element)) {\n    //  loading \n    if (!container.querySelector(`div[${LOADING_DATA_FLAG}]`)) {\n      // \n      clearChild(container);\n    }\n    // \n    if (element) {\n      rawElementAppendChild.call(container, element);\n    }\n  }\n  return container;\n}\n\n/**\n * css-before-loader  css-after-loader\n */\nasync function processCssLoaderForTemplate(sandbox: Wujie, html: HTMLHtmlElement): Promise<HTMLHtmlElement> {\n  const document = sandbox.iframe.contentDocument;\n  const { plugins, replace, proxyLocation } = sandbox;\n  const cssLoader = getCssLoader({ plugins, replace });\n  const cssBeforeLoaders = getPresetLoaders(\"cssBeforeLoaders\", plugins);\n  const cssAfterLoaders = getPresetLoaders(\"cssAfterLoaders\", plugins);\n  const curUrl = getCurUrl(proxyLocation);\n\n  return await Promise.all([\n    Promise.all(\n      getExternalStyleSheets(cssBeforeLoaders, sandbox.fetch, sandbox.lifecycles.loadError).map(\n        ({ src, contentPromise }) => contentPromise.then((content) => ({ src, content }))\n      )\n    ).then((contentList) => {\n      contentList.forEach(({ src, content }) => {\n        if (!content) return;\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.appendChild(document.createTextNode(content ? cssLoader(content, src, curUrl) : content));\n        const head = html.querySelector(\"head\");\n        const body = html.querySelector(\"body\");\n        html.insertBefore(styleElement, head || body || html.firstChild);\n      });\n    }),\n    Promise.all(\n      getExternalStyleSheets(cssAfterLoaders, sandbox.fetch, sandbox.lifecycles.loadError).map(\n        ({ src, contentPromise }) => contentPromise.then((content) => ({ src, content }))\n      )\n    ).then((contentList) => {\n      contentList.forEach(({ src, content }) => {\n        if (!content) return;\n        const styleElement = document.createElement(\"style\");\n        styleElement.setAttribute(\"type\", \"text/css\");\n        styleElement.appendChild(document.createTextNode(content ? cssLoader(content, src, curUrl) : content));\n        html.appendChild(styleElement);\n      });\n    }),\n  ]).then(\n    () => html,\n    () => html\n  );\n}\n\n// htmlheadbody\nfunction replaceHeadAndBody(html: HTMLHtmlElement, head: HTMLHeadElement, body: HTMLBodyElement): HTMLHtmlElement {\n  const headElement = html.querySelector(\"head\");\n  const bodyElement = html.querySelector(\"body\");\n  if (headElement) {\n    while (headElement.firstChild) {\n      rawAppendChild.call(head, headElement.firstChild.cloneNode(true));\n      headElement.removeChild(headElement.firstChild);\n    }\n    headElement.parentNode.replaceChild(head, headElement);\n  }\n  if (bodyElement) {\n    while (bodyElement.firstChild) {\n      rawAppendChild.call(body, bodyElement.firstChild.cloneNode(true));\n      bodyElement.removeChild(bodyElement.firstChild);\n    }\n    bodyElement.parentNode.replaceChild(body, bodyElement);\n  }\n  return html;\n}\n\n/**\n * templatehtml\n */\nfunction renderTemplateToHtml(iframeWindow: Window, template: string): HTMLHtmlElement {\n  const sandbox = iframeWindow.__WUJIE;\n  const { head, body, alive, execFlag } = sandbox;\n  const document = iframeWindow.document;\n  let html = document.createElement(\"html\");\n  html.innerHTML = template;\n  // headbody\n  if (!alive && execFlag) {\n    html = replaceHeadAndBody(html, head, body);\n  } else {\n    sandbox.head = html.querySelector(\"head\");\n    sandbox.body = html.querySelector(\"body\");\n  }\n  const ElementIterator = document.createTreeWalker(html, NodeFilter.SHOW_ELEMENT);\n  let nextElement = ElementIterator.currentNode as HTMLElement;\n  while (nextElement) {\n    patchElementEffect(nextElement, iframeWindow);\n    const relativeAttr = relativeElementTagAttrMap[nextElement.tagName];\n    const url = nextElement[relativeAttr];\n    if (relativeAttr) nextElement.setAttribute(relativeAttr, getAbsolutePath(url, nextElement.baseURI || \"\"));\n    nextElement = ElementIterator.nextNode() as HTMLElement;\n  }\n  if (!html.querySelector(\"head\")) {\n    const head = document.createElement(\"head\");\n    html.appendChild(head);\n  }\n  if (!html.querySelector(\"body\")) {\n    const body = document.createElement(\"body\");\n    html.appendChild(body);\n  }\n  return html;\n}\n\n/**\n * templateshadowRoot\n */\nexport async function renderTemplateToShadowRoot(\n  shadowRoot: ShadowRoot,\n  iframeWindow: Window,\n  template: string\n): Promise<void> {\n  const html = renderTemplateToHtml(iframeWindow, template);\n  //  css-before-loader  css-after-loader\n  const processedHtml = await processCssLoaderForTemplate(iframeWindow.__WUJIE, html);\n  // change ownerDocument\n  shadowRoot.appendChild(processedHtml);\n  const shade = document.createElement(\"div\");\n  shade.setAttribute(\"style\", WUJIE_SHADE_STYLE);\n  processedHtml.insertBefore(shade, processedHtml.firstChild);\n  shadowRoot.head = shadowRoot.querySelector(\"head\");\n  shadowRoot.body = shadowRoot.querySelector(\"body\");\n\n  //  html parentNode\n  Object.defineProperty(shadowRoot.firstChild, \"parentNode\", {\n    enumerable: true,\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n\n  patchRenderEffect(shadowRoot, iframeWindow.__WUJIE.id, false);\n}\n\nexport function createIframeContainer(id: string): HTMLIFrameElement {\n  const iframe = document.createElement(\"iframe\");\n  iframe.setAttribute(\"style\", \"width: 100%; height:100%\");\n  iframe.setAttribute(WUJIE_DATA_ID, id);\n  return iframe;\n}\n\n/**\n * templateiframe\n */\nexport async function renderTemplateToIframe(\n  renderDocument: Document,\n  iframeWindow: Window,\n  template: string\n): Promise<void> {\n  // iframe\n  clearChild(renderDocument);\n  // template\n  const html = renderTemplateToHtml(iframeWindow, template);\n  //  css-before-loader  css-after-loader\n  const processedHtml = await processCssLoaderForTemplate(iframeWindow.__WUJIE, html);\n  renderDocument.appendChild(processedHtml);\n\n  //  html parentNode\n  Object.defineProperty(renderDocument.firstElementChild, \"parentNode\", {\n    enumerable: true,\n    configurable: true,\n    get: () => iframeWindow.document,\n  });\n\n  patchRenderEffect(renderDocument, iframeWindow.__WUJIE.id, true);\n}\n\n/**\n * Element\n */\nexport function clearChild(root: ShadowRoot | Node): void {\n  // \n  while (root?.firstChild) {\n    rawElementRemoveChild.call(root, root.firstChild);\n  }\n}\n\n/**\n * loading\n */\nexport function addLoading(el: string | HTMLElement, loading: HTMLElement): void {\n  const container = getContainer(el);\n  clearChild(container);\n  //  loading \n  const containerStyles = window.getComputedStyle(container);\n  if (containerStyles.position === \"static\") {\n    container.setAttribute(CONTAINER_POSITION_DATA_FLAG, containerStyles.position);\n    container.setAttribute(\n      CONTAINER_OVERFLOW_DATA_FLAG,\n      containerStyles.overflow === \"visible\" ? \"\" : containerStyles.overflow\n    );\n    container.style.setProperty(\"position\", \"relative\");\n    container.style.setProperty(\"overflow\", \"hidden\");\n  } else if ([\"relative\", \"sticky\"].includes(containerStyles.position)) {\n    container.setAttribute(\n      CONTAINER_OVERFLOW_DATA_FLAG,\n      containerStyles.overflow === \"visible\" ? \"\" : containerStyles.overflow\n    );\n    container.style.setProperty(\"overflow\", \"hidden\");\n  }\n  const loadingContainer = document.createElement(\"div\");\n  loadingContainer.setAttribute(LOADING_DATA_FLAG, \"\");\n  loadingContainer.setAttribute(\"style\", WUJIE_LOADING_STYLE);\n  if (loading) loadingContainer.appendChild(loading);\n  else loadingContainer.innerHTML = WUJIE_LOADING_SVG;\n  container.appendChild(loadingContainer);\n}\n/**\n * loading\n */\nexport function removeLoading(el: HTMLElement): void {\n  // \n  const positionFlag = el.getAttribute(CONTAINER_POSITION_DATA_FLAG);\n  const overflowFlag = el.getAttribute(CONTAINER_OVERFLOW_DATA_FLAG);\n  if (positionFlag) el.style.removeProperty(\"position\");\n  if (overflowFlag !== null) {\n    overflowFlag ? el.style.setProperty(\"overflow\", overflowFlag) : el.style.removeProperty(\"overflow\");\n  }\n  el.removeAttribute(CONTAINER_POSITION_DATA_FLAG);\n  el.removeAttribute(CONTAINER_OVERFLOW_DATA_FLAG);\n  const loadingContainer = el.querySelector(`div[${LOADING_DATA_FLAG}]`);\n  loadingContainer && el.removeChild(loadingContainer);\n}\n/**\n * \n * rootfont-face\n */\nexport function getPatchStyleElements(rootStyleSheets: Array<CSSStyleSheet>): Array<HTMLStyleElement | null> {\n  const rootCssRules = [];\n  const fontCssRules = [];\n  const rootStyleReg = /:root/g;\n\n  // rootcssRules\n  for (let i = 0; i < rootStyleSheets.length; i++) {\n    const cssRules = rootStyleSheets[i]?.cssRules ?? [];\n    for (let j = 0; j < cssRules.length; j++) {\n      const cssRuleText = cssRules[j].cssText;\n      // rootcssRule\n      if (rootStyleReg.test(cssRuleText)) {\n        rootCssRules.push(cssRuleText.replace(rootStyleReg, (match) => cssSelectorMap[match]));\n      }\n      // font-facecssRule\n      if (cssRules[j].type === CSSRule.FONT_FACE_RULE) {\n        fontCssRules.push(cssRuleText);\n      }\n    }\n  }\n\n  let rootStyleSheetElement = null;\n  let fontStyleSheetElement = null;\n\n  // host\n  if (rootCssRules.length) {\n    rootStyleSheetElement = window.document.createElement(\"style\");\n    rootStyleSheetElement.innerHTML = rootCssRules.join(\"\");\n  }\n\n  if (fontCssRules.length) {\n    fontStyleSheetElement = window.document.createElement(\"style\");\n    fontStyleSheetElement.innerHTML = fontCssRules.join(\"\");\n  }\n\n  return [rootStyleSheetElement, fontStyleSheetElement];\n}\n","import { anchorElementGenerator, getAnchorElementQueryMap, getSyncUrl, appRouteParse, getDegradeIframe } from \"./utils\";\nimport { renderIframeReplaceApp, patchEventTimeStamp } from \"./iframe\";\nimport { renderElementToContainer, createIframeContainer, clearChild } from \"./shadow\";\nimport { getWujieById, rawDocumentQuerySelector } from \"./common\";\n\n/**\n * \n */\nexport function syncUrlToWindow(iframeWindow: Window): void {\n  const { sync, id, prefix } = iframeWindow.__WUJIE;\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  // urlid\n  if (!sync && !queryMap[id]) return (winUrlElement = null);\n  const curUrl = iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n  let validShortPath = \"\";\n  // \n  if (prefix) {\n    Object.keys(prefix).forEach((shortPath) => {\n      const longPath = prefix[shortPath];\n      // \n      if (curUrl.startsWith(longPath) && (!validShortPath || longPath.length > prefix[validShortPath].length)) {\n        validShortPath = shortPath;\n      }\n    });\n  }\n  // \n  if (sync) {\n    queryMap[id] = window.encodeURIComponent(\n      validShortPath ? curUrl.replace(prefix[validShortPath], `{${validShortPath}}`) : curUrl\n    );\n    // \n  } else {\n    delete queryMap[id];\n  }\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  if (winUrlElement.href !== window.location.href) {\n    window.history.replaceState(null, \"\", winUrlElement.href);\n  }\n  winUrlElement = null;\n}\n\n/**\n * \n */\nexport function syncUrlToIframe(iframeWindow: Window): void {\n  // \n  const { pathname, search, hash } = iframeWindow.location;\n  const { id, url, sync, execFlag, prefix, inject } = iframeWindow.__WUJIE;\n\n  // \n  const idUrl = sync && !execFlag ? getSyncUrl(id, prefix) : url;\n  // href\n  const syncUrl = (/^http/.test(idUrl) ? null : idUrl) || url;\n  const { appRoutePath } = appRouteParse(syncUrl);\n\n  const preAppRoutePath = pathname + search + hash;\n  if (preAppRoutePath !== appRoutePath) {\n    iframeWindow.history.replaceState(null, \"\", inject.mainHostPath + appRoutePath);\n  }\n}\n\n/**\n * \n * hash\n */\nexport function clearInactiveAppUrl(): void {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  Object.keys(queryMap).forEach((id) => {\n    const sandbox = getWujieById(id);\n    if (!sandbox) return;\n    // \n    const clearFlag = sandbox.degrade\n      ? !window.document.contains(getDegradeIframe(sandbox.id))\n      : !window.document.contains(sandbox?.shadowRoot?.host);\n    if (sandbox.execFlag && sandbox.sync && !sandbox.hrefFlag && clearFlag) {\n      delete queryMap[id];\n    }\n  });\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  if (winUrlElement.href !== window.location.href) {\n    window.history.replaceState(null, \"\", winUrlElement.href);\n  }\n  winUrlElement = null;\n}\n\n/**\n * url\n */\nexport function pushUrlToWindow(id: string, url: string): void {\n  let winUrlElement = anchorElementGenerator(window.location.href);\n  const queryMap = getAnchorElementQueryMap(winUrlElement);\n  queryMap[id] = window.encodeURIComponent(url);\n  const newQuery =\n    \"?\" +\n    Object.keys(queryMap)\n      .map((key) => key + \"=\" + queryMap[key])\n      .join(\"&\");\n  winUrlElement.search = newQuery;\n  window.history.pushState(null, \"\", winUrlElement.href);\n  winUrlElement = null;\n}\n\n/**\n * (window.location.href)\n */\nexport function processAppForHrefJump(): void {\n  window.addEventListener(\"popstate\", () => {\n    let winUrlElement = anchorElementGenerator(window.location.href);\n    const queryMap = getAnchorElementQueryMap(winUrlElement);\n    winUrlElement = null;\n    Object.keys(queryMap)\n      .map((id) => getWujieById(id))\n      .filter((sandbox) => sandbox)\n      .forEach((sandbox) => {\n        const url = queryMap[sandbox.id];\n        const iframeBody = rawDocumentQuerySelector.call(sandbox.iframe.contentDocument, \"body\");\n        // href\n        if (/http/.test(url)) {\n          if (sandbox.degrade) {\n            renderElementToContainer(sandbox.document.firstElementChild, iframeBody);\n            renderIframeReplaceApp(window.decodeURIComponent(url), getDegradeIframe(sandbox.id).parentElement);\n          } else renderIframeReplaceApp(window.decodeURIComponent(url), sandbox.shadowRoot.host.parentElement);\n          sandbox.hrefFlag = true;\n          // href\n        } else if (sandbox.hrefFlag) {\n          if (sandbox.degrade) {\n            // \n            const iframe = createIframeContainer(sandbox.id);\n            renderElementToContainer(iframe, sandbox.el);\n            clearChild(iframe.contentDocument);\n            patchEventTimeStamp(iframe.contentWindow, sandbox.iframe.contentWindow);\n            iframe.contentWindow.onunload = () => {\n              sandbox.unmount();\n            };\n            iframe.contentDocument.appendChild(iframeBody.firstElementChild);\n            sandbox.document = iframe.contentDocument;\n          } else renderElementToContainer(sandbox.shadowRoot.host, sandbox.el);\n          sandbox.hrefFlag = false;\n        }\n      });\n  });\n}\n","import WuJie from \"./sandbox\";\nimport { ScriptObject } from \"./template\";\nimport { renderElementToContainer, clearChild } from \"./shadow\";\nimport { syncUrlToWindow } from \"./sync\";\nimport {\n  fixElementCtrSrcOrHref,\n  isConstructable,\n  anchorElementGenerator,\n  isMatchSyncQueryById,\n  warn,\n  error,\n  execHooks,\n  getCurUrl,\n  getAbsolutePath,\n} from \"./utils\";\nimport {\n  documentProxyProperties,\n  rawAddEventListener,\n  rawRemoveEventListener,\n  rawDocumentQuerySelector,\n  mainDocumentAddEventListenerEvents,\n  mainAndAppAddEventListenerEvents,\n  appDocumentAddEventListenerEvents,\n  appDocumentOnEvents,\n  appWindowAddEventListenerEvents,\n  appWindowOnEvent,\n  windowProxyProperties,\n  windowRegWhiteList,\n} from \"./common\";\nimport { getJsLoader } from \"./plugin\";\nimport { WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, WUJIE_DATA_FLAG } from \"./constant\";\nimport { ScriptObjectLoader } from \"./index\";\n\ndeclare global {\n  interface Window {\n    // \n    __POWERED_BY_WUJIE__?: boolean;\n    // \n    __WUJIE_PUBLIC_PATH__: string;\n    // querySelector\n    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__: typeof Document.prototype.querySelector;\n    // querySelector\n    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__: typeof Document.prototype.querySelectorAll;\n    // window\n    __WUJIE_RAW_WINDOW__: Window;\n    // \n    __WUJIE: WuJie;\n    // mount\n    __WUJIE_MOUNT: () => void;\n    // unmount\n    __WUJIE_UNMOUNT: () => void;\n    // document type\n    Document: typeof Document;\n    // img type\n    HTMLImageElement: typeof HTMLImageElement;\n    // node type\n    Node: typeof Node;\n    // element type\n    Element: typeof Element;\n    // htmlElement typeof\n    HTMLElement: typeof HTMLElement;\n    // anchor type\n    HTMLAnchorElement: typeof HTMLAnchorElement;\n    // source type\n    HTMLSourceElement: typeof HTMLSourceElement;\n    // link type\n    HTMLLinkElement: typeof HTMLLinkElement;\n    // script type\n    HTMLScriptElement: typeof HTMLScriptElement;\n    EventTarget: typeof EventTarget;\n    Event: typeof Event;\n    ShadowRoot: typeof ShadowRoot;\n    // \n    $wujie: { [key: string]: any };\n  }\n  interface HTMLHeadElement {\n    _cacheListeners: Map<string, EventListenerOrEventListenerObject[]>;\n  }\n  interface HTMLBodyElement {\n    _cacheListeners: Map<string, EventListenerOrEventListenerObject[]>;\n  }\n}\n\n/**\n * windowiframe\n */\nfunction patchIframeEvents(iframeWindow: Window) {\n  iframeWindow.addEventListener = function addEventListener<K extends keyof WindowEventMap>(\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"windowAddEventListenerHook\", iframeWindow, type, listener, options);\n\n    if (appWindowAddEventListenerEvents.includes(type)) {\n      return rawAddEventListener.call(iframeWindow, type, listener, options);\n    }\n    // window.windowwindow\n    rawAddEventListener.call(window.__WUJIE_RAW_WINDOW__ || window, type, listener, options);\n  };\n\n  iframeWindow.removeEventListener = function removeEventListener<K extends keyof WindowEventMap>(\n    type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"windowRemoveEventListenerHook\", iframeWindow, type, listener, options);\n\n    if (appWindowAddEventListenerEvents.includes(type)) {\n      return rawRemoveEventListener.call(iframeWindow, type, listener, options);\n    }\n    rawRemoveEventListener.call(window.__WUJIE_RAW_WINDOW__ || window, type, listener, options);\n  };\n}\n\nfunction patchIframeVariable(iframeWindow: Window, appHostPath: string): void {\n  iframeWindow.__WUJIE_PUBLIC_PATH__ = appHostPath + \"/\";\n  iframeWindow.$wujie = iframeWindow.__WUJIE.provide;\n  iframeWindow.__WUJIE_RAW_WINDOW__ = iframeWindow;\n  iframeWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__ = iframeWindow.Document.prototype.querySelector;\n  iframeWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__ = iframeWindow.Document.prototype.querySelectorAll;\n}\n\n/**\n * iframehistorypushStatereplaceState\n * location\n * \n * @param iframeWindow\n * @param appHostPath  host path\n * @param mainHostPath  host path\n */\nfunction patchIframeHistory(iframeWindow: Window, appHostPath: string, mainHostPath: string): void {\n  const history = iframeWindow.history;\n  const rawHistoryPushState = history.pushState;\n  const rawHistoryReplaceState = history.replaceState;\n  history.pushState = function (data: any, title: string, url?: string): void {\n    const baseUrl =\n      mainHostPath + iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n    const mainUrl = getAbsolutePath(url?.replace(appHostPath, \"\"), baseUrl);\n    const ignoreFlag = url === undefined;\n\n    rawHistoryPushState.call(history, data, title, ignoreFlag ? undefined : mainUrl);\n    if (ignoreFlag) return;\n    updateBase(iframeWindow, appHostPath, mainHostPath);\n    syncUrlToWindow(iframeWindow);\n  };\n  history.replaceState = function (data: any, title: string, url?: string): void {\n    const baseUrl =\n      mainHostPath + iframeWindow.location.pathname + iframeWindow.location.search + iframeWindow.location.hash;\n    const mainUrl = getAbsolutePath(url?.replace(appHostPath, \"\"), baseUrl);\n    const ignoreFlag = url === undefined;\n\n    rawHistoryReplaceState.call(history, data, title, ignoreFlag ? undefined : mainUrl);\n    if (ignoreFlag) return;\n    updateBase(iframeWindow, appHostPath, mainHostPath);\n    syncUrlToWindow(iframeWindow);\n  };\n}\n\n/**\n * iframebase\n * @param iframeWindow\n * @param url\n * @param appHostPath\n * @param mainHostPath\n */\nfunction updateBase(iframeWindow: Window, appHostPath: string, mainHostPath: string) {\n  const baseUrl = new URL(iframeWindow.location.href?.replace(mainHostPath, \"\"), appHostPath);\n  const baseElement = rawDocumentQuerySelector.call(iframeWindow.document, \"base\");\n  if (baseElement) baseElement.setAttribute(\"href\", appHostPath + baseUrl.pathname);\n}\n\n/**\n * patch iframe window effect\n * @param iframeWindow\n */\n// TODO \nfunction patchWindowEffect(iframeWindow: Window): void {\n  // \n  function processWindowProperty(key: string): boolean {\n    const value = iframeWindow[key];\n    try {\n      if (typeof value === \"function\" && !isConstructable(value)) {\n        iframeWindow[key] = window[key].bind(window);\n      } else {\n        iframeWindow[key] = window[key];\n      }\n      return true;\n    } catch (e) {\n      warn(e.message);\n      return false;\n    }\n  }\n  Object.getOwnPropertyNames(iframeWindow).forEach((key) => {\n    // \n    if (key === \"getSelection\") {\n      Object.defineProperty(iframeWindow, key, {\n        get: () => iframeWindow.document[key],\n      });\n      return;\n    }\n    // \n    if (windowProxyProperties.includes(key)) {\n      processWindowProperty(key);\n      return;\n    }\n    // \n    windowRegWhiteList.some((reg) => {\n      if (reg.test(key) && key in iframeWindow.parent) {\n        return processWindowProperty(key);\n      }\n      return false;\n    });\n  });\n  // onEvent set\n  const windowOnEvents = Object.getOwnPropertyNames(window)\n    .filter((p) => /^on/.test(p))\n    .filter((e) => !appWindowOnEvent.includes(e));\n\n  // window\n  windowOnEvents.forEach((e) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow, e) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow, e, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => window[e],\n        set:\n          descriptor.writable || descriptor.set\n            ? (handler) => {\n                window[e] = typeof handler === \"function\" ? handler.bind(iframeWindow) : handler;\n              }\n            : undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // \n  execHooks(iframeWindow.__WUJIE.plugins, \"windowPropertyOverride\", iframeWindow);\n}\n\n/**\n * \n */\nfunction recordEventListeners(iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  iframeWindow.EventTarget.prototype.addEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    // \n    const elementListenerList = sandbox.elementEventCacheMap.get(this);\n    if (elementListenerList) {\n      if (!elementListenerList.find((listener) => listener.handler === handler)) {\n        elementListenerList.push({ type, handler, options });\n      }\n    } else sandbox.elementEventCacheMap.set(this, [{ type, handler, options }]);\n    return rawAddEventListener.call(this, type, handler, options);\n  };\n\n  iframeWindow.EventTarget.prototype.removeEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | EventListenerOptions\n  ): void {\n    // \n    const elementListenerList = sandbox.elementEventCacheMap.get(this);\n    if (elementListenerList) {\n      const index = elementListenerList?.findIndex((ele) => ele.handler === handler);\n      elementListenerList.splice(index, 1);\n    }\n    if (!elementListenerList?.length) {\n      sandbox.elementEventCacheMap.delete(this);\n    }\n    return rawRemoveEventListener.call(this, type, handler, options);\n  };\n}\n\n/**\n * \n */\nexport function recoverEventListeners(rootElement: Element, iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  const elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n  const ElementIterator = document.createTreeWalker(rootElement);\n  let nextElement = ElementIterator.currentNode;\n  while (nextElement) {\n    const elementListenerList = sandbox.elementEventCacheMap.get(nextElement);\n    if (elementListenerList?.length) {\n      elementEventCacheMap.set(nextElement, elementListenerList);\n      elementListenerList.forEach((listener) => {\n        nextElement.addEventListener(listener.type, listener.handler, listener.options);\n      });\n    }\n    nextElement = ElementIterator.nextNode() as HTMLElement;\n  }\n  sandbox.elementEventCacheMap = elementEventCacheMap;\n}\n\n/**\n * \n */\nexport function recoverDocumentListeners(oldRootElement: Element, newRootElement: Element, iframeWindow: Window) {\n  const sandbox = iframeWindow.__WUJIE;\n  const elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n  const elementListenerList = sandbox.elementEventCacheMap.get(oldRootElement);\n  if (elementListenerList?.length) {\n    elementEventCacheMap.set(newRootElement, elementListenerList);\n    elementListenerList.forEach((listener) => {\n      newRootElement.addEventListener(listener.type, listener.handler, listener.options);\n    });\n  }\n  sandbox.elementEventCacheMap = elementEventCacheMap;\n}\n\n/**\n * vuee.timeStamp < attachedTimestamp \n */\nexport function patchEventTimeStamp(targetWindow: Window, iframeWindow: Window) {\n  Object.defineProperty(targetWindow.Event.prototype, \"timeStamp\", {\n    get: () => {\n      return iframeWindow.document.createEvent(\"Event\").timeStamp;\n    },\n  });\n}\n\n/**\n * patch document effect\n * @param iframeWindow\n */\n// TODO \nfunction patchDocumentEffect(iframeWindow: Window): void {\n  const sandbox = iframeWindow.__WUJIE;\n\n  /**\n   *  addEventListenerremoveEventListener\n   *  handler thishandler.bind(document)\n   * removeEventListenerhandler => handler.bind(document)\n   * callback = handler.bind(document) removeEventListener\n   */\n  const handlerCallbackMap: WeakMap<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject> =\n    new WeakMap();\n  const handlerTypeMap: WeakMap<EventListenerOrEventListenerObject, Array<string>> = new WeakMap();\n  iframeWindow.Document.prototype.addEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    let callback = handlerCallbackMap.get(handler);\n    const typeList = handlerTypeMap.get(handler);\n    //  handlerCallbackMap\n    if (!callback) {\n      callback = typeof handler === \"function\" ? handler.bind(this) : handler;\n      handlerCallbackMap.set(handler, callback);\n    }\n    //  handlerTypeMap\n    if (typeList) {\n      if (!typeList.includes(type)) typeList.push(type);\n    } else {\n      handlerTypeMap.set(handler, [type]);\n    }\n\n    // \n    execHooks(iframeWindow.__WUJIE.plugins, \"documentAddEventListenerHook\", iframeWindow, type, callback, options);\n    if (appDocumentAddEventListenerEvents.includes(type)) {\n      return rawAddEventListener.call(this, type, callback, options);\n    }\n    // document.firstElementChild\n    if (sandbox.degrade) return sandbox.document.firstElementChild.addEventListener(type, callback, options);\n    if (mainDocumentAddEventListenerEvents.includes(type))\n      return window.document.addEventListener(type, callback, options);\n    if (mainAndAppAddEventListenerEvents.includes(type)) {\n      window.document.addEventListener(type, callback, options);\n      sandbox.shadowRoot.addEventListener(type, callback, options);\n      return;\n    }\n    sandbox.shadowRoot.addEventListener(type, callback, options);\n  };\n  iframeWindow.Document.prototype.removeEventListener = function (\n    type: string,\n    handler: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const callback: EventListenerOrEventListenerObject = handlerCallbackMap.get(handler);\n    const typeList = handlerTypeMap.get(handler);\n    if (callback) {\n      if (typeList?.includes(type)) {\n        typeList.splice(typeList.indexOf(type), 1);\n        if (!typeList.length) {\n          handlerCallbackMap.delete(handler);\n          handlerTypeMap.delete(handler);\n        }\n      }\n\n      // \n      execHooks(iframeWindow.__WUJIE.plugins, \"documentRemoveEventListenerHook\", iframeWindow, type, callback, options);\n      if (appDocumentAddEventListenerEvents.includes(type)) {\n        return rawRemoveEventListener.call(this, type, callback, options);\n      }\n      if (sandbox.degrade) return sandbox.document.firstElementChild.removeEventListener(type, callback, options);\n      if (mainDocumentAddEventListenerEvents.includes(type)) {\n        return window.document.removeEventListener(type, callback, options);\n      }\n      if (mainAndAppAddEventListenerEvents.includes(type)) {\n        window.document.removeEventListener(type, callback, options);\n        sandbox.shadowRoot.removeEventListener(type, callback, options);\n        return;\n      }\n      sandbox.shadowRoot.removeEventListener(type, callback, options);\n    }\n  };\n  // onEvent\n  const elementOnEvents = Object.keys(iframeWindow.HTMLElement.prototype).filter((ele) => /^on/.test(ele));\n  const documentOnEvent = Object.keys(iframeWindow.Document.prototype)\n    .filter((ele) => /^on/.test(ele))\n    .filter((ele) => !appDocumentOnEvents.includes(ele));\n  elementOnEvents\n    .filter((e) => documentOnEvent.includes(e))\n    .forEach((e) => {\n      const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, e) || {\n        enumerable: true,\n        writable: true,\n      };\n      try {\n        Object.defineProperty(iframeWindow.Document.prototype, e, {\n          enumerable: descriptor.enumerable,\n          configurable: true,\n          get: () => (sandbox.degrade ? sandbox.document : sandbox.shadowRoot).firstElementChild[e],\n          set:\n            descriptor.writable || descriptor.set\n              ? (handler) => {\n                  const val = typeof handler === \"function\" ? handler.bind(iframeWindow.document) : handler;\n                  sandbox.degrade\n                    ? (sandbox.document.firstElementChild[e] = val)\n                    : (sandbox.shadowRoot.firstElementChild[e] = val);\n                }\n              : undefined,\n        });\n      } catch (e) {\n        warn(e.message);\n      }\n    });\n  // get\n  const {\n    ownerProperties,\n    modifyProperties,\n    shadowProperties,\n    shadowMethods,\n    documentProperties,\n    documentMethods,\n    documentEvents,\n  } = documentProxyProperties;\n  modifyProperties.concat(shadowProperties, shadowMethods, documentProperties, documentMethods).forEach((propKey) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, propKey) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow.Document.prototype, propKey, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => sandbox.proxyDocument[propKey],\n        set: undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // document\n  // TODO \n  documentEvents.forEach((propKey) => {\n    const descriptor = Object.getOwnPropertyDescriptor(iframeWindow.Document.prototype, propKey) || {\n      enumerable: true,\n      writable: true,\n    };\n    try {\n      Object.defineProperty(iframeWindow.Document.prototype, propKey, {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: () => (sandbox.degrade ? sandbox : window).document[propKey],\n        set:\n          descriptor.writable || descriptor.set\n            ? (handler) => {\n                (sandbox.degrade ? sandbox : window).document[propKey] =\n                  typeof handler === \"function\" ? handler.bind(iframeWindow.document) : handler;\n              }\n            : undefined,\n      });\n    } catch (e) {\n      warn(e.message);\n    }\n  });\n  // process owner property\n  ownerProperties.forEach((propKey) => {\n    Object.defineProperty(iframeWindow.document, propKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => sandbox.proxyDocument[propKey],\n      set: undefined,\n    });\n  });\n  // \n  execHooks(iframeWindow.__WUJIE.plugins, \"documentPropertyOverride\", iframeWindow);\n}\n\n/**\n * patch Node effect\n * 1 getRootNode\n * 2 appendChildinsertBefore svg createElement  patch  patch\n * @param iframeWindow\n */\nfunction patchNodeEffect(iframeWindow: Window): void {\n  const rawGetRootNode = iframeWindow.Node.prototype.getRootNode;\n  const rawAppendChild = iframeWindow.Node.prototype.appendChild;\n  const RawInsertRule = iframeWindow.Node.prototype.insertBefore;\n  iframeWindow.Node.prototype.getRootNode = function (options?: GetRootNodeOptions): Node {\n    const rootNode = rawGetRootNode.call(this, options);\n    if (rootNode === iframeWindow.__WUJIE.shadowRoot) return iframeWindow.document;\n    else return rootNode;\n  };\n  iframeWindow.Node.prototype.appendChild = function <T extends Node>(node: T): T {\n    const res = rawAppendChild.call(this, node);\n    patchElementEffect(node, iframeWindow);\n    return res;\n  };\n  iframeWindow.Node.prototype.insertBefore = function <T extends Node>(node: T, child: Node | null): T {\n    const res = RawInsertRule.call(this, node, child);\n    patchElementEffect(node, iframeWindow);\n    return res;\n  };\n}\n\n/**\n * \n * @param iframeWindow\n */\nfunction patchRelativeUrlEffect(iframeWindow: Window): void {\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLImageElement, \"src\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLAnchorElement, \"href\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLSourceElement, \"src\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLLinkElement, \"href\");\n  fixElementCtrSrcOrHref(iframeWindow, iframeWindow.HTMLScriptElement, \"src\");\n}\n\n/**\n * base\n */\nexport function initBase(iframeWindow: Window, url: string): void {\n  const iframeDocument = iframeWindow.document;\n  const baseElement = iframeDocument.createElement(\"base\");\n  const iframeUrlElement = anchorElementGenerator(iframeWindow.location.href);\n  const appUrlElement = anchorElementGenerator(url);\n  baseElement.setAttribute(\"href\", appUrlElement.protocol + \"//\" + appUrlElement.host + iframeUrlElement.pathname);\n  iframeDocument.head.appendChild(baseElement);\n}\n\n/**\n * iframedom\n * @param iframeWindow\n */\nfunction initIframeDom(iframeWindow: Window): void {\n  const iframeDocument = iframeWindow.document;\n  clearChild(iframeDocument);\n  const html = iframeDocument.createElement(\"html\");\n  html.innerHTML = \"<head></head><body></body>\";\n  iframeDocument.appendChild(html);\n\n  initBase(iframeWindow, iframeWindow.__WUJIE.url);\n  patchWindowEffect(iframeWindow);\n  patchDocumentEffect(iframeWindow);\n  patchNodeEffect(iframeWindow);\n  patchRelativeUrlEffect(iframeWindow);\n}\n\n/**\n * js\n */\n// TODO \nfunction stopIframeLoading(iframeWindow: Window, url: string) {\n  iframeWindow.__WUJIE.iframeReady = new Promise<void>((resolve) => {\n    function loop() {\n      setTimeout(() => {\n        // location ready\n        if (iframeWindow.location.href === \"about:blank\") {\n          loop();\n        } else {\n          iframeWindow.stop();\n          initIframeDom(iframeWindow);\n          /**\n           * url\n           */\n          if (!isMatchSyncQueryById(iframeWindow.__WUJIE.id)) {\n            iframeWindow.history.replaceState(null, \"\", url);\n          }\n          resolve();\n        }\n      }, 0);\n    }\n    loop();\n  });\n}\n\nexport function patchElementEffect(\n  element: (HTMLElement | Node | ShadowRoot) & { _hasPatch?: boolean },\n  iframeWindow: Window\n): void {\n  const proxyLocation = iframeWindow.__WUJIE.proxyLocation as Location;\n  if (element._hasPatch) return;\n  Object.defineProperties(element, {\n    baseURI: {\n      configurable: true,\n      get: () => proxyLocation.protocol + \"//\" + proxyLocation.host + proxyLocation.pathname,\n      set: undefined,\n    },\n    ownerDocument: {\n      configurable: true,\n      get: () => iframeWindow.document,\n    },\n    _hasPatch: { get: () => true },\n  });\n}\n\n/**\n * \n * @param iframeWindow\n */\nexport function syncIframeUrlToWindow(iframeWindow: Window): void {\n  iframeWindow.addEventListener(\"hashchange\", () => syncUrlToWindow(iframeWindow));\n  iframeWindow.addEventListener(\"popstate\", () => {\n    syncUrlToWindow(iframeWindow);\n  });\n}\n\n/**\n * iframe\n * @param scriptResult script\n * @param iframeWindow\n */\nexport function insertScriptToIframe(scriptResult: ScriptObject | ScriptObjectLoader, iframeWindow: Window) {\n  const { src, module, content, crossorigin, crossoriginType, async, callback, onload } =\n    scriptResult as ScriptObjectLoader;\n  const scriptElement = iframeWindow.document.createElement(\"script\");\n  const nextScriptElement = iframeWindow.document.createElement(\"script\");\n  const { replace, plugins, proxyLocation } = iframeWindow.__WUJIE;\n  const jsLoader = getJsLoader({ plugins, replace });\n  let code = jsLoader(content, src, getCurUrl(proxyLocation));\n\n  // \n  if (content) {\n    // patch location\n    if (!iframeWindow.__WUJIE.degrade && !module) {\n      code = `(function(window, self, global, location) {\n      ${code}\n}).bind(window.__WUJIE.proxy)(\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxy,\n  window.__WUJIE.proxyLocation,\n);`;\n    }\n    //  webpack publicPath  auto \n    Object.defineProperty(scriptElement, \"src\", { get: () => src || \"\" });\n    // \n  } else {\n    // onload\n    onload && (scriptElement.onload = onload as (this: GlobalEventHandlers, ev: Event) => any);\n    src && scriptElement.setAttribute(\"src\", src);\n    crossorigin && scriptElement.setAttribute(\"crossorigin\", crossoriginType);\n  }\n  module && scriptElement.setAttribute(\"type\", \"module\");\n  scriptElement.textContent = code || \"\";\n  nextScriptElement.textContent =\n    \"if(window.__WUJIE.execQueue && window.__WUJIE.execQueue.length){ window.__WUJIE.execQueue.shift()()}\";\n\n  const container = rawDocumentQuerySelector.call(iframeWindow.document, \"head\");\n\n  if (/^<!DOCTYPE html/i.test(code)) {\n    error(WUJIE_TIPS_SCRIPT_ERROR_REQUESTED, scriptResult);\n    return !async && container.appendChild(nextScriptElement);\n  }\n  container.appendChild(scriptElement);\n\n  // onload\n  content && onload?.();\n  // \n  callback?.(iframeWindow);\n\n  // asyncnext\n  !async && container.appendChild(nextScriptElement);\n}\n\n/**\n * iframe\n * @param src \n * @param shadowRoot\n */\nexport function renderIframeReplaceApp(src: string, element: HTMLElement): void {\n  const iframe = window.document.createElement(\"iframe\");\n  iframe.setAttribute(\"src\", src);\n  iframe.setAttribute(\"style\", \"height:100%;width:100%\");\n  renderElementToContainer(iframe, element);\n}\n\n/**\n * js\n * iframe\n * iframehtml\n */\nexport function iframeGenerator(\n  sandbox: WuJie,\n  attrs: { [key: string]: any },\n  mainHostPath: string,\n  appHostPath: string,\n  appRoutePath: string\n): HTMLIFrameElement {\n  const iframe = window.document.createElement(\"iframe\");\n  const url = mainHostPath + appRoutePath;\n  const attrsMerge = { src: mainHostPath, ...attrs, style: \"display: none\", name: sandbox.id, [WUJIE_DATA_FLAG]: \"\" };\n  Object.keys(attrsMerge).forEach((key) => iframe.setAttribute(key, attrsMerge[key]));\n  window.document.body.appendChild(iframe);\n  const iframeWindow = iframe.contentWindow;\n  iframeWindow.__WUJIE = sandbox;\n  patchIframeVariable(iframeWindow, appHostPath);\n  stopIframeLoading(iframeWindow, url);\n  patchIframeHistory(iframeWindow, appHostPath, mainHostPath);\n  patchIframeEvents(iframeWindow);\n  if (iframeWindow.__WUJIE.degrade) recordEventListeners(iframeWindow);\n  syncIframeUrlToWindow(iframeWindow);\n  return iframe;\n}\n","import { patchElementEffect, renderIframeReplaceApp } from \"./iframe\";\nimport { renderElementToContainer } from \"./shadow\";\nimport { pushUrlToWindow } from \"./sync\";\nimport { documentProxyProperties, rawDocumentQuerySelector } from \"./common\";\nimport { WUJIE_TIPS_RELOAD_DISABLED } from \"./constant\";\nimport {\n  getTargetValue,\n  anchorElementGenerator,\n  getDegradeIframe,\n  isCallable,\n  checkProxyFunction,\n  warn,\n} from \"./utils\";\n\n/**\n * location href set\n */\nfunction locationHrefSet(iframe: HTMLIFrameElement, value: string, appHostPath: string): boolean {\n  const { shadowRoot, id, degrade, document } = iframe.contentWindow.__WUJIE;\n  let url = value;\n  if (!/^http/.test(url)) {\n    let hrefElement = anchorElementGenerator(url);\n    url = appHostPath + hrefElement.pathname + hrefElement.search + hrefElement.hash;\n    hrefElement = null;\n  }\n  iframe.contentWindow.__WUJIE.hrefFlag = true;\n  if (degrade) {\n    const iframeBody = rawDocumentQuerySelector.call(iframe.contentDocument, \"body\");\n    renderElementToContainer(document.firstElementChild, iframeBody);\n    renderIframeReplaceApp(window.decodeURIComponent(url), getDegradeIframe(id).parentElement);\n  } else renderIframeReplaceApp(url, shadowRoot.host.parentElement);\n  pushUrlToWindow(id, url);\n  return true;\n}\n\n/**\n * windowdocumentlocation\n */\nexport function proxyGenerator(\n  iframe: HTMLIFrameElement,\n  urlElement: HTMLAnchorElement,\n  mainHostPath: string,\n  appHostPath: string\n): {\n  proxyWindow: Window;\n  proxyDocument: Object;\n  proxyLocation: Object;\n} {\n  const proxyWindow = new Proxy(iframe.contentWindow, {\n    get: (target: Window, p: PropertyKey): any => {\n      // location\n      if (p === \"location\") {\n        return target.__WUJIE.proxyLocation;\n      }\n      // \n      if (p === \"self\" || p === \"window\") {\n        return target.__WUJIE.proxy;\n      }\n      // this\n      if (p === \"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\" || p === \"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__\") {\n        return target[p];\n      }\n      // this\n      return getTargetValue(target, p);\n    },\n\n    set: (target: Window, p: PropertyKey, value: any) => {\n      checkProxyFunction(value);\n      target[p] = value;\n      return true;\n    },\n\n    has: (target: Window, p: PropertyKey) => p in target,\n  });\n\n  // proxy document\n  const proxyDocument = new Proxy(\n    {},\n    {\n      get: function (_fakeDocument, propKey) {\n        const document = window.document;\n        const shadowRoot = iframe.contentWindow.__WUJIE.shadowRoot;\n        // need fix\n        if (propKey === \"createElement\" || propKey === \"createTextNode\") {\n          return new Proxy(document[propKey], {\n            apply(createElement, _ctx, args) {\n              const element = createElement.apply(iframe.contentDocument, args);\n              patchElementEffect(element, iframe.contentWindow);\n              return element;\n            },\n          });\n        }\n        if (propKey === \"documentURI\" || propKey === \"URL\") {\n          return (iframe.contentWindow.__WUJIE.proxyLocation as Location).href;\n        }\n\n        // from shadowRoot\n        if (\n          propKey === \"getElementsByTagName\" ||\n          propKey === \"getElementsByClassName\" ||\n          propKey === \"getElementsByName\"\n        ) {\n          return new Proxy(shadowRoot.querySelectorAll, {\n            apply(querySelectorAll, _ctx, args) {\n              let arg = args[0];\n              if (propKey === \"getElementsByTagName\" && arg === \"script\") {\n                return iframe.contentDocument.scripts;\n              }\n              if (propKey === \"getElementsByClassName\") arg = \".\" + arg;\n              if (propKey === \"getElementsByName\") arg = `[name=\"${arg}\"]`;\n              return querySelectorAll.call(shadowRoot, arg);\n            },\n          });\n        }\n        if (propKey === \"getElementById\") {\n          return new Proxy(shadowRoot.querySelector, {\n            apply(querySelector, _ctx, args) {\n              return querySelector.call(shadowRoot, `[id=\"${args[0]}\"]`);\n            },\n          });\n        }\n        if (propKey === \"querySelector\" || propKey === \"querySelectorAll\") {\n          return shadowRoot[propKey].bind(shadowRoot);\n        }\n        if (propKey === \"documentElement\" || propKey === \"scrollingElement\") return shadowRoot.firstElementChild;\n        if (propKey === \"forms\") return shadowRoot.querySelectorAll(\"form\");\n        if (propKey === \"images\") return shadowRoot.querySelectorAll(\"img\");\n        if (propKey === \"links\") return shadowRoot.querySelectorAll(\"a\");\n        const { ownerProperties, shadowProperties, shadowMethods, documentProperties, documentMethods } =\n          documentProxyProperties;\n        if (ownerProperties.concat(shadowProperties).includes(propKey.toString())) {\n          if (propKey === \"activeElement\" && shadowRoot.activeElement === null) return shadowRoot.body;\n          return shadowRoot[propKey];\n        }\n        if (shadowMethods.includes(propKey.toString())) {\n          return getTargetValue(shadowRoot, propKey) ?? getTargetValue(document, propKey);\n        }\n        // from window.document\n        if (documentProperties.includes(propKey.toString())) {\n          return document[propKey];\n        }\n        if (documentMethods.includes(propKey.toString())) {\n          return getTargetValue(document, propKey);\n        }\n      },\n    }\n  );\n\n  // proxy location\n  const proxyLocation = new Proxy(\n    {},\n    {\n      get: function (_fakeLocation, propKey) {\n        const location = iframe.contentWindow.location;\n        if (\n          propKey === \"host\" ||\n          propKey === \"hostname\" ||\n          propKey === \"protocol\" ||\n          propKey === \"port\" ||\n          propKey === \"origin\"\n        ) {\n          return urlElement[propKey];\n        }\n        if (propKey === \"href\") {\n          return location[propKey].replace(mainHostPath, appHostPath);\n        }\n        if (propKey === \"reload\") {\n          warn(WUJIE_TIPS_RELOAD_DISABLED);\n          return () => null;\n        }\n        if (propKey === \"replace\") {\n          return new Proxy(location[propKey], {\n            apply(replace, _ctx, args) {\n              return replace.call(location, args[0]?.replace(appHostPath, mainHostPath));\n            },\n          });\n        }\n        return getTargetValue(location, propKey);\n      },\n      set: function (_fakeLocation, propKey, value) {\n        // iframe\n        if (propKey === \"href\") {\n          return locationHrefSet(iframe, value, appHostPath);\n        }\n        iframe.contentWindow.location[propKey] = value;\n        return true;\n      },\n      ownKeys: function () {\n        return Object.keys(iframe.contentWindow.location).filter((key) => key !== \"reload\");\n      },\n      getOwnPropertyDescriptor: function (_target, key) {\n        return { enumerable: true, configurable: true, value: this[key] };\n      },\n    }\n  );\n  return { proxyWindow, proxyDocument, proxyLocation };\n}\n\n/**\n * documentlocation\n */\nexport function localGenerator(\n  iframe: HTMLIFrameElement,\n  urlElement: HTMLAnchorElement,\n  mainHostPath: string,\n  appHostPath: string\n): {\n  proxyDocument: Object;\n  proxyLocation: Object;\n} {\n  //  document\n  const proxyDocument = {};\n  const sandbox = iframe.contentWindow.__WUJIE;\n  // \n  Object.defineProperties(proxyDocument, {\n    createElement: {\n      get: () => {\n        return function (...args) {\n          const element = window.document.createElement.apply(iframe.contentDocument, args);\n          patchElementEffect(element, iframe.contentWindow);\n          return element;\n        };\n      },\n    },\n    createTextNode: {\n      get: () => {\n        return function (...args) {\n          const element = window.document.createTextNode.apply(iframe.contentDocument, args);\n          patchElementEffect(element, iframe.contentWindow);\n          return element;\n        };\n      },\n    },\n    documentURI: {\n      get: () => (sandbox.proxyLocation as Location).href,\n    },\n    URL: {\n      get: () => (sandbox.proxyLocation as Location).href,\n    },\n    getElementsByTagName: {\n      get() {\n        return function (...args) {\n          const tagName = args[0];\n          if (tagName === \"script\") {\n            return iframe.contentDocument.scripts as any;\n          }\n          return sandbox.document.getElementsByTagName(tagName) as any;\n        };\n      },\n    },\n  });\n  // \n  const {\n    modifyLocalProperties,\n    modifyProperties,\n    ownerProperties,\n    shadowProperties,\n    shadowMethods,\n    documentProperties,\n    documentMethods,\n  } = documentProxyProperties;\n  modifyProperties\n    .filter((key) => !modifyLocalProperties.includes(key))\n    .concat(ownerProperties, shadowProperties, shadowMethods, documentProperties, documentMethods)\n    .forEach((key) => {\n      Object.defineProperty(proxyDocument, key, {\n        get: () =>\n          isCallable(sandbox.document[key]) ? sandbox.document[key].bind(sandbox.document) : sandbox.document[key],\n      });\n    });\n\n  //  location\n  const proxyLocation = {};\n  const location = iframe.contentWindow.location;\n  const locationKeys = Object.keys(location);\n  const constantKey = [\"host\", \"hostname\", \"port\", \"protocol\", \"port\"];\n  constantKey.forEach((key) => {\n    proxyLocation[key] = urlElement[key];\n  });\n  Object.defineProperties(proxyLocation, {\n    href: {\n      get: () => location.href.replace(mainHostPath, appHostPath),\n      set: (value) => {\n        locationHrefSet(iframe, value, appHostPath);\n      },\n    },\n    reload: {\n      get() {\n        warn(WUJIE_TIPS_RELOAD_DISABLED);\n        return () => null;\n      },\n    },\n  });\n  locationKeys\n    .filter((key) => !constantKey.concat([\"href\", \"reload\"]).includes(key))\n    .forEach((key) => {\n      Object.defineProperty(proxyLocation, key, {\n        get: () => (isCallable(location[key]) ? location[key].bind(location) : location[key]),\n      });\n    });\n  return { proxyDocument, proxyLocation };\n}\n","import { warn, error } from \"./utils\";\nimport { WUJIE_ALL_EVENT, WUJIE_TIPS_NO_SUBJECT } from \"./constant\";\n\nexport type EventObj = { [event: string]: Array<Function> };\n\n// map\nexport const appEventObjMap = window.__POWERED_BY_WUJIE__\n  ? window.__WUJIE.inject.appEventObjMap\n  : new Map<String, EventObj>();\n\n// eventBus \nexport class EventBus {\n  private id: string;\n  private eventObj: EventObj;\n\n  constructor(id: string) {\n    this.id = id;\n    this.$clear();\n    if (!appEventObjMap.get(this.id)) {\n      appEventObjMap.set(this.id, {});\n    }\n    this.eventObj = appEventObjMap.get(this.id);\n  }\n\n  // \n  public $on(event: string, fn: Function): EventBus {\n    const cbs = this.eventObj[event];\n    if (!cbs) {\n      this.eventObj[event] = [fn];\n      return this;\n    }\n    if (!cbs.includes(fn)) cbs.push(fn);\n    return this;\n  }\n\n  /** $emit$emit */\n  public $onAll(fn: (event: string, ...args: Array<any>) => any): EventBus {\n    return this.$on(WUJIE_ALL_EVENT, fn);\n  }\n\n  // \n  public $once(event: string, fn: Function): void {\n    const on = function (...args: Array<any>) {\n      this.$off(event, on);\n      fn(...args);\n    }.bind(this);\n    this.$on(event, on);\n  }\n\n  // \n  public $off(event: string, fn: Function): EventBus {\n    const cbs = this.eventObj[event];\n    if (!event || !cbs || !cbs.length) {\n      warn(`${event} ${WUJIE_TIPS_NO_SUBJECT}`);\n      return this;\n    }\n\n    let cb;\n    let i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn) {\n        cbs.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  }\n\n  // $onAll\n  public $offAll(fn: Function): EventBus {\n    return this.$off(WUJIE_ALL_EVENT, fn);\n  }\n\n  // \n  public $emit(event: string, ...args: Array<any>): EventBus {\n    let cbs = [];\n    let allCbs = [];\n\n    appEventObjMap.forEach((eventObj) => {\n      if (eventObj[event]) cbs = cbs.concat(eventObj[event]);\n      if (eventObj[WUJIE_ALL_EVENT]) allCbs = allCbs.concat(eventObj[WUJIE_ALL_EVENT]);\n    });\n\n    if (!event || (cbs.length === 0 && allCbs.length === 0)) {\n      warn(`${event} ${WUJIE_TIPS_NO_SUBJECT}`);\n    } else {\n      try {\n        for (let i = 0, l = cbs.length; i < l; i++) cbs[i](...args);\n        for (let i = 0, l = allCbs.length; i < l; i++) allCbs[i](event, ...args);\n      } catch (e) {\n        error(e);\n      }\n    }\n    return this;\n  }\n\n  // \n  public $clear(): EventBus {\n    const eventObj = appEventObjMap.get(this.id) ?? {};\n    const events = Object.keys(eventObj);\n    events.forEach((event) => delete eventObj[event]);\n    return this;\n  }\n}\n","import {\n  iframeGenerator,\n  recoverEventListeners,\n  recoverDocumentListeners,\n  insertScriptToIframe,\n  patchEventTimeStamp,\n} from \"./iframe\";\nimport { syncUrlToWindow, syncUrlToIframe, clearInactiveAppUrl } from \"./sync\";\nimport {\n  createWujieWebComponent,\n  clearChild,\n  getPatchStyleElements,\n  renderElementToContainer,\n  renderTemplateToShadowRoot,\n  createIframeContainer,\n  renderTemplateToIframe,\n  removeLoading,\n} from \"./shadow\";\nimport { proxyGenerator, localGenerator } from \"./proxy\";\nimport { ScriptResultList } from \"./entry\";\nimport { getPlugins, getPresetLoaders } from \"./plugin\";\nimport { removeEventListener } from \"./effect\";\nimport {\n  SandboxCache,\n  idToSandboxCacheMap,\n  addSandboxCacheWithWujie,\n  deleteWujieById,\n  rawElementAppendChild,\n  rawDocumentQuerySelector,\n} from \"./common\";\nimport { EventBus, appEventObjMap, EventObj } from \"./event\";\nimport { isFunction, wujieSupport, appRouteParse, requestIdleCallback, getAbsolutePath, eventTrigger } from \"./utils\";\nimport { WUJIE_DATA_ATTACH_CSS_FLAG } from \"./constant\";\nimport { plugin, ScriptObjectLoader, loadErrorHandler } from \"./index\";\n\nexport type lifecycle = (appWindow: Window) => any;\ntype lifecycles = {\n  beforeLoad: lifecycle;\n  beforeMount: lifecycle;\n  afterMount: lifecycle;\n  beforeUnmount: lifecycle;\n  afterUnmount: lifecycle;\n  activated: lifecycle;\n  deactivated: lifecycle;\n  loadError: loadErrorHandler;\n};\n/**\n *  Proxyiframe \n */\nexport default class Wujie {\n  public id: string;\n  /**  */\n  public url: string;\n  /**  */\n  public alive: boolean;\n  /** window */\n  public proxy: WindowProxy;\n  /** document */\n  public proxyDocument: Object;\n  /** location */\n  public proxyLocation: Object;\n  /**  */\n  public bus: EventBus;\n  /**  */\n  public el: HTMLElement;\n  /** js */\n  public iframe: HTMLIFrameElement;\n  /** css */\n  public shadowRoot: ShadowRoot;\n  /** template */\n  public template: string;\n  /**  */\n  public replace: (code: string) => string;\n  /** fetch */\n  public fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n  /**  */\n  public lifecycles: lifecycles;\n  /**  */\n  public plugins: Array<plugin>;\n  /** jsready */\n  public iframeReady: Promise<void>;\n  /**  */\n  public preload: Promise<void>;\n  /** js */\n  public execQueue: Array<Function>;\n  /**  */\n  public execFlag: boolean;\n  /** mount */\n  public mountFlag: boolean;\n  /**  */\n  public sync: boolean;\n  /**  */\n  public prefix: { [key: string]: string };\n  /**  */\n  public hrefFlag: boolean;\n  /** fiber */\n  public fiber: boolean;\n  /**  */\n  public degrade: boolean;\n  /** document */\n  public document: Document;\n  /** styleSheet */\n  public styleSheetElements: Array<HTMLLinkElement | HTMLStyleElement>;\n  /** head */\n  public head: HTMLHeadElement;\n  /** body */\n  public body: HTMLBodyElement;\n  /** dom */\n  public elementEventCacheMap: WeakMap<\n    Node,\n    Array<{ type: string; handler: EventListenerOrEventListenerObject; options: any }>\n  > = new WeakMap();\n\n  /** $wujie */\n  public provide: {\n    bus: EventBus;\n    shadowRoot?: ShadowRoot;\n    props?: { [key: string]: any };\n    location?: Object;\n  };\n\n  /**  */\n  public inject: {\n    idToSandboxMap: Map<String, SandboxCache>;\n    appEventObjMap: Map<String, EventObj>;\n    mainHostPath: string;\n  };\n\n  /** \n   * 1\n   * 2iframefetch\n   * 3shadow\n   * 4\n   */\n  public async active(options: {\n    url: string;\n    sync?: boolean;\n    prefix?: { [key: string]: string };\n    template?: string;\n    el?: string | HTMLElement;\n    props?: { [key: string]: any };\n    alive?: boolean;\n    fetch?: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n    replace?: (code: string) => string;\n  }): Promise<void> {\n    const { sync, url, el, template, props, alive, prefix, fetch, replace } = options;\n    this.url = url;\n    this.sync = sync;\n    this.alive = alive;\n    this.hrefFlag = false;\n    this.prefix = prefix ?? this.prefix;\n    this.replace = replace ?? this.replace;\n    this.provide.props = props ?? this.provide.props;\n    // wait iframe init\n    await this.iframeReady;\n\n    // fetch\n    // TODO fetch\n    const iframeWindow = this.iframe.contentWindow;\n    const iframeFetch = fetch\n      ? (input: RequestInfo, init?: RequestInit) =>\n          fetch(typeof input === \"string\" ? getAbsolutePath(input, (this.proxyLocation as Location).href) : input, init)\n      : this.fetch;\n    if (iframeFetch) {\n      iframeWindow.fetch = iframeFetch;\n      this.fetch = iframeFetch;\n    }\n\n    // \n    if (this.execFlag && this.alive) {\n      // \n      syncUrlToWindow(iframeWindow);\n    } else {\n      // urliframeurl\n      syncUrlToIframe(iframeWindow);\n      syncUrlToWindow(iframeWindow);\n    }\n\n    // inject template\n    this.template = template ?? this.template;\n\n    /*  */\n    if (this.degrade) {\n      const iframe = createIframeContainer(this.id);\n      const iframeBody = rawDocumentQuerySelector.call(iframeWindow.document, \"body\") as HTMLElement;\n      this.el = renderElementToContainer(iframe, el ?? iframeBody);\n      clearChild(iframe.contentDocument);\n      // jsiframedom\n      if (el) clearChild(iframeBody);\n      // vueevent.timeStamp\n      patchEventTimeStamp(iframe.contentWindow, iframeWindow);\n      // iframeunmount\n      iframe.contentWindow.onunload = () => {\n        this.unmount();\n      };\n      if (this.document) {\n        if (this.alive) {\n          iframe.contentDocument.appendChild(this.document.firstElementChild);\n          // \n          recoverEventListeners(iframe.contentDocument.firstElementChild, iframeWindow);\n        } else {\n          await renderTemplateToIframe(iframe.contentDocument, this.iframe.contentWindow, this.template);\n          // react16\n          recoverDocumentListeners(\n            this.document.firstElementChild,\n            iframe.contentDocument.firstElementChild,\n            iframeWindow\n          );\n        }\n      } else {\n        await renderTemplateToIframe(iframe.contentDocument, this.iframe.contentWindow, this.template);\n      }\n      this.document = iframe.contentDocument;\n      return;\n    }\n\n    if (this.shadowRoot) {\n      /*\n       document.addEventListener was transfer to shadowRoot.addEventListener\n       react 16 SyntheticEvent will remember document event for avoid repeat listen\n       shadowRoot have to dispatchEvent for react 16 so can't be destroyed\n       this may lead memory leak risk\n       */\n      this.el = renderElementToContainer(this.shadowRoot.host, el);\n      if (this.alive) return;\n    } else {\n      // iframeWeb Componentconnect\n      const iframeBody = rawDocumentQuerySelector.call(iframeWindow.document, \"body\") as HTMLElement;\n      this.el = renderElementToContainer(createWujieWebComponent(this.id), el ?? iframeBody);\n    }\n\n    await renderTemplateToShadowRoot(this.shadowRoot, iframeWindow, this.template);\n    this.patchCssRules();\n\n    // inject shadowRoot to app\n    this.provide.shadowRoot = this.shadowRoot;\n  }\n\n  /** \n   * 1js\n   * 2\n   */\n  public async start(getExternalScripts: () => ScriptResultList): Promise<void> {\n    this.execFlag = true;\n    // \n    const scriptResultList = await getExternalScripts();\n    // \n    if (!this.iframe) return;\n    const iframeWindow = this.iframe.contentWindow;\n    // \n    iframeWindow.__POWERED_BY_WUJIE__ = true;\n    // \n    const beforeScriptResultList: ScriptObjectLoader[] = getPresetLoaders(\"jsBeforeLoaders\", this.plugins);\n    // \n    const afterScriptResultList: ScriptObjectLoader[] = getPresetLoaders(\"jsAfterLoaders\", this.plugins);\n    // \n    const syncScriptResultList: ScriptResultList = [];\n    // async\n    const asyncScriptResultList: ScriptResultList = [];\n    // deferDOMContentLoaded\n    const deferScriptResultList: ScriptResultList = [];\n    scriptResultList.forEach((scriptResult) => {\n      if (scriptResult.defer) deferScriptResultList.push(scriptResult);\n      else if (scriptResult.async) asyncScriptResultList.push(scriptResult);\n      else syncScriptResultList.push(scriptResult);\n    });\n\n    // \n    beforeScriptResultList.forEach((beforeScriptResult) => {\n      this.execQueue.push(() =>\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe(beforeScriptResult, iframeWindow))\n          : insertScriptToIframe(beforeScriptResult, iframeWindow)\n      );\n    });\n\n    // \n    syncScriptResultList.concat(deferScriptResultList).forEach((scriptResult) => {\n      this.execQueue.push(() =>\n        scriptResult.contentPromise.then((content) =>\n          this.fiber\n            ? requestIdleCallback(() => insertScriptToIframe({ ...scriptResult, content }, iframeWindow))\n            : insertScriptToIframe({ ...scriptResult, content }, iframeWindow)\n        )\n      );\n    });\n\n    // \n    asyncScriptResultList.forEach((scriptResult) => {\n      scriptResult.contentPromise.then((content) => {\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe({ ...scriptResult, content }, iframeWindow))\n          : insertScriptToIframe({ ...scriptResult, content }, iframeWindow);\n      });\n    });\n\n    //mount\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(() => this.mount()) : () => this.mount());\n\n    // DOMContentLoaded \n    const domContentLoadedTrigger = () => {\n      eventTrigger(iframeWindow.document, \"DOMContentLoaded\");\n      eventTrigger(iframeWindow, \"DOMContentLoaded\");\n      this.execQueue.shift()?.();\n    };\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(domContentLoadedTrigger) : domContentLoadedTrigger);\n\n    // \n    afterScriptResultList.forEach((afterScriptResult) => {\n      this.execQueue.push(() =>\n        this.fiber\n          ? requestIdleCallback(() => insertScriptToIframe(afterScriptResult, iframeWindow))\n          : insertScriptToIframe(afterScriptResult, iframeWindow)\n      );\n    });\n\n    // loaded \n    const domLoadedTrigger = () => {\n      eventTrigger(iframeWindow.document, \"readystatechange\");\n      eventTrigger(iframeWindow, \"load\");\n      this.execQueue.shift()?.();\n    };\n    this.execQueue.push(this.fiber ? () => requestIdleCallback(domLoadedTrigger) : domLoadedTrigger);\n    // mountloading\n    if (this.alive || !isFunction(this.iframe.contentWindow.__WUJIE_UNMOUNT)) removeLoading(this.el);\n    this.execQueue.shift()();\n\n    // execQueuestart\n    return new Promise((resolve) => {\n      this.execQueue.push(() => {\n        resolve();\n        this.execQueue.shift()?.();\n      });\n    });\n  }\n\n  /**\n   * mount__WUJIE_MOUNTasync\n   * fibermountmount\n   * __WUJIE_MOUNTwindowmount\n   * window.__WUJIE.mount()\n   */\n  public mount(): void {\n    if (this.mountFlag) return;\n    if (isFunction(this.iframe.contentWindow.__WUJIE_MOUNT)) {\n      removeLoading(this.el);\n      this.lifecycles?.beforeMount?.(this.iframe.contentWindow);\n      this.iframe.contentWindow.__WUJIE_MOUNT();\n      this.lifecycles?.afterMount?.(this.iframe.contentWindow);\n      this.mountFlag = true;\n    }\n    if (this.alive) {\n      this.lifecycles?.activated?.(this.iframe.contentWindow);\n    }\n    this.execQueue.shift()?.();\n  }\n\n  /** proxyLocation.hrefshadow */\n  public unmount(): void {\n    // iframeclear\n    this.degrade ? setTimeout(() => clearInactiveAppUrl()) : clearInactiveAppUrl();\n    if (this.alive) {\n      this.lifecycles?.deactivated?.(this.iframe.contentWindow);\n    }\n    if (!this.mountFlag) return;\n    if (isFunction(this.iframe.contentWindow.__WUJIE_UNMOUNT) && !this.alive && !this.hrefFlag) {\n      this.lifecycles?.beforeUnmount?.(this.iframe.contentWindow);\n      this.iframe.contentWindow.__WUJIE_UNMOUNT();\n      this.lifecycles?.afterUnmount?.(this.iframe.contentWindow);\n      this.mountFlag = false;\n      this.bus.$clear();\n      if (!this.degrade) {\n        clearChild(this.shadowRoot);\n        // head body\n        removeEventListener(this.head);\n        removeEventListener(this.body);\n      }\n      clearChild(this.head);\n      clearChild(this.body);\n    }\n  }\n\n  /**  */\n  public destroy() {\n    this.bus.$clear();\n    this.shadowRoot = null;\n    this.proxy = null;\n    this.proxyDocument = null;\n    this.proxyLocation = null;\n    this.execQueue = null;\n    this.provide = null;\n    this.styleSheetElements = null;\n    this.bus = null;\n    this.replace = null;\n    this.fetch = null;\n    this.execFlag = null;\n    this.mountFlag = null;\n    this.hrefFlag = null;\n    this.document = null;\n    this.head = null;\n    this.body = null;\n    this.elementEventCacheMap = null;\n    this.lifecycles = null;\n    this.plugins = null;\n    this.provide = null;\n    this.inject = null;\n    this.execQueue = null;\n    this.prefix = null;\n    //  dom\n    if (this.el) {\n      clearChild(this.el);\n      this.el = null;\n    }\n    //  iframe \n    if (this.iframe) {\n      this.iframe.parentNode?.removeChild(this.iframe);\n    }\n    deleteWujieById(this.id);\n  }\n\n  /** mount */\n  public rebuildStyleSheets(): void {\n    if (this.styleSheetElements && this.styleSheetElements.length) {\n      this.styleSheetElements.forEach((styleSheetElement) => {\n        rawElementAppendChild.call(this.degrade ? this.document.head : this.shadowRoot.head, styleSheetElement);\n      });\n    }\n    this.patchCssRules();\n  }\n\n  /**\n   * \n   * 1:root:host\n   * 2@font-faceshadowRoot\n   */\n  public patchCssRules(): void {\n    if (this.degrade) return;\n    if (this.shadowRoot.host.hasAttribute(WUJIE_DATA_ATTACH_CSS_FLAG)) return;\n    const [hostStyleSheetElement, fontStyleSheetElement] = getPatchStyleElements(\n      Array.from(this.iframe.contentDocument.querySelectorAll(\"style\")).map(\n        (styleSheetElement) => styleSheetElement.sheet\n      )\n    );\n    if (hostStyleSheetElement) {\n      this.shadowRoot.head.appendChild(hostStyleSheetElement);\n      this.styleSheetElements.push(hostStyleSheetElement);\n    }\n    if (fontStyleSheetElement) {\n      this.shadowRoot.host.appendChild(fontStyleSheetElement);\n    }\n    (hostStyleSheetElement || fontStyleSheetElement) &&\n      this.shadowRoot.host.setAttribute(WUJIE_DATA_ATTACH_CSS_FLAG, \"\");\n  }\n\n  /**\n   * @param id id\n   * @param url urlprotocolhostpathqueryhash\n   */\n  constructor(options: {\n    name: string;\n    url: string;\n    attrs: { [key: string]: any };\n    fiber: boolean;\n    degrade;\n    plugins: Array<plugin>;\n    lifecycles: lifecycles;\n  }) {\n    // inject\n    if (window.__POWERED_BY_WUJIE__) this.inject = window.__WUJIE.inject;\n    else {\n      this.inject = {\n        idToSandboxMap: idToSandboxCacheMap,\n        appEventObjMap,\n        mainHostPath: window.location.protocol + \"//\" + window.location.host,\n      };\n    }\n    const { name, url, attrs, fiber, degrade, lifecycles, plugins } = options;\n    this.id = name;\n    this.fiber = fiber;\n    this.degrade = degrade || !wujieSupport;\n    this.bus = new EventBus(this.id);\n    this.url = url;\n    this.provide = { bus: this.bus };\n    this.styleSheetElements = [];\n    this.execQueue = [];\n    this.lifecycles = lifecycles;\n    this.plugins = getPlugins(plugins);\n\n    // \n    const { urlElement, appHostPath, appRoutePath } = appRouteParse(url);\n    const { mainHostPath } = this.inject;\n    // iframe\n    const iframe = iframeGenerator(this, attrs, mainHostPath, appHostPath, appRoutePath);\n    this.iframe = iframe;\n\n    if (this.degrade) {\n      const { proxyDocument, proxyLocation } = localGenerator(iframe, urlElement, mainHostPath, appHostPath);\n      this.proxyDocument = proxyDocument;\n      this.proxyLocation = proxyLocation;\n    } else {\n      const { proxyWindow, proxyDocument, proxyLocation } = proxyGenerator(\n        iframe,\n        urlElement,\n        mainHostPath,\n        appHostPath\n      );\n      this.proxy = proxyWindow;\n      this.proxyDocument = proxyDocument;\n      this.proxyLocation = proxyLocation;\n    }\n    this.provide.location = this.proxyLocation;\n\n    addSandboxCacheWithWujie(this.id, this);\n  }\n}\n","import importHTML, { processCssLoader } from \"./entry\";\nimport { StyleObject } from \"./template\";\nimport WuJie, { lifecycle } from \"./sandbox\";\nimport { defineWujieWebComponent, addLoading } from \"./shadow\";\nimport { processAppForHrefJump } from \"./sync\";\nimport { getPlugins } from \"./plugin\";\nimport { wujieSupport, mergeOptions, isFunction, requestIdleCallback, isMatchSyncQueryById, warn } from \"./utils\";\nimport { getWujieById, getOptionsById, addSandboxCacheWithOptions } from \"./common\";\nimport { EventBus } from \"./event\";\nimport { WUJIE_TIPS_STOP_APP, WUJIE_TIPS_NOT_SUPPORTED } from \"./constant\";\n\nexport const bus = new EventBus(Date.now().toString());\n\nexport interface ScriptObjectLoader {\n  /**  */\n  src?: string;\n  /** module */\n  module?: boolean;\n  /** async */\n  async?: boolean;\n  /** crossorigin */\n  crossorigin?: boolean;\n  /** crossorigin */\n  crossoriginType?: \"anonymous\" | \"use-credentials\" | \"\";\n  /** script */\n  content?: string;\n  /**  */\n  callback?: (appWindow: Window) => any;\n  /**  */\n  onload?: Function;\n}\nexport interface plugin {\n  /** htmlloader */\n  htmlLoader?: (code: string) => string;\n  /** js */\n  jsExcludes?: Array<string | RegExp>;\n  /** js */\n  jsIgnores?: Array<string | RegExp>;\n  /** jsloader */\n  jsBeforeLoaders?: Array<ScriptObjectLoader>;\n  /** jsloader */\n  jsLoader?: (code: string, url: string, base: string) => string;\n  /** jsloader */\n  jsAfterLoaders?: Array<ScriptObjectLoader>;\n  /** css */\n  cssExcludes?: Array<string | RegExp>;\n  /** css */\n  cssIgnores?: Array<string | RegExp>;\n  /** cssloader */\n  cssBeforeLoaders?: Array<StyleObject>;\n  /** cssloader */\n  cssLoader?: (code: string, url: string, base: string) => string;\n  /** cssloader */\n  cssAfterLoaders?: Array<StyleObject>;\n  /**  window addEventListener  */\n  windowAddEventListenerHook?: eventListenerHook;\n  /**  window removeEventListener  */\n  windowRemoveEventListenerHook?: eventListenerHook;\n  /**  document addEventListener  */\n  documentAddEventListenerHook?: eventListenerHook;\n  /**  document removeEventListener  */\n  documentRemoveEventListenerHook?: eventListenerHook;\n  /**  window  */\n  windowPropertyOverride?: (iframeWindow: Window) => void;\n  /**  document  */\n  documentPropertyOverride?: (iframeWindow: Window) => void;\n}\n\ntype eventListenerHook = (\n  iframeWindow: Window,\n  type: string,\n  handler: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n) => void;\n\nexport type loadErrorHandler = (url: string, e: Error) => any;\n\ntype baseOptions = {\n  /**  */\n  name: string;\n  /** url */\n  url: string;\n  /**  */\n  replace?: (code: string) => string;\n  /** fetch */\n  fetch?: (input: RequestInfo, init?: RequestInit) => Promise<Response>;\n  /**  */\n  props?: { [key: string]: any };\n  /** iframe */\n  attrs?: { [key: string]: any };\n  /** fiber */\n  fiber?: boolean;\n  /** state */\n  alive?: boolean;\n  /** iframe */\n  degrade?: boolean;\n  /**  */\n  plugins?: Array<plugin>;\n  /**  */\n  beforeLoad?: lifecycle;\n  beforeMount?: lifecycle;\n  afterMount?: lifecycle;\n  beforeUnmount?: lifecycle;\n  afterUnmount?: lifecycle;\n  activated?: lifecycle;\n  deactivated?: lifecycle;\n  loadError?: loadErrorHandler;\n};\n\nexport type preOptions = baseOptions & {\n  /**  */\n  exec?: boolean;\n};\n\nexport type startOptions = baseOptions & {\n  /**  */\n  el: HTMLElement | string;\n  /**\n   * \n   * falsehistory\n   * https://html.spec.whatwg.org/multipage/history.html#the-history-interface\n   */\n  sync?: boolean;\n  /**  */\n  prefix?: { [key: string]: string };\n  /** loading */\n  loading?: HTMLElement;\n};\n\ntype optionProperty = \"url\" | \"el\";\n\n/**\n *  preOptions  startOptions url  el \n */\nexport type cacheOptions = Omit<preOptions & startOptions, optionProperty> &\n  Partial<Pick<startOptions, optionProperty>>;\n\n/**\n * \n * wujie.__WUJIE true\n * window.__POWERED_BY_WUJIE__ false\n * iframeloading\n */\nif (window.__WUJIE && !window.__POWERED_BY_WUJIE__) {\n  warn(WUJIE_TIPS_STOP_APP);\n  throw new Error(WUJIE_TIPS_STOP_APP);\n}\n\n// \nprocessAppForHrefJump();\n\n// webComponent\ndefineWujieWebComponent();\n\n// \nif (!wujieSupport) warn(WUJIE_TIPS_NOT_SUPPORTED);\n\n/**\n * \n */\nexport function setupApp(options: cacheOptions): void {\n  if (options.name) addSandboxCacheWithOptions(options.name, options);\n}\n\n/**\n * app\n */\nexport async function startApp(startOptions: startOptions): Promise<Function | void> {\n  const sandbox = getWujieById(startOptions.name);\n  const cacheOptions = getOptionsById(startOptions.name);\n  // \n  const options = mergeOptions(startOptions, cacheOptions);\n  const {\n    name,\n    url,\n    replace,\n    fetch,\n    props,\n    attrs,\n    fiber,\n    alive,\n    degrade,\n    sync,\n    prefix,\n    el,\n    loading,\n    plugins,\n    lifecycles,\n  } = options;\n  // \n  if (sandbox) {\n    sandbox.plugins = getPlugins(plugins);\n    sandbox.lifecycles = lifecycles;\n    const iframeWindow = sandbox.iframe.contentWindow;\n    if (sandbox.preload) {\n      await Promise.resolve(sandbox.preload);\n    }\n    if (alive) {\n      // \n      await sandbox.active({ url, sync, prefix, el, props, alive, fetch, replace });\n      // \n      if (!sandbox.execFlag) {\n        sandbox.lifecycles?.beforeLoad?.(sandbox.iframe.contentWindow);\n        const { getExternalScripts } = await importHTML(url, {\n          fetch: fetch || window.fetch,\n          plugins: sandbox.plugins,\n          loadError: sandbox.lifecycles.loadError,\n          fiber,\n        });\n        await sandbox.start(getExternalScripts);\n      }\n      sandbox.lifecycles?.activated?.(sandbox.iframe.contentWindow);\n      return sandbox.destroy;\n    } else if (isFunction(iframeWindow.__WUJIE_MOUNT)) {\n      /**\n       * webcomponentdisconnectedCallbacksandbox.unmount\n       * webcomponentstartAppunmount\n       */\n      sandbox.unmount();\n      await sandbox.active({ url, sync, prefix, el, props, alive, fetch, replace });\n      // \n      sandbox.lifecycles?.beforeMount?.(sandbox.iframe.contentWindow);\n      iframeWindow.__WUJIE_MOUNT();\n      sandbox.lifecycles?.afterMount?.(sandbox.iframe.contentWindow);\n      sandbox.mountFlag = true;\n      sandbox.rebuildStyleSheets();\n      return sandbox.destroy;\n    } else {\n      // \n      sandbox.destroy();\n    }\n  }\n\n  // loading\n  addLoading(el, loading);\n  const newSandbox = new WuJie({ name, url, attrs, fiber, degrade, plugins, lifecycles });\n  newSandbox.lifecycles?.beforeLoad?.(newSandbox.iframe.contentWindow);\n  const { template, getExternalScripts, getExternalStyleSheets } = await importHTML(url, {\n    fetch: fetch || window.fetch,\n    plugins: newSandbox.plugins,\n    loadError: newSandbox.lifecycles.loadError,\n    fiber,\n  });\n\n  const processedHtml = await processCssLoader(newSandbox, template, getExternalStyleSheets);\n  await newSandbox.active({ url, sync, prefix, template: processedHtml, el, props, alive, fetch, replace });\n  await newSandbox.start(getExternalScripts);\n  return newSandbox.destroy;\n}\n\n/**\n * APP\n */\nexport function preloadApp(preOptions: preOptions): void {\n  requestIdleCallback((): void | Promise<void> => {\n    /**\n     * \n     * urlidurl\n     */\n    if (getWujieById(preOptions.name) || isMatchSyncQueryById(preOptions.name)) return;\n    const cacheOptions = getOptionsById(preOptions.name);\n    // \n    const options = mergeOptions({ ...preOptions }, cacheOptions);\n    const { name, url, props, alive, replace, fetch, exec, attrs, fiber, degrade, prefix, plugins, lifecycles } =\n      options;\n\n    const sandbox = new WuJie({ name, url, attrs, fiber, degrade, plugins, lifecycles });\n    if (sandbox.preload) return sandbox.preload;\n    const runPreload = async () => {\n      sandbox.lifecycles?.beforeLoad?.(sandbox.iframe.contentWindow);\n      const { template, getExternalScripts, getExternalStyleSheets } = await importHTML(url, {\n        fetch: fetch || window.fetch,\n        plugins: sandbox.plugins,\n        loadError: sandbox.lifecycles.loadError,\n        fiber,\n      });\n      const processedHtml = await processCssLoader(sandbox, template, getExternalStyleSheets);\n      await sandbox.active({ url, props, prefix, alive, template: processedHtml, fetch, replace });\n      if (exec) {\n        await sandbox.start(getExternalScripts);\n      }\n    };\n    sandbox.preload = runPreload();\n  });\n}\n\n/**\n * APP\n */\nexport function destroyApp(id: string): void {\n  const sandbox = getWujieById(id);\n  if (sandbox) {\n    sandbox.destroy();\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bus, preloadApp, startApp, destroyApp, setupApp } from \"wujie\";\n\nexport default class WujieReact extends React.PureComponent {\n  static propTypes = propTypes;\n  static bus = bus;\n  static setupApp = setupApp;\n  static preloadApp = preloadApp;\n  static destroyApp = destroyApp;\n\n  state = {\n    myRef: React.createRef(),\n  };\n\n  destroy = null;\n\n  startAppQueue = Promise.resolve();\n\n  startApp = async () => {\n    try {\n      const props = this.props;\n      const { current: el } = this.state.myRef;\n      this.destroy = await startApp({\n        ...props,\n        el,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  execStartApp = () => {\n    this.startAppQueue = this.startAppQueue.then(this.startApp);\n  };\n\n  render() {\n    this.execStartApp();\n\n    const { width, height } = this.props;\n    const { myRef: ref } = this.state;\n    return <div style={{ width, height }} ref={ref} />;\n  }\n}\n\nconst propTypes = {\n    height: PropTypes.string,\n    width: PropTypes.string,\n    name: PropTypes.string,\n    loading: PropTypes.element,\n    url: PropTypes.string,\n    alive: PropTypes.bool,\n    fetch: PropTypes.func,\n    props: PropTypes.object,\n    attrs: PropTypes.object,\n    replace: PropTypes.func,\n    sync: PropTypes.bool,\n    prefix: PropTypes.object,\n    fiber: PropTypes.bool,\n    degrade: PropTypes.bool,\n    plugins: PropTypes.array,\n    beforeLoad: PropTypes.func,\n    beforeMount: PropTypes.func,\n    afterMount: PropTypes.func,\n    beforeUnmount: PropTypes.func,\n    afterUnmount: PropTypes.func,\n    activated: PropTypes.func,\n    deactivated: PropTypes.func,\n    loadError: PropTypes.func,\n  }","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n"],"names":["Object","defineProperty","exports","value","obj","_default","require","__esModule","module","_interopRequireWildcard","_interopRequireDefault","_objectSpread2","React","_LeftOutlined","_AntdIcon","LeftOutlined","props","ref","createElement","default","icon","displayName","forwardRef","_RightOutlined","RightOutlined","keys","reduce","prev","key","startsWith","_classCallCheck2","_createClass2","_inherits2","_createSuper2","_","ErrorBoundary","_React$Component","_super","_this","this","apply","arguments","state","error","undefined","info","componentStack","setState","_this$props","message","description","children","_this$state","errorMessage","toString","errorDescription","type","Component","_extends2","_slicedToArray2","_defineProperty2","_CheckCircleFilled","_CheckCircleOutlined","_CloseCircleFilled","_CloseCircleOutlined","_CloseOutlined","_ExclamationCircleFilled","_ExclamationCircleOutlined","_InfoCircleFilled","_InfoCircleOutlined","_classnames","_rcMotion","_configProvider","_getDataOrAriaProps","_reactNode","_ErrorBoundary","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","iconMapFilled","success","warning","iconMapOutlined","IconNode","prefixCls","iconType","replaceElement","className","concat","CloseIcon","isClosable","closeText","closeIcon","handleClose","onClick","tabIndex","Alert","_a","_classNames2","customizePrefixCls","banner","_a$className","style","onMouseEnter","onMouseLeave","afterClose","showIcon","closable","_a$closeIcon","action","_React$useState","useState","_React$useState2","closed","setClosed","useRef","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","onClose","getType","isShowIcon","alertCls","dataOrAriaProps","visible","motionName","motionAppear","motionEnter","onLeaveStart","node","maxHeight","offsetHeight","onLeaveEnd","_ref","motionClassName","motionStyle","role","_typeof2","_toConsumableArray2","_LoadingOutlined","_rcCascader","_omit","_defaultRenderEmpty","_DisabledContext","_SizeContext","_context","_iconUtil","_motion","_statusUtils","SHOW_CHILD","SHOW_PARENT","defaultSearchRender","inputValue","path","fieldNames","optionList","lower","toLowerCase","forEach","index","push","label","str","lowerKeyword","cells","split","list","cur","fillCells","start","cell","end","originWorld","slice","highlightKeyword","String","Cascader","customizeSize","size","customDisabled","disabled","multiple","_props$bordered","bordered","transitionName","_props$choiceTransiti","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","_props$allowClear","allowClear","notFoundContent","getPopupContainer","customStatus","status","showArrow","rest","restProps","_useContext","getContextPopupContainer","renderEmpty","rootDirection","mergedDirection","isRtl","_useContext2","FormItemInputContext","contextStatus","hasFeedback","isFormItemInput","feedbackIcon","mergedStatus","getMergedStatus","mergedNotFoundContent","rootPrefixCls","cascaderPrefixCls","mergedDropdownClassName","mergedShowSearch","useMemo","searchConfig","render","mergedSize","mergedDisabled","mergedExpandIcon","loadingIcon","spin","checkable","mergedShowArrow","loading","_getIcons","suffixIcon","removeIcon","clearIcon","getStatusClassNames","inputIcon","dropdownPrefixCls","getTransitionName","getTransitionDirection","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","removeFromCheckedKeys","halfCheckedKeys","checkedKeys","filteredKeys","Set","has","add","isCheckDisabled","disableCheckbox","conductCheck","keyList","checked","keyEntities","getCheckDisabled","syntheticGetCheckDisabled","warningMissKeys","result","filter","hasEntity","levelEntities","Map","maxLevel","entity","level","levelSet","get","set","Math","max","map","join","_entity$children","childEntity","visitedKeys","_level","parent","allChecked","partialChecked","_ref2","Array","from","fillConductCheck","halfKeys","_entity$children2","delete","_level2","_ref3","cleanConductCheck","VALUE_SPLIT","toPathKey","toPathKeys","isLeaf","option","_option$isLeaf","_option$fieldNames$ch","scrollIntoParentView","parentElement","elementToParent","offsetTop","scrollTop","scrollTo","top","formatStrategyValues","pathKeys","getKeyPathEntities","showCheckedStrategy","valueSet","keyPathEntities","some","child","toPathOptions","valueCells","options","stringMode","currentList","valueOptions","_loop","_currentList","_currentList2","_foundOption$fieldNam","valueCell","foundIndex","findIndex","val","foundOption","TreeContext","Indent","isStart","isEnd","baseClassName","_classNames","classNames","_defineProperty","_excluded","ICON_OPEN","ICON_CLOSE","InternalTreeNode","_inherits","_createSuper","_classCallCheck","_len","args","_key","dragNodeHighlight","selectHandle","onSelectorClick","onNodeClick","context","convertNodePropsToEventData","isSelectable","onSelect","onCheck","onSelectorDoubleClick","onNodeDoubleClick","isDisabled","onNodeSelect","preventDefault","onNodeCheck","isCheckable","targetChecked","onNodeMouseEnter","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","stopPropagation","_assertThisInitialized","dataTransfer","setData","onDragEnter","onNodeDragEnter","onDragOver","onNodeDragOver","onDragLeave","onNodeDragLeave","onDragEnd","onNodeDragEnd","onDrop","onNodeDrop","onExpand","_this$props2","onNodeExpand","setSelectHandle","getNodeState","expanded","hasChildren","eventKey","_this$props3","loaded","loadData","treeCheckable","syncLoadData","_this$props$context","onNodeLoad","isDraggable","_this$props4","data","draggable","nodeDraggable","renderDragHandler","_this$props$context2","renderSwitcherIconDom","switcherIconFromProps","switcherIcon","switcherIconFromCtx","_objectSpread","renderSwitcher","_switcherIconDom","switcherCls","switcherIconDom","renderCheckbox","_this$props5","halfChecked","$custom","renderIcon","renderSelector","$icon","titleNode","_this$props6","title","selected","_this$props$context3","treeIcon","titleRender","wrapClass","currentIcon","$title","onDoubleClick","renderDropIndicator","_this$props7","_this$props$context4","dropLevelOffset","dropPosition","indent","dropIndicatorRender","dragOverNodeKey","_createClass","selectable","treeSelectable","_this$props8","dragOver","dragOverGapTop","dragOverGapBottom","domRef","active","onMouseMove","otherProps","_objectWithoutProperties","_this$props$context5","filterTreeNode","dropContainerKey","dropTargetKey","draggingNodeKey","dataOrAriaAttributeProps","pickAttrs","aria","isEndNode","mergedDraggable","draggableWithoutDisabled","dragging","ariaSelected","_extends","ContextTreeNode","Consumer","defaultProps","isTreeNode","getKey","pos","fillFieldNames","mergedTitle","_title","traverseDataNodes","dataNodes","callback","config","syntheticGetKey","_mergedConfig","_typeof","externalGetKey","childrenPropName","_fillFieldNames2","fieldKey","fieldChildren","mergeChildrenPropName","processNode","pathNodes","getPosition","connectNodes","_toConsumableArray","parentPos","nodes","subNode","subIndex","eventData","cacheRef","getEntities","current","initWrapper","processEntity","onProcessFinished","legacyExternalGetKey","mergedExternalGetKey","posEntities","wrapper","item","mergedKey","convertDataToEntities","pathKeyEntities","pathKey","useRefFunc","funcRef","cacheFn","SEARCH_MARK","defaultFilter","search","opt","includes","defaultRender","Checkbox","CascaderContext","customCheckbox","FIX_LABEL","Column","activeValue","prevValuePath","onToggleOpen","onActive","checkedSet","halfCheckedSet","loadingKeys","menuPrefixCls","menuItemPrefixCls","changeOnSelect","expandTrigger","dropdownMenuColumnStyle","hoverOpen","optionInfoList","_option$FIX_LABEL","searchOptions","isMergedLeaf","fullPath","fullPathKey","isLoading","triggerOpenPath","triggerSelect","onMouseDown","activeValueCells","setActiveValueCells","onKeyBoardSelect","_useBaseProps","useBaseProps","searchValue","toggleOpen","open","rtl","_React$useMemo","activeIndex","currentOptions","mergedActiveIndexes","mergedActiveValueCells","len","nextActiveIndex","activeOptions","_i","_React$useMemo2","_slicedToArray","validActiveValueCells","lastActiveIndex","lastActiveOptions","internalSetActiveValueCells","next","prevColumn","nextActiveCells","nextColumn","_lastActiveOptions$la","nextOption","find","onKeyDown","event","which","KeyCode","offset","currentIndex","offsetActiveOption","originOptions","onKeyUp","RefOptionList","_optionColumns$","_optionColumns$$optio","containerRef","values","halfValues","mergedPrefixCls","setLoadingKeys","loadingKey","lastOption","_useActive","firstValueCells","useActive","_useActive2","onPathOpen","nextValueCells","rawOptions","internalLoadData","onPathSelect","valuePath","leaf","fromKeyboard","mergedOptions","optionColumns","activeValueCell","currentOption","subOptions","useKeyboard","selectValueCells","_containerRef$current","cellKeyPath","ele","querySelector","replace","isEmpty","emptyList","columnProps","columnNodes","col","toRawValues","isArray","isMultipleValue","id","_props$prefixCls","defaultValue","onChange","displayRender","onSearch","popupVisible","popupPlacement","onDropdownVisibleChange","onPopupVisibleChange","_props$expandIcon","_props$dropdownMatchS","dropdownMatchSelectWidth","_props$showCheckedStr","mergedId","useId","_useMergedState","useMergedState","postState","_useMergedState2","rawValues","setRawValues","mergedFieldNames","JSON","stringify","getPathKeyEntities","useEntities","getValueByKeyPath","_useMergedState3","_useMergedState4","mergedSearchValue","setSearchValue","_useSearchConfig","matchInputWidth","limit","useSearchConfig","_useSearchConfig2","_config$filter","_config$render","_config$limit","sort","filteredOptions","dig","pathOptions","connectedPathOptions","a","b","useSearchOptions","getMissingValues","missingValues","existsValues","every","useMissingValues","_getMissingValues","_getMissingValues2","existValues","_conductCheck","checkedValues","halfCheckedValues","missingCheckedValues","displayValues","mergedDisplayRender","labels","mergedLabels","keyedLabel","_valueOptions","_valueOptions$option","_option$fieldNames$la","useDisplayValues","deduplicateKeys","triggerChange","nextValues","nextRawValues","valueOpt","triggerValues","triggerOptions","onInternalSelect","checkedPathKeys","halfCheckedPathKeys","existInChecked","existInMissing","nextCheckedValues","nextMissingValues","nextRawCheckedKeys","deDuplicatedKeys","mergedOpen","mergedPlacement","cascaderContext","emptyOptions","dropdownStyle","minWidth","BaseSelect","onDisplayValuesChange","mode","searchText","source","OptionList","nextVisible","getRawInputElement","WUJIE_DATA_ID","WUJIE_DATA_FLAG","CONTAINER_POSITION_DATA_FLAG","CONTAINER_OVERFLOW_DATA_FLAG","LOADING_DATA_FLAG","WUJIE_DATA_ATTACH_CSS_FLAG","WUJIE_ALL_EVENT","WUJIE_SHADE_STYLE","WUJIE_TIPS_RELOAD_DISABLED","WUJIE_TIPS_STOP_APP","WUJIE_TIPS_NO_SUBJECT","WUJIE_TIPS_SCRIPT_ERROR_REQUESTED","WUJIE_TIPS_CSS_ERROR_REQUESTED","WUJIE_TIPS_REPEAT_RENDER","isFunction","wujieSupport","window","Proxy","CustomElementRegistry","naughtySafari","document","all","callableFnCacheMap","WeakMap","isCallable","fn","callable","boundedMap","isBoundedFunction","bounded","fnRegexCheckCacheMap","isConstructable","hasPrototypeMethods","constructor","getOwnPropertyNames","constructable","fnString","test","setFnCacheMap","getTargetValue","target","boundValue","Function","bind","enumerable","writable","getDegradeIframe","appRouteParse","url","urlElement","anchorElementGenerator","appHostPath","protocol","host","appRoutePath","pathname","hash","href","getAnchorElementQueryMap","anchorElement","queryList","queryMap","query","isMatchSyncQueryById","fixElementCtrSrcOrHref","iframeWindow","elementCtr","attr","rawElementSetAttribute","Element","setAttribute","targetValue","getAbsolutePath","baseURI","rawAnchorElementHrefDescriptor","getOwnPropertyDescriptor","configurable","getCurUrl","proxyLocation","base","URL","requestIdleCallback","cb","setTimeout","getContainer","container","warn","msg","console","getInlineCode","match","lastIndexOf","substring","defaultGetPublicPath","entry","origin","paths","pop","compose","fnList","code","newCode","nextTick","Promise","resolve","then","execHooks","plugins","hookName","plugin","hook","mergeOptions","cacheOptions","el","exec","fetch","sync","prefix","attrs","fiber","alive","degrade","lifecycles","beforeLoad","beforeMount","afterMount","beforeUnmount","afterUnmount","activated","deactivated","loadError","eventTrigger","eventName","detail","CustomEvent","createEvent","initCustomEvent","dispatchEvent","ALL_SCRIPT_REGEX","SCRIPT_TAG_REGEX","SCRIPT_SRC_REGEX","SCRIPT_TYPE_REGEX","SCRIPT_ENTRY_REGEX","SCRIPT_ASYNC_REGEX","DEFER_ASYNC_REGEX","SCRIPT_NO_MODULE_REGEX","SCRIPT_MODULE_REGEX","LINK_TAG_REGEX","LINK_PRELOAD_OR_PREFETCH_REGEX","LINK_HREF_REGEX","LINK_AS_FONT","STYLE_TAG_REGEX","STYLE_TYPE_REGEX","STYLE_HREF_REGEX","HTML_COMMENT_REGEX","LINK_IGNORE_REGEX","STYLE_IGNORE_REGEX","SCRIPT_IGNORE_REGEX","CROSS_ORIGIN_REGEX","hasProtocol","getEntirePath","genLinkReplaceSymbol","linkHref","preloadOrPrefetch","getInlineStyleReplaceSymbol","genIgnoreAssetReplaceSymbol","genModuleScriptReplaceSymbol","scriptSrc","moduleSupport","processTpl","tpl","postProcessTemplate","scripts","styles","template","styleHref","styleIgnore","newHref","src","content","scriptTag","scriptIgnore","isModuleScript","isCrossOriginScript","crossOriginType","moduleScriptIgnore","matchedScriptTypeMatch","matchedScriptType","matchedScriptEntry","matchedScriptSrcMatch","matchedScriptSrc","SyntaxError","isAsyncScript","isDeferScript","async","defer","crossorigin","crossoriginType","genScriptReplaceSymbol","line","trim","tplResult","getCssLoader","cssLoader","getPresetLoaders","loaderType","res","loaders","preLoaders","curLoaders","reverse","getEffectLoaders","isMatchUrl","effectLoaders","loader","defaultPlugin","baseUrl","_m","pre","post","getPlugins","styleCache","scriptCache","embedHTMLCache","defaultFetch","defaultGetTemplate","processCssLoader","sandbox","getExternalStyleSheets","curUrl","composeCssLoader","processedCssList","ignore","contentPromise","getEmbedHTML","embedHTML","styleResultList","styleResult","isInlineCode","fetchAssets","cache","cssFlag","response","text","getExternalScripts","script","reject","importHTML","opts","htmlLoader","jsExcludes","cssExcludes","jsIgnores","cssIgnores","getPublicPath","getHtmlParseResult","html","assetPublicPath","idToSandboxCacheMap","__POWERED_BY_WUJIE__","__WUJIE","inject","idToSandboxMap","getWujieById","wujie","getOptionsById","documentProxyProperties","appDocumentAddEventListenerEvents","appDocumentOnEvents","mainDocumentAddEventListenerEvents","mainAndAppAddEventListenerEvents","appWindowAddEventListenerEvents","appWindowOnEvent","relativeElementTagAttrMap","IMG","A","SOURCE","windowProxyProperties","windowRegWhiteList","rawElementAppendChild","HTMLElement","appendChild","rawElementRemoveChild","removeChild","rawHeadInsertBefore","HTMLHeadElement","insertBefore","rawBodyInsertBefore","HTMLBodyElement","rawAddEventListener","EventTarget","addEventListener","rawRemoveEventListener","removeEventListener","rawAppendChild","Node","rawDocumentQuerySelector","__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__","Document","manualInvokeElementEvent","elementGetter","customEvent","patchedEvent","defineProperties","srcElement","handleStylesheetElementPatch","stylesheetElement","innerHTML","_patcher","clearTimeout","getPatchStyleElements","sheet","hostStyleSheetElement","fontStyleSheetElement","shadowRoot","head","rewriteAppendOrInsertChild","newChild","refChild","tagName","rawDOMAppendOrInsertBefore","wujieId","styleSheetElements","iframe","toUpperCase","patchElementEffect","contentWindow","iframeDocument","contentDocument","_element$tagName","rel","endsWith","_this5","comment","createComment","_hasPatchStyle","innerHTMLDesc","innerTextDesc","textContentDesc","RawInsertRule","_stylesheetElement$sh","insertRule","patchSheetInsertRule","innerText","_this2","textContent","_this3","_this4","nodeType","TEXT_NODE","ownerDocument","createTextNode","rule","patchStylesheetElement","crossOrigin","execScript","scriptResult","insertScriptToIframe","onload","execQueue","execQueueLength","_sandbox$execQueue","shift","_sandbox$execQueue2","getAttribute","patchScript","firstChild","patchEventListener","listenerMap","_cacheListeners","listener","listeners","typeListeners","splice","entries","patchRenderEffect","body","cssSelectorMap","WujieApp","attachShadow","unmount","createWujieWebComponent","contentElement","classList","renderElementToContainer","selectorOrElement","contains","clearChild","processCssLoaderForTemplate","cssBeforeLoaders","cssAfterLoaders","contentList","styleElement","renderTemplateToHtml","execFlag","headElement","bodyElement","cloneNode","parentNode","replaceChild","replaceHeadAndBody","ElementIterator","createTreeWalker","NodeFilter","SHOW_ELEMENT","nextElement","currentNode","relativeAttr","nextNode","renderTemplateToShadowRoot","_context2","processedHtml","shade","createIframeContainer","renderTemplateToIframe","renderDocument","_context3","firstElementChild","root","addLoading","containerStyles","getComputedStyle","position","overflow","setProperty","loadingContainer","removeLoading","positionFlag","overflowFlag","removeProperty","removeAttribute","rootStyleSheets","rootCssRules","fontCssRules","rootStyleReg","cssRules","_rootStyleSheets$i","j","cssRuleText","cssText","CSSRule","FONT_FACE_RULE","rootStyleSheetElement","syncUrlToWindow","winUrlElement","validShortPath","shortPath","longPath","encodeURIComponent","newQuery","history","replaceState","syncUrlToIframe","idUrl","syncUrl","decodeURIComponent","_syncUrl$match","getSyncUrl","mainHostPath","clearInactiveAppUrl","clearFlag","_sandbox$shadowRoot","hrefFlag","updateBase","_iframeWindow$locatio","baseElement","recoverEventListeners","rootElement","elementEventCacheMap","elementListenerList","handler","recoverDocumentListeners","oldRootElement","newRootElement","patchEventTimeStamp","targetWindow","Event","timeStamp","initIframeDom","iframeUrlElement","appUrlElement","initBase","processWindowProperty","reg","descriptor","patchWindowEffect","handlerCallbackMap","handlerTypeMap","typeList","elementOnEvents","documentOnEvent","ownerProperties","shadowProperties","shadowMethods","documentProperties","documentMethods","documentEvents","propKey","proxyDocument","patchDocumentEffect","rawGetRootNode","getRootNode","rootNode","patchNodeEffect","HTMLImageElement","HTMLAnchorElement","HTMLSourceElement","HTMLLinkElement","HTMLScriptElement","patchRelativeUrlEffect","_hasPatch","scriptElement","nextScriptElement","jsLoader","getJsLoader","renderIframeReplaceApp","iframeGenerator","attrsMerge","__WUJIE_PUBLIC_PATH__","$wujie","provide","__WUJIE_RAW_WINDOW__","__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__","querySelectorAll","patchIframeVariable","iframeReady","loop","stop","stopIframeLoading","rawHistoryPushState","pushState","rawHistoryReplaceState","mainUrl","ignoreFlag","patchIframeHistory","patchIframeEvents","recordEventListeners","syncIframeUrlToWindow","locationHrefSet","hrefElement","iframeBody","pushUrlToWindow","proxyGenerator","proxyWindow","proxy","checkProxyFunction","_fakeDocument","_ctx","arg","activeElement","_fakeLocation","_args$","ownKeys","_target","appEventObjMap","EventBus","$clear","eventObj","cbs","$on","on","$off","allCbs","l","Wujie","bus","documentURI","getElementsByTagName","modifyLocalProperties","locationKeys","constantKey","reload","localGenerator","wujieCache","addSandboxCacheWithWujie","iframeFetch","input","init","onunload","patchCssRules","scriptResultList","beforeScriptResultList","afterScriptResultList","syncScriptResultList","asyncScriptResultList","deferScriptResultList","beforeScriptResult","mount","domContentLoadedTrigger","afterScriptResult","domLoadedTrigger","__WUJIE_UNMOUNT","mountFlag","__WUJIE_MOUNT","deleteWujieById","styleSheetElement","hasAttribute","Date","now","startApp","startOptions","preload","_yield$importHTML2","destroy","rebuildStyleSheets","newSandbox","WuJie","_yield$importHTML3","customElements","define","WujieReact","myRef","log","startAppQueue","execStartApp","width","height","propTypes","addSandboxCacheWithOptions","preOptions","runPreload","_yield$importHTML","runtime","regeneratorRuntime","accidentalStrictMode","globalThis"],"sourceRoot":""}